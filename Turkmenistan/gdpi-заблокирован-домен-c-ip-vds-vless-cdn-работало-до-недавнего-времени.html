
    <html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style>
    th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      word-wrap: break-word;
      padding: 5px;
    }
    table {
      width: 100%;
      max-width: 100%;
      border: 1px solid black;
      border-collapse: collapse;
      table-layout: fixed;
      word-wrap: break-word
    }
    code {
      word-wrap: break-word;
    }
    pre {
        white-space: pre-wrap;
    }
    </style>
        <title>gdpi-заблокирован-домен-c-ip-vds-vless-cdn-работало-до-недавнего-времени</title>
      </head>
      <body>
        <table border="1" width="100%" cellpadding="5">
          <tr>
            <th style="width: 10%;">Ник</th>
            <th>Пост</th>
            <th style="width: 10%;">Дата</th>
          </tr>
    <tr><td>vitorgan(Vitorgan)</td><td><p>Привет. Очень долго пользовался такой связкой в ТМ. Через GDPI с подобранным TTL пропускал обычный VLESS WS настроеный на работу через CDN CF. При этом Сервер VDS и мой домен были заблокированы. И эта связка работала, если удавалось найти рабочий IP адрес CF. Буквально месяц назад, работать это дело прекратило. Я и TTL менял в GDPI и P адрес CF в конфиге V2ray, всё безрезультатно. Сложилось впечатление, что введен просто белый список доменов, всё, что не в белом списке, не проходит, возможно бред. Ведь сам GDPI не может не работать???<br>
Почитал на хабре ряд статей, в которых написано, что вроде можно проксировать через CDN CF уже VLESS Reality. Можете мне подсказать, кто в теме, смогу я реализовать для себя обход с моим заблокированным Сервером VDS и заблокированым доменом такое решение в ТМ? Так как живых IP адресов для установки чистого VLESS Reality я найти не в состоянии, барыги уже все адреса под себя поджали походу.<br>
Хотелось бы, если решение все же рабочее есть, получить помощь только в Личку. Спасибо.</p></td><td>2024-06-28T07:07:56.005Z</td></tr><tr><td>Uporoty(Uporoty)</td><td><p>Это что за статьи, где говорилось что VLESS Reality может работать через CDN? Там наоборот всегда писали, что работа Reality через CDN невозможна.</p>
<p>Но через CDN может работать domain fronting (суть которого немного схожа - прикрывание чужим доменом). Но в настоящее время большая проблема найти CDN, которая разрешает fronting.</p></td><td>2024-07-01T06:06:38.541Z</td></tr><tr><td>vitorgan(Vitorgan)</td><td><p>В первых статьях говорилось, что VLESS Reality невозможно направить на CDN. Но сейчас в той же статье, уже появилось исправление, теперь можно сделать так, чтобы VLESS Reality перенаправлялся на CDN через ws/gprs в случае, если ВДС провайдер заблокировал, но мне не понятно, нужен ли там рабочий домен, или можно так же с заблокированого домена работать. Если вариант, только с рабочим доменом, тогда это не мой случай. Я бы сам попробовал, прежде чем задавать вопрос, но мне нужно знать, чтоб потом не тратить время впустую, будет ли такая связка работать с нерабочим доменом. Если да, то буду пробовать.</p></td><td>2024-07-02T05:15:53.355Z</td></tr><tr><td>Uporoty(Uporoty)</td><td><p>Можно ссылку на статью? Очень интересно посмотреть. Потому что через CDN с WS/gRPC может работать только просто VLESS, но без Reality.<br>
В большинстве случаев нужен рабочий домен (с теми CDN, что не требуют делегирования домена на их NS, а позволяют работать через CNAME, хватит даже бесплатного домена). Без домена можно обойтись только если CDN разрешает domain fronting, а таких в наши дни все меньше и меньше.</p></td><td>2024-07-02T05:25:06.943Z</td></tr><tr><td>vitorgan(Vitorgan)</td><td><p>В личку отправил.</p></td><td>2024-07-02T05:42:35.662Z</td></tr><tr><td>Uporoty(Uporoty)</td><td><p>А вы точно ту часть статьи внимательно читали?) Там речь идёт не про Reality через CDN, а про настройку на  сервере одновременно и Reality <em>и</em> доступа через CDN (но уже без Reality). То есть два варианта подключения работающие независимо друг от друга.</p>
<p>Если вам надо через CDN, то из известных есть такие варианты:<br>
Cloudflare - вебсокеты и grpc, нужен свой домен;</p>
<p>GCore - вебсокеты, нужен свой домен (подойдёт даже бесплатный с <a href="http://dynu.com" rel="noopener nofollow ugc">dynu.com</a>);</p>
<p>Amazon Cloudfront - вебсокеты, домен нужен только для передачи между CDN и вашим сервером (также подойдёт бесплатный), цензорам он не будет виден; цензоры увидят домен <a href="http://xxxxx.cloudfront.net" rel="noopener nofollow ugc">xxxxx.cloudfront.net</a> (у каждого клиента xxxxxx будут свои);</p>
<p>Fastly - вебсокеты за деньги, первые 15 дней бесплатно. Fastly единственная из упомянутых CDN, которая разрешала domain fronting, то есть вы можете использовать домен например <a href="http://spotify.com" rel="noopener nofollow ugc">spotify.com</a>, и ещё сотен других популярных сайтов которые тоже используют Fastly CDN. Но у них в конце прошлого года было объявление, что они хотят фронтинг запретить, поэтому не знаю как и что там сейчас;</p>
<p>CDN77 и MS Azure - вроде разрешают фронтинг, но не умеют в вебсокеты. В свежих версиях XRay появился новый транспорт split tunnel, он в теории должен сработать, но надо пробовать.</p>
<p>Про domain fronting есть хорошая подробная статья у того же автора.</p></td><td>2024-07-02T09:24:39.600Z</td></tr><tr><td>Uporoty(Uporoty)</td><td><p>И ещё интересный нюанс про GCore - если не использовать TLS (а например просто split tunnel + vmess), то там можно прикрепить к своему ресурсу вообще любой чужой домен, который не использует GCore, например <a href="http://vk.com" rel="noopener nofollow ugc">vk.com</a> или ещё что-нибудь <img src="https://ntc.party/images/emoji/twitter/slight_smile.png?v=12" title=":slight_smile:" class="emoji" alt=":slight_smile:" loading="lazy" width="20" height="20"> и туннелиться по голому HTTP через сервера GCore с этим левым доменом в Host-заголовке. Да, без TLS, да, потому что сертификата не будет, но в каких-то случаях даже такой вариант может оказаться полезным.</p></td><td>2024-07-02T09:26:13.383Z</td></tr><tr><td>vitorgan(Vitorgan)</td><td><p>Ясно. Спасибо. Теперь понял, что со своим старым доменом и старым VDS ничего не получится.</p></td><td>2024-07-03T07:19:39.154Z</td></tr>
    </table>
      </body>
    </html>