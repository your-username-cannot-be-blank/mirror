[
    {
        "id": 12057,
        "name": null,
        "username": "ValdikSS",
        "avatar_template": "/user_avatar/ntc.party/valdikss/{size}/2_2.png",
        "created_at": "2023-02-19T09:07:22.151Z",
        "cooked": "<p>I’ve discovered an interesting feature of censorship of the services which use Fastly. On Turkmentelecom and AGTS, the connection could be established only if the domain exist, i.e. does not return NXDOMAIN.</p>\n<p>I used the following domains during the test:</p>\n<ul>\n<li>\n<code>dev.talent.stackoverflow.com</code>, resolves to <code>198.252.206.27</code>\n</li>\n<li>\n<code>dev-bonfire.stackoverflow.com</code>, does not resolve (NXDOMAIN), but set up with proper SSL certificate on Fastly</li>\n</ul>\n<p>The connection is made to one of <code>stackoverflow.com</code> IP address for both domains.</p>\n<pre data-code-wrap=\"sh\"><code class=\"lang-plaintext\">$ host -t a dev.talent.stackoverflow.com\ndev.talent.stackoverflow.com has address 198.252.206.27\n\n$ host -t a dev-bonfire.stackoverflow.com\nHost dev-bonfire.stackoverflow.com not found: 3(NXDOMAIN)\n\n$ host -t a stackoverflow.com\nstackoverflow.com has address 151.101.193.69\nstackoverflow.com has address 151.101.65.69\nstackoverflow.com has address 151.101.1.69\nstackoverflow.com has address 151.101.129.69\n\n# This is fine, the cert is expired for this domain on Fastly\n$ curl --connect-to ::151.101.1.69:443 https://dev.talent.stackoverflow.com -v\n* Cert verify failed: BADCERT_EXPIRED\ncurl: (60) Cert verify failed: BADCERT_EXPIRED\n\n# This domain is NXDOMAIN\n$ curl --connect-to ::151.101.1.69:443 https://dev-bonfire.stackoverflow.com -v\n* ssl_handshake returned - mbedTLS: (-0x0050) NET - Connection was reset by peer\ncurl: (35) ssl_handshake returned - mbedTLS: (-0x0050) NET - Connection was reset by peer\n\n# Trying again\n$ curl --connect-to ::151.101.1.69:443 https://dev-bonfire.stackoverflow.com -v\n* ssl_handshake returned - mbedTLS: (-0x0050) NET - Connection was reset by peer\ncurl: (35) ssl_handshake returned - mbedTLS: (-0x0050) NET - Connection was reset by peer\n\n# And trying over uncensored connection\n$ curl --connect-to ::151.101.1.69:443 https://dev-bonfire.stackoverflow.com -v\n* Connecting to hostname: 151.101.1.69\n* Connecting to port: 443\n*   Trying 151.101.1.69:443...\n* Connected to (nil) (151.101.1.69) port 443 (#0)\n* ALPN: offers h2\n* ALPN: offers http/1.1\n*  CAfile: /etc/pki/tls/certs/ca-bundle.crt\n*  CApath: none\n* TLSv1.0 (OUT), TLS header, Certificate Status (22):\n* TLSv1.3 (OUT), TLS handshake, Client hello (1):\n* TLSv1.2 (IN), TLS header, Certificate Status (22):\n* TLSv1.3 (IN), TLS handshake, Server hello (2):\n* TLSv1.2 (IN), TLS header, Certificate Status (22):\n* TLSv1.2 (IN), TLS handshake, Certificate (11):\n* TLSv1.2 (IN), TLS header, Certificate Status (22):\n…\n</code></pre>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2023-03-04T10:24:38.441Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 159,
        "reads": 74,
        "readers_count": 73,
        "score": 809.8,
        "yours": false,
        "topic_id": 3871,
        "topic_slug": "domain-existence-check-for-fastly-ips",
        "display_username": null,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
            {
                "url": "https://ntc.party/t/measuring-and-evading-turkmenistan%E2%80%99s-internet-censorship-a-case-study-in-large-scale-measurements-of-a-low-penetration-country/4902/6",
                "internal": true,
                "reflection": true,
                "title": "Measuring and Evading Turkmenistan’s Internet Censorship: A Case Study in Large-Scale Measurements of a Low-Penetration Country",
                "clicks": 1
            }
        ],
        "read": true,
        "user_title": "AntiZapret staff",
        "title_is_group": false,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": true,
        "admin": true,
        "staff": true,
        "user_id": 1,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/domain-existence-check-for-fastly-ips/3871/1",
        "can_translate": false
    },
    {
        "id": 12246,
        "name": null,
        "username": "ValdikSS",
        "avatar_template": "/user_avatar/ntc.party/valdikss/{size}/2_2.png",
        "created_at": "2023-03-04T10:24:47.236Z",
        "cooked": "<p>The same applies to AGTS.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2023-03-04T10:24:47.236Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 70,
        "readers_count": 69,
        "score": 19.0,
        "yours": false,
        "topic_id": 3871,
        "topic_slug": "domain-existence-check-for-fastly-ips",
        "display_username": null,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "AntiZapret staff",
        "title_is_group": false,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": true,
        "admin": true,
        "staff": true,
        "user_id": 1,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/domain-existence-check-for-fastly-ips/3871/2",
        "can_translate": false
    },
    {
        "id": 12299,
        "name": null,
        "username": "ValdikSS",
        "avatar_template": "/user_avatar/ntc.party/valdikss/{size}/2_2.png",
        "created_at": "2023-03-07T16:08:27.033Z",
        "cooked": "<p>A post was merged into an existing topic: <a href=\"/t/vps/2804/6\">VPS в Туркменистане</a></p>",
        "post_number": 3,
        "post_type": 3,
        "posts_count": 3,
        "updated_at": "2023-03-07T16:08:27.033Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 67,
        "readers_count": 66,
        "score": 28.4,
        "yours": false,
        "topic_id": 3871,
        "topic_slug": "domain-existence-check-for-fastly-ips",
        "display_username": null,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
            {
                "url": "https://ntc.party/t/vps/2804/6",
                "internal": true,
                "reflection": false,
                "title": "VPS в Туркменистане",
                "clicks": 0
            }
        ],
        "read": true,
        "user_title": "AntiZapret staff",
        "title_is_group": false,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": true,
        "admin": true,
        "staff": true,
        "user_id": 1,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "action_code": "split_topic",
        "post_url": "/t/domain-existence-check-for-fastly-ips/3871/3",
        "can_translate": false
    }
]