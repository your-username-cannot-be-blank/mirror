
    <html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style>
    th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      word-wrap: break-word;
      padding: 5px;
    }
    table {
      width: 100%;
      max-width: 100%;
      border: 1px solid black;
      border-collapse: collapse;
      table-layout: fixed;
      word-wrap: break-word
    }
    code {
      word-wrap: break-word;
    }
    pre {
        white-space: pre-wrap;
    }
    </style>
        <title>настройка-ssh-payload</title>
      </head>
      <body>
        <table border="1" width="100%" cellpadding="5">
          <tr>
            <th style="width: 10%;">Ник</th>
            <th>Пост</th>
            <th style="width: 10%;">Дата</th>
          </tr>
    <tr><td>Lexus(Lexus)</td><td><p>Нужна помощь в настройке ssh payload, который будет работать в ТМ. На данный момент данный payload уже заблокирован: GET wss://bughost/ HTTP/1.0[crlf]Host: ssh-host[crlf]Connection: Keep-Alive[crlf]Upgrade: websocket[crlf][crlf]</p>
<p>На данный момент не знаю как из вариантов есть рабочий. Кто в этом соображает просьба помочь.</p>
<p>А также если есть кто может разобраться в декомпиляции, форматировании и сборке апк то напишите мне в ЛС. Нужно пересобрать psiphon по новым данным, но я не знаю как.</p></td><td>2022-12-09T10:42:45.532Z</td></tr><tr><td>tango</td><td><p>I don’t know what you mean when you say “ssh payload”. Is it a prefix to add to Psiphon Obfuscated SSH connections? I did not know that was something you can configure.</p>
<p>The only thing that comes to mind is Outline’s recent addition of prefix support:</p>
<aside class="onebox githubpullrequest" data-onebox-src="https://github.com/Jigsaw-Code/outline-apps/pull/1454#issue-1423138573">
  <header class="source">

      <a href="https://github.com/Jigsaw-Code/outline-apps/pull/1454#issue-1423138573" target="_blank" rel="noopener">github.com/Jigsaw-Code/outline-apps</a>
  </header>

  <article class="onebox-body">
    <div class="github-row" data-github-private-repo="false">



    <div class="github-icon-container" title="Pull Request">
      <svg width="60" height="60" class="github-icon" viewBox="0 0 12 16" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
    </div>

  <div class="github-info-container">



      <h4>
        <a href="https://github.com/Jigsaw-Code/outline-apps/pull/1454#issue-1423138573" target="_blank" rel="noopener">feat: salt prefix support</a>
      </h4>

    <div class="branches">
      <code>Jigsaw-Code:master</code> ← <code>Jigsaw-Code:bemasc-prefix</code>
    </div>

      <div class="github-info">
        <div class="date">
          opened <span class="discourse-local-date" data-format="ll" data-date="2022-10-25" data-time="21:32:24" data-timezone="UTC">09:32PM - 25 Oct 22 UTC</span>
        </div>

        <div class="user">
          <a href="https://github.com/bemasc" target="_blank" rel="noopener">
            <img alt="bemasc" src="настройка-ssh-payload/64b4eafcf4ebe5ded9af35771fff7b7da1b4fa23.jpeg" class="onebox-avatar-inline" width="20" height="20" data-dominant-color="91985D">
            bemasc
          </a>
        </div>

        <div class="lines" title="16 commits changed 48 files with 594 additions and 709 deletions">
          <a href="https://github.com/Jigsaw-Code/outline-apps/pull/1454/files" target="_blank" rel="noopener">
            <span class="added">+594</span>
            <span class="removed">-709</span>
          </a>
        </div>
      </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">This is an **experimental** version of Outline with "custom salt prefix" support<span class="show-more-container"><a href="https://github.com/Jigsaw-Code/outline-apps/pull/1454" target="_blank" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">, currently working on Windows, Linux, and Android.  It has not yet been tested on macOS/iOS.  A [pre-built APK](https://github.com/Jigsaw-Code/outline-client/raw/c4775ecc92999edc5841f02ce4ba35f7c8f61f1a/app-debug.apk) is available for Android.

Custom salt prefixes are **experimental** and are **not as secure** as standard Outline, so this version should be used **only for testing**.

To use the prefix feature with [Dynamic Keys](https://www.reddit.com/r/outlinevpn/wiki/index/dynamic_access_keys/), add a `"prefix"` key to the JSON object, with a string value representing the prefix you want.  (You can use escape codes like `\xFF` to represent non-printable byte values.)  The prefix is a freeform string of up to 32 bytes, each represented as a unicode codepoint in the U+0 to U+FF range.

To use this feature with `ss://` Access Keys, add a URL parameter like `&amp;prefix=...` to the ss:// URL's query parameters, so that the URL looks like `.../?outline=1&amp;prefix=OUTLINE#Name-of-the-server`.  You must use the `encodeURIComponent()` function to convert your prefix into escaped form suitable for inclusion in a URL.

Possible prefixes of interest (note: longer prefixes are less secure):

| JSON | URI-encoded|
|------------------|---------|
| `"POST "` | `POST%20` |
| `"HTTP/1.1"` | `HTTP%2F1.1` |
| `"POST / HTTP/1.1"` | `POST%20%2F%20HTTP%2F1.1` |
| `"GET / HTTP/1.1\r\n\r\n"` | `GET%20%2F%20HTTP%2F1.1%0D%0A%0D%0A` |
| [`"\u0016\u0003\u0001\u0002\u0000"`](https://geneva.cs.umd.edu/posts/iran-whitelister/#:~:text=Example%3A%20GET%20testing123-,HTTPS%20Fingerprint,-The%20HTTPS%20protocol) | `%16%03%01%02%00` |

More potentially useful prefixes are mentioned [here](https://geneva.cs.umd.edu/posts/iran-whitelister/).  Note that some prefixes may be more effective on specific port numbers.</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<blockquote>
<p>Possible prefixes of interest (note: longer prefixes are less secure):</p>
<div class="md-table">
<table>
<thead>
<tr>
<th>JSON</th>
<th>URI-encoded</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>"POST "</code></td>
<td><code>POST%20</code></td>
</tr>
<tr>
<td><code>"HTTP/1.1"</code></td>
<td>`HTTP%2F1.1</td>
</tr>
<tr>
<td><code>"POST / HTTP/1.1"</code></td>
<td><code>POST%20%2F%20HTTP%2F1.1</code></td>
</tr>
<tr>
<td><code>"GET / HTTP/1.1\r\n\r\n"</code></td>
<td><code>GET%20%2F%20HTTP%2F1.1%0D%0A%0D%0A</code></td>
</tr>
<tr>
<td><a href="https://geneva.cs.umd.edu/posts/iran-whitelister/#:~:text=Example%3A%20GET%20testing123-,HTTPS%20Fingerprint,-The%20HTTPS%20protocol"><code>"\x16\x03\x01\x02\x00"</code></a></td>
<td><code>%16%03%01%02%00</code></td>
</tr>
</tbody>
</table>
</div><p>More potentially useful prefixes are mentioned <a href="https://geneva.cs.umd.edu/posts/iran-whitelister/">here</a>. Note that some prefixes may be more effective on specific port numbers.</p>
</blockquote></td><td>2022-12-16T14:47:36.012Z</td></tr><tr><td>Lexus(Lexus)</td><td><p><a class="mention" href="/u/tango">@tango</a> I’m talking about payload stuff of tools like http injector etc. They support payload injection to bypass censorhsip. So I’m looking</p></td><td>2022-12-16T15:02:56.530Z</td></tr><tr><td>anonymous81(anonymous81)</td><td><p>Roots of <a href="https://www.scmagazine.com/news/architecture/http-injectors-used-to-steal-mobile-internet-connectivity" rel="noopener nofollow ugc">injectors</a></p></td><td>2022-12-16T19:14:31.802Z</td></tr><tr><td>Lexus(Lexus)</td><td><p>I know, but I’m using it to bypass censorship. In my country, no free sites.</p></td><td>2022-12-17T07:14:04.381Z</td></tr>
    </table>
      </body>
    </html>