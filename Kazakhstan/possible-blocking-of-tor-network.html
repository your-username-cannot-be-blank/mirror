
    <html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style>
    th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      word-wrap: break-word;
      padding: 5px;
    }
    table {
      width: 100%;
      max-width: 100%;
      border: 1px solid black;
      border-collapse: collapse;
      table-layout: fixed;
      word-wrap: break-word
    }
    code {
      word-wrap: break-word;
    }
    pre {
        white-space: pre-wrap;
    }
    </style>
        <title>possible-blocking-of-tor-network</title>
      </head>
      <body>
        <table border="1" width="100%" cellpadding="5">
          <tr>
            <th style="width: 10%;">Ник</th>
            <th>Пост</th>
            <th style="width: 10%;">Дата</th>
          </tr>
    <tr><td>mushroom(Гриб)</td><td><p>Unusual behavior of initializing process. Stucking on<br>
<code>[NOTICE] Bootstrapped 5% (conn): Connecting to a relay</code><br>
<code>[NOTICE] Bootstrapped 10% (conn_done): Connected to a relay</code><br>
Also some issues with connecting to bridges(obfs4, and meek-azure),  just stucking on this step.<br>
This have observed on different devices, and networks. Such as <strong>Kazakhtelecom</strong>(<em>AS9198</em>) and <strong>Tele2</strong>(<em>AS48503</em>), on different Tor clients(Tor browser(10.5.2 Linux), Tor browser(10.0.18 Android), Orbot(with Tor v0.4.4.6-openssl1.1.1g). All of them have similar issues with connections.<br>
P.S How i can make more reliable and trusty probes?</p></td><td>2021-07-30T08:03:12.998Z</td></tr><tr><td>mushroom(Гриб)</td><td><p><div class="lightbox-wrapper"><a class="lightbox" href="possible-blocking-of-tor-network/6e5a1b8a1eb0845ef3468f5a7fd9aa2f70252083.png" data-download-href="https://ntc.party/uploads/default/6e5a1b8a1eb0845ef3468f5a7fd9aa2f70252083" title="image"><img src="possible-blocking-of-tor-network/6e5a1b8a1eb0845ef3468f5a7fd9aa2f70252083_2_690x48.png" alt="image" data-base62-sha1="fKdzJsfRAiDfUge58GZkBvKERb5" width="690" height="48" srcset="possible-blocking-of-tor-network/6e5a1b8a1eb0845ef3468f5a7fd9aa2f70252083_2_690x48.png, possible-blocking-of-tor-network/6e5a1b8a1eb0845ef3468f5a7fd9aa2f70252083_2_1035x72.png 1.5x, possible-blocking-of-tor-network/6e5a1b8a1eb0845ef3468f5a7fd9aa2f70252083.png 2x" data-dominant-color="F7F8F8"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">1039×73 6.16 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div><br>
Taken from OONI</p></td><td>2021-07-30T08:29:14.575Z</td></tr><tr><td>mushroom(Гриб)</td><td><aside class="onebox allowlistedgeneric" data-onebox-src="https://explorer.ooni.org/m/20210730090318.159914_KZ_tor_2f09edaf7cfbebd2">
  <header class="source">
      <img src="possible-blocking-of-tor-network/56c2477c12d9c77bd07d38843fa3c735e4b08080.png" class="site-icon" data-dominant-color="000000" width="192" height="192">

      <a href="https://explorer.ooni.org/m/20210730090318.159914_KZ_tor_2f09edaf7cfbebd2" target="_blank" rel="noopener nofollow ugc">explorer.ooni.org</a>
  </header>

  <article class="onebox-body">
    

<h3><a href="https://explorer.ooni.org/m/20210730090318.159914_KZ_tor_2f09edaf7cfbebd2" target="_blank" rel="noopener nofollow ugc">OONI Explorer - Open Data on Internet Censorship Worldwide</a></h3>

  <p>OONI data suggests Tor censorship test result in Kazakhstan on July 30, 2021 at 8:53:29 AM UTC, find more open data on internet censorship on OONI Explorer.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
<p>
So, yeah. OONI indicates that Tor is likely blocked <img src="https://ntc.party/images/emoji/twitter/frowning.png?v=12" title=":frowning:" class="emoji" alt=":frowning:" loading="lazy" width="20" height="20"></p></td><td>2021-07-30T09:13:03.428Z</td></tr><tr><td>Petrovich</td><td><p>AS48716, работают только недефолтные мосты, причём у них это давно, блокируют хендшейк + встроенные мосты (как минимум)</p></td><td>2021-07-30T16:24:01.154Z</td></tr><tr><td>tango</td><td><p>Thanks for this report.</p>
<p>Is this Tor blocking something new, i.e. Tor worked for you before, and today it does not work? Or, did you try Tor for the first time today?</p>
<p>My understanding is that plain Tor, and the default obfs4 bridges, have been blocked in Kazakhstan for several years. You need a private obfs4 bridge, or meek, or these days Snowflake may also work. Here is some documentation on Tor blocking in Kazakhstan I am aware of:</p>
<ul>
<li><a href="https://www.bamsoftware.com/papers/thesis/#sec:proxy-probe-kazakhstan">Probing default obfs4 bridges</a> in 2016–2017. At that time, it was possible to make a TCP connection to the bridges, but it was not possible to bootstrap a full obfs4 connection.
<ul>
<li><a href="https://www.bamsoftware.com/proxy-probe/kz-data/">Code and data for the obfs4 probe tests</a></li>
</ul>
</li>
<li><a href="https://gitlab.torproject.org/legacy/trac/-/wikis/doc/OONI/censorshipwiki/CensorshipByCountry/Kazakhstan">OONI censorship wiki on KZ from 2016–2017</a>, documents the above bridge blocking, also HTTP blocking.</li>
</ul>
<p>Here are some things you can try:</p>
<ul>
<li><a href="https://tb-manual.torproject.org/bridges/#using-moat">Get a bridge from Moat.</a> In the Tor Browser settings, click “Request a bridge…” and solve a captcha to get a non-default obfs4 bridge that may not be blocked.</li>
<li><a href="https://tb-manual.torproject.org/bridges/#getting-bridge-addresses">Send an email to bridges@torproject.org</a> from a <a href="http://gmail.com">gmail.com</a> address.</li>
<li>With Tor Browser 10.5, you can try Snowflake, which is a newer pluggable transport.<br>
<a href="https://blog.torproject.org/snowflake-in-tor-browser-stable" class="inline-onebox">Snowflake moving to stable in Tor Browser 10.5 | The Tor Project</a></li>
</ul>
<aside class="quote no-group" data-username="mushroom" data-post="1" data-topic="1167">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/mushroom/48/599_2.png" class="avatar"> mushroom:</div>
<blockquote>
<p>How i can make more reliable and trusty probes?</p>
</blockquote>
</aside>
<p>The Tor anti-censorship team has a tool called emma that tests default bridges, Tor directory authorities, web sites, and relays. If you can compile a Go program, you can run emma to get a report about Tor blocking on your network.</p>
<ul>
<li><a href="https://gitlab.torproject.org/tpo/anti-censorship/emma" class="inline-onebox">The Tor Project / Anti-censorship / emma · GitLab</a></li>
<li><a href="https://github.com/NullHypothesis/emma" class="inline-onebox">GitHub - NullHypothesis/emma</a> (if the other link is blocked)</li>
</ul></td><td>2021-07-30T17:03:55.055Z</td></tr><tr><td>tango</td><td><p>BTW here are graphs of Tor user counts from KZ over the past few years. It looks like nothing has changed recently. The number of obfs4 users is small and decreasing, while the number of non-bridge users is small but slowly increasing. (I don’t have a good explanation for the latter observation.) Unfortunately the graphs do not distinguish default and non-default obfs4 bridges.</p>
<p>If you happen to know an explanation for any of the sudden jumps in the graphs, let me know and I can add the information to the <a href="https://gitlab.torproject.org/tpo/network-health/metrics/timeline">Tor Metrics Timeline</a>.</p>
<p><a href="https://people.torproject.org/~dcf/metrics-country.html?start=2016-01-01&amp;end=2021-07-30&amp;country=kz">https://people.torproject.org/~dcf/metrics-country.html?start=2016-01-01&amp;end=2021-07-30&amp;country=kz</a></p>
<p><a href="https://metrics.torproject.org/userstats-relay-country.html?start=2016-01-01&amp;end=2021-07-30&amp;country=kz"><img src="possible-blocking-of-tor-network/9cc08d3f6cbc284ee8340534ecf842ae7c83f863.png" alt="userstats-relay-country-kz-2016-01-01-2021-07-30-off" data-base62-sha1="mmH1Arwby8peTkQaofgQKitmrYf" width="690" height="431"></a></p>
<p><a href="https://metrics.torproject.org/userstats-bridge-country.html?start=2016-01-01&amp;end=2021-07-30&amp;country=kz"><img src="possible-blocking-of-tor-network/d0c87305f58a40c67a8afb4e9fb819684194182f.png" alt="userstats-bridge-country-kz-2016-01-01-2021-07-30" data-base62-sha1="tMYM1fv8g47MuShDWl5MfvbkQyP" width="690" height="431"></a></p>
<p><a href="https://metrics.torproject.org/userstats-bridge-combined.html?start=2016-01-01&amp;end=2021-07-30&amp;country=kz"><img src="possible-blocking-of-tor-network/202794958509a107b4881c8d4fcafabe6bed2c4a.png" alt="userstats-bridge-combined-kz-2016-01-01-2021-07-30" data-base62-sha1="4As4WiYakSPD0iz2uZFfTCaaA3M" width="690" height="431"></a></p></td><td>2021-07-30T17:09:41.044Z</td></tr><tr><td>mushroom(Гриб)</td><td><aside class="quote no-group" data-username="tango" data-post="5" data-topic="1167">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/letter_avatar_proxy/v4/letter/t/e36b37/48.png" class="avatar"> tango:</div>
<blockquote>
<p>Is this Tor blocking something new, i.e. Tor worked for you before, and today it does not work? Or, did you try Tor for the first time today?</p>
</blockquote>
</aside>
<p>It’s something new, i had used Tor without bridges everyday, without any issues with bootstrapping. Except using Snowflake bridge, it didn’t work.</p>
<aside class="quote no-group" data-username="tango" data-post="5" data-topic="1167">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/letter_avatar_proxy/v4/letter/t/e36b37/48.png" class="avatar"> tango:</div>
<blockquote>
<p>The Tor anti-censorship team has a tool called emma that tests default bridges, Tor directory authorities, web sites, and relays. If you can compile a Go program, you can run emma to get a report about Tor blocking on your network.</p>
</blockquote>
</aside>
<p>Sure, i can.</p></td><td>2021-07-31T04:04:25.688Z</td></tr><tr><td>mushroom(Гриб)</td><td><p>Increased popularity of Tor from second half 2017 to 2019 might be explained by regular blocking services such as Telegram, Facebook, Instagram, Youtube, usually it was blocks from 20:00 to 23:00. I can’t tell exactly period of time, when it’s started, and when it stopped, this topic didn’t have covered well in local newspapers, but you can try figure out it with social media(oh there was many memes about this).<br>
I can’t see clearly from graph, but some peaks maybe correlated with shutdowns and massive blocking of internet. In 2019 when was inauguration process, in Astana many websites, social media, simply didn’t work.<br>
But graph after 2019 looks so weird. Zero thoughts about explanation.</p></td><td>2021-07-31T04:44:07.619Z</td></tr><tr><td>mushroom(Гриб)</td><td><p>Hmm, how about peak in 2018? Probably, government tried get all bridge addresses, and after that just block them. It might explain gap after peak. Also, directly connected graph didn’t have any peaks or increases in the same time(except peak at gap, all users just started using vanilla tor).</p></td><td>2021-07-31T04:56:08.309Z</td></tr><tr><td>mushroom(Гриб)</td><td><p>emma’s output:</p>
<pre><code class="lang-auto">Testing default bridges:
  ✓ 38.229.1.78:80                       233ms
  ✓ 38.229.33.83:80                      211ms
  ✗ 192.95.36.142:443                    198ms  error: dial tcp 192.95.36.142:443: connect: connection refused
  ✓ 37.218.245.14:38224                  114ms
  ✓ 85.31.186.98:443                     119ms
  ✓ 85.31.186.26:443                     122ms
  ✓ 144.217.20.138:80                    196ms
  ✓ 193.11.166.194:27015                 123ms
  ✓ 193.11.166.194:27020                 113ms
  ✓ 193.11.166.194:27025                 110ms
  ✓ 209.148.46.65:443                    245ms
  ✓ 146.57.248.225:22                    219ms
  ✓ 45.145.95.6:27015                    128ms
  ✗ [2a0c:4d80:42:702::1]:27015            2ms  error: dial tcp [2a0c:4d80:42:702::1]:27015: connect: network is unreachable
  ✓ 51.222.13.177:80                     204ms
Testing websites:
  ✓ torproject.org                       1.33s
  ✗ archive.org                         30.019s  error: Get "https://archive.org/details/@gettor": dial tcp 207.241.224.2:443: i/o timeout
  ✓ accounts.google.com                  577ms
  ✓ gitlab.com                           628ms
  ✓ mail.riseup.net                      1.08s
  ✓ bridges.torproject.org               483ms
  ✓ gettor.torproject.org                544ms
  ✓ ajax.aspnetcdn.com                  3.137s
  ✓ drive.google.com                     1.15s
  ✓ github.com                           815ms
Testing directory authorities:
  ✓ 128.31.0.39:9131                     211ms
  ✗ [2001:858:2:2:aabb:0:563b:1526]:443    2ms  error: dial tcp [2001:858:2:2:aabb:0:563b:1526]:443: connect: network is unreachable
  ✓ 86.59.21.38:80                       135ms
  ✓ 45.66.33.45:80                       129ms
  ✓ 66.111.2.131:9030                    216ms
  ✗ [2001:638:a000:4140::ffff:189]:443     2ms  error: dial tcp [2001:638:a000:4140::ffff:189]:443: connect: network is unreachable
  ✓ 131.188.40.189:80                    129ms
  ✗ [2001:678:558:1000::244]:443           2ms  error: dial tcp [2001:678:558:1000::244]:443: connect: network is unreachable
  ✓ 193.23.244.244:80                    110ms
  ✗ [2001:67c:289c::9]:80                  2ms  error: dial tcp [2001:67c:289c::9]:80: connect: network is unreachable
  ✓ 171.25.193.9:443                      94ms
  ✓ 154.35.175.225:80                    231ms
  ✓ 199.58.81.140:80                     187ms
  ✗ [2620:13:4000:6000::1000:118]:443      2ms  error: dial tcp [2620:13:4000:6000::1000:118]:443: connect: network is unreachable
  ✓ 204.13.164.118:80                    280ms
Testing relays:
  ✓ 193.11.166.196:443                   121ms
  ✓ 81.7.18.7:9001                       135ms
  ✓ 31.31.73.222:9002                    133ms
  ✓ 162.247.74.7:443                     185ms
  ✗ 62.102.148.68:443                   10.002s  error: dial tcp 62.102.148.68:443: i/o timeout
  ✓ 185.220.100.253:9000                 127ms
2021/07/31 11:06:05 Wrote output to: /dev/stdout

</code></pre></td><td>2021-07-31T05:08:15.837Z</td></tr><tr><td>mushroom(Гриб)</td><td><p>Wow, it’s very different from yesterday results.<br>
<a href="https://explorer.ooni.io/measurement/20210730T085155Z_tor_KZ_9198_n1_Q9PfLTtn5ob9sHzo" rel="noopener nofollow ugc">Yesterday’s Kazakhtelecom results</a> and <a href="https://explorer.ooni.org/measurement/20210731T051153Z_tor_KZ_9198_n1_TfHexpcEnXH9rurF" rel="noopener nofollow ugc">today’s result from OONI</a><br>
<a href="https://explorer.ooni.org/measurement/20210730T090317Z_tor_KZ_48503_n1_acsmGksfTKUyhJaV" rel="noopener nofollow ugc">Yesterday’s Tele2 results</a> and <a href="https://explorer.ooni.org/measurement/20210731T051732Z_tor_KZ_48503_n1_pW5HAIC2wlxZlb4D" rel="noopener nofollow ugc">today’s results from OONI</a><br>
P.S. it is my probes.</p></td><td>2021-07-31T05:25:38.795Z</td></tr><tr><td>tango</td><td><aside class="quote no-group" data-username="mushroom" data-post="9" data-topic="1167">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/mushroom/48/599_2.png" class="avatar"> mushroom:</div>
<blockquote>
<p>Hmm, how about peak in 2018? Probably, government tried get all bridge addresses, and after that just block them. It might explain gap after peak. Also, directly connected graph didn’t have any peaks or increases in the same time</p>
</blockquote>
</aside>
<p>Actually, the peak in bridge users in 2018 affected many countries, not only Kazakhstan. The cause is unknown, but there is an entry for it in the timeline. The increase in obfs4 in 2016 was the result of plain Tor being blocked by TLS fingerprint.</p>
<div class="md-table">
<table>
<thead>
<tr>
<th>start date</th>
<th>end date</th>
<th>places</th>
<th>protocols</th>
<th>description</th>
<th>links</th>
<th>?</th>
</tr>
</thead>
<tbody>
<tr>
<td>2018-05-23</td>
<td>2018-07-01</td>
<td></td>
<td>bridge</td>
<td>Sharp increase in bridge users in many unrelated countries, affecting even the global aggregate. Relay users unaffected. The graphs reach a peak around 2018-06-07 and then begin falling again. An incomplete sampling of affected countries: <a href="https://metrics.torproject.org/userstats-bridge-country.html?start=2018-04-01&amp;end=2018-08-31&amp;country=bd">Bangladesh</a> <a href="https://metrics.torproject.org/userstats-bridge-country.html?start=2018-04-01&amp;end=2018-08-31&amp;country=cl">Chile</a> <a href="https://metrics.torproject.org/userstats-bridge-country.html?start=2018-04-01&amp;end=2018-08-31&amp;country=id">Indonesia</a> <a href="https://metrics.torproject.org/userstats-bridge-country.html?start=2018-04-01&amp;end=2018-08-31&amp;country=ma">Morocco</a> <a href="https://metrics.torproject.org/userstats-bridge-country.html?start=2018-04-01&amp;end=2018-08-31&amp;country=ve">Venezuela</a>.</td>
<td><a href="https://metrics.torproject.org/userstats-relay-country.html?start=2018-04-01&amp;end=2018-08-31&amp;country=all&amp;events=off">relay graph</a> <a href="https://metrics.torproject.org/userstats-bridge-country.html?start=2018-04-01&amp;end=2018-08-31&amp;country=all">bridge graph</a></td>
<td>X</td>
</tr>
<tr>
<td>2016-06-01</td>
<td></td>
<td>kz</td>
<td> obfs4</td>
<td>Kazakhstan blocks vanilla Tor TLS. Users mostly switch to obfs4.</td>
<td><a href="https://bugs.torproject.org/tpo/anti-censorship/censorship-analysis/20348">ticket</a></td>
<td></td>
</tr>
</tbody>
</table>
</div><aside class="quote no-group" data-username="mushroom" data-post="8" data-topic="1167">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/mushroom/48/599_2.png" class="avatar"> mushroom:</div>
<blockquote>
<p>In 2019 when was inauguration process, in Astana many websites, social media, simply didn’t work.</p>
</blockquote>
</aside>
<p>This is a good thought, but for me the dates do not align. The change in Tor users happens on <a href="https://metrics.torproject.org/userstats-relay-country.html?start=2019-03-01&amp;end=2019-06-30&amp;country=kz">2019-04-28</a>, but the inauguration was on 2019-06-12, and I read that <a href="https://vlast.kz/novosti/33733-v-kazahstane-posle-korotkogo-pereryva-vnov-zablokirovany-socseti-i-messendzery.html">the social media blocks started that day</a>.</p>
<aside class="quote no-group" data-username="mushroom" data-post="8" data-topic="1167">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/mushroom/48/599_2.png" class="avatar"> mushroom:</div>
<blockquote>
<p>Increased popularity of Tor from second half 2017 to 2019 might be explained by regular blocking services such as Telegram, Facebook, Instagram, Youtube, usually it was blocks from 20:00 to 23:00.</p>
</blockquote>
</aside>
<p>This is interesting. I hadn’t heard of such “curfew”-style shutdowns in Kazakhstan before. If it’s safe for you to do so, you may want to send any information to the <a href="https://freedomhouse.org/report/freedom-net">Freedom on the Net</a> maintainers. The <a href="https://freedomhouse.org/report/report-sub-page/2020/acknowledgements-freedom-net-2020">list of contributors for 2020</a> doesn’t name a contributor for Kazakhstan (“researchers wished to remain anonymous”) but it might be possible to contact their general address. The <a href="https://freedomhouse.org/country/kazakhstan/freedom-net/2020">2020 report for Kazakhstan</a> does mention some shutdowns:</p>
<blockquote>
<p>…emergency situations and unauthorized political gatherings were accompanied by localized internet shutdowns…</p>
<p>In February 2020, a local internet shutdown was recorded in the Korday district…</p>
</blockquote></td><td>2021-08-02T18:54:59.097Z</td></tr><tr><td>tango</td><td><aside class="quote no-group" data-username="mushroom" data-post="11" data-topic="1167">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/mushroom/48/599_2.png" class="avatar"> mushroom:</div>
<blockquote>
<p>Wow, it’s very different from yesterday results.</p>
</blockquote>
</aside>
<p>Thank you for running these tests. It’s very valuable. I guess now, we can just watch and see if anything changes. I’ll put this thread on the agenda for this week’s <a href="https://gitlab.torproject.org/tpo/anti-censorship/team#irc-meetings-schedule">meeting of the Tor anti-censorship team</a> (2021-08-05).</p></td><td>2021-08-02T19:01:34.843Z</td></tr>
    </table>
      </body>
    </html>