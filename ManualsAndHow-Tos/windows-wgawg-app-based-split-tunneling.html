
    <html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style>
    th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      word-wrap: break-word;
      padding: 5px;
    }
    table {
      width: 100%;
      max-width: 100%;
      border: 1px solid black;
      border-collapse: collapse;
      table-layout: fixed;
      word-wrap: break-word
    }
    code {
      word-wrap: break-word;
    }
    pre {
        white-space: pre-wrap;
    }
    </style>
        <title>windows-wgawg-app-based-split-tunneling</title>
      </head>
      <body>
        <table border="1" width="100%" cellpadding="5">
          <tr>
            <th style="width: 10%;">Ник</th>
            <th>Пост</th>
            <th style="width: 10%;">Дата</th>
          </tr>
    <tr><td>0ka(0ka)</td><td><p>Requirements:<br>
Wireguard / <a href="https://github.com/amnezia-vpn/amneziawg-windows-client/releases/tag/1.0.0">AmneziaWG</a><br>
<a href="https://www.nirsoft.net/utils/netrouteview.zip">Nirsoft NetRouteView</a><br>
<a href="https://github.com/MatsuriDayo/nekoray/releases">nekoray/nekobox</a></p>
<ol>
<li>
<p>wg/awg setup: edit your PROFILE_NAME and add <code>Table=off</code> to the interface section, save and activate<br>
<img src="windows-wgawg-app-based-split-tunneling/7dc26b0753f2c827bb9d98c8c43dd17e5c595e67.png" alt="image" data-base62-sha1="hWwdNLdBZDNSSIF0OOHoZRoWVBZ" width="476" height="382"><br>
it will prevent wireguard from creating default gateway route</p>
</li>
<li>
<p>NetRouteView setup: file - new route,<br>
change metric to 999, interface to Wireguard tunnel, ok<br>
<img src="windows-wgawg-app-based-split-tunneling/7599e39e3ac801efd14bb633a239e835d705da05.png" alt="image" data-base62-sha1="gMlzl2vsnL8aHwzoIdBFPpuW6UJ" width="342" height="246"></p>
</li>
<li>
<p>nekobox: add profile - type “custom sing-box config”, name PROFILE_NAME, config - <a href="https://pastebin.com/Ghsn257n">pastebin</a><br>
<div class="lightbox-wrapper"><a class="lightbox" href="windows-wgawg-app-based-split-tunneling/45c250370644416e919df347f2aa4e0ad6d01596.png" data-download-href="https://ntc.party/uploads/default/45c250370644416e919df347f2aa4e0ad6d01596" title="image"><img src="windows-wgawg-app-based-split-tunneling/45c250370644416e919df347f2aa4e0ad6d01596.png" alt="image" data-base62-sha1="9X7g6Wygf9SJLluuNJcOs9FXLds" width="377" height="500" data-dominant-color="2E332E"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">424×562 10.1 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div><br>
replace PROFILE_NAME in the name and in the config (2 times), replace processes list if needed (already has curl, chrome, firefox)<br>
OK, right click on the config and start it. It should work at this point.<br>
Make multiple configurations if needed, only change the PROFILE_NAME.</p>
</li>
</ol>
<p>issues? make sure your PROFILE_NAME is the same in all steps. disable windows defender firewall/брандмауэр windows and test again</p></td><td>2024-08-25T09:34:35.271Z</td></tr>
    </table>
      </body>
    </html>