[
    {
        "id": 49315,
        "name": "0ka",
        "username": "0ka",
        "avatar_template": "/letter_avatar_proxy/v4/letter/0/d78d45/{size}.png",
        "created_at": "2024-10-07T03:26:20.022Z",
        "cooked": "<p>нужно заблокировать QUIC на роутере, но при этом оставить udp port 443 рабочим для других протоколов, пока ничего лучше<br>\n<code>iptables -A FORWARD -p udp --dport 443 -m string --hex-string \"|0000000108|\" --algo kmp -j REJECT</code><br>\nне придумал</p>\n<p>решено: <a href=\"https://ntc.party/t/iptables-quic-filter-help/11089/9\" class=\"inline-onebox\">Iptables QUIC filter - #9 by ValdikSS</a></p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2024-10-08T20:44:28.880Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 47,
        "reads": 119,
        "readers_count": 118,
        "score": 273.6,
        "yours": false,
        "topic_id": 11089,
        "topic_slug": "iptables-quic-filter",
        "display_username": "0ka",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
            {
                "id": 2,
                "count": 1
            }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 488,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/iptables-quic-filter/11089/1",
        "can_translate": false
    },
    {
        "id": 49319,
        "name": "",
        "username": "bolvan",
        "avatar_template": "/letter_avatar_proxy/v4/letter/b/8e8cbc/{size}.png",
        "created_at": "2024-10-07T05:22:17.131Z",
        "cooked": "<p>по любому придется использовать ту или иную форму payload expressions<br>\nв iptables лучше u32, тк string ищет по всему пакету<br>\nнадо сечь  quic initial<br>\nтам в лонг хедере характерный маркер с версией 1<br>\nи можно ограничить по ctstate new<br>\nтк инитиалы идут в начале<br>\nи если их дропать, коннтрак запись не создастся<br>\nтут надо это тщательней проверить<br>\nможет рубить на раннем хуке, чтобы это было так</p>\n<p>так можно сделать фильтр не жрущим проц</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2024-10-07T05:24:37.265Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 114,
        "readers_count": 113,
        "score": 32.6,
        "yours": false,
        "topic_id": 11089,
        "topic_slug": "iptables-quic-filter",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "Zapret anti-DPI software staff",
        "title_is_group": false,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": true,
        "admin": false,
        "staff": true,
        "user_id": 19,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/iptables-quic-filter/11089/2",
        "can_translate": false
    },
    {
        "id": 49350,
        "name": "",
        "username": "Tyman",
        "avatar_template": "/user_avatar/ntc.party/tyman/{size}/6894_2.png",
        "created_at": "2024-10-07T11:26:03.209Z",
        "cooked": "<p>если не секрет, для чего хотите заблокировать? не для того, чтобы приложения ютуба не использовали QUIC через ру хостинги?</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2024-10-07T11:26:03.209Z",
        "reply_count": 2,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 97,
        "readers_count": 96,
        "score": 29.4,
        "yours": false,
        "topic_id": 11089,
        "topic_slug": "iptables-quic-filter",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 3822,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/iptables-quic-filter/11089/3",
        "can_translate": false
    },
    {
        "id": 49425,
        "name": "",
        "username": "zzr",
        "avatar_template": "/user_avatar/ntc.party/zzr/{size}/14949_2.png",
        "created_at": "2024-10-07T14:58:45.216Z",
        "cooked": "<p>может он на ркн работат <img src=\"https://ntc.party/images/emoji/twitter/sweat_smile.png?v=12\" title=\":sweat_smile:\" class=\"emoji\" alt=\":sweat_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2024-10-07T14:58:55.379Z",
        "reply_count": 0,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 77,
        "readers_count": 76,
        "score": 15.4,
        "yours": false,
        "topic_id": 11089,
        "topic_slug": "iptables-quic-filter",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
            "username": "Tyman",
            "name": "",
            "avatar_template": "/user_avatar/ntc.party/tyman/{size}/6894_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1118,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/iptables-quic-filter/11089/4",
        "can_translate": false
    },
    {
        "id": 49436,
        "name": "0ka",
        "username": "0ka",
        "avatar_template": "/letter_avatar_proxy/v4/letter/0/d78d45/{size}.png",
        "created_at": "2024-10-07T15:24:38.053Z",
        "cooked": "<p>QUIC через TCP vpn/proxy работает медленно</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2024-10-07T15:24:38.053Z",
        "reply_count": 1,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 75,
        "readers_count": 74,
        "score": 25.0,
        "yours": false,
        "topic_id": 11089,
        "topic_slug": "iptables-quic-filter",
        "display_username": "0ka",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
            "username": "Tyman",
            "name": "",
            "avatar_template": "/user_avatar/ntc.party/tyman/{size}/6894_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 488,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/iptables-quic-filter/11089/5",
        "can_translate": false
    },
    {
        "id": 49483,
        "name": "",
        "username": "Tyman",
        "avatar_template": "/user_avatar/ntc.party/tyman/{size}/6894_2.png",
        "created_at": "2024-10-07T17:41:24.737Z",
        "cooked": "<p>А не проверял, если QUIC заблокировать, оф приложение ютуба будет пробовать подключаться без его использования или нет?</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2024-10-07T17:41:24.737Z",
        "reply_count": 1,
        "reply_to_post_number": 5,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 74,
        "readers_count": 73,
        "score": 34.8,
        "yours": false,
        "topic_id": 11089,
        "topic_slug": "iptables-quic-filter",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
            "username": "0ka",
            "name": "0ka",
            "avatar_template": "/letter_avatar_proxy/v4/letter/0/d78d45/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 3822,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/iptables-quic-filter/11089/6",
        "can_translate": false
    },
    {
        "id": 49502,
        "name": "0ka",
        "username": "0ka",
        "avatar_template": "/letter_avatar_proxy/v4/letter/0/d78d45/{size}.png",
        "created_at": "2024-10-07T18:49:41.888Z",
        "cooked": "<p>если заблокировать QUIC то будет подключаться по TCP</p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2024-10-07T18:49:41.888Z",
        "reply_count": 1,
        "reply_to_post_number": 6,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 71,
        "readers_count": 70,
        "score": 34.2,
        "yours": false,
        "topic_id": 11089,
        "topic_slug": "iptables-quic-filter",
        "display_username": "0ka",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
            "username": "Tyman",
            "name": "",
            "avatar_template": "/user_avatar/ntc.party/tyman/{size}/6894_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 488,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/iptables-quic-filter/11089/7",
        "can_translate": false
    },
    {
        "id": 49507,
        "name": "",
        "username": "Tyman",
        "avatar_template": "/user_avatar/ntc.party/tyman/{size}/6894_2.png",
        "created_at": "2024-10-07T19:09:36.996Z",
        "cooked": "<p>спасибо, если поймешь как заблокировать то напиши</p>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2024-10-07T19:09:36.996Z",
        "reply_count": 0,
        "reply_to_post_number": 7,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 72,
        "readers_count": 71,
        "score": 24.4,
        "yours": false,
        "topic_id": 11089,
        "topic_slug": "iptables-quic-filter",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
            "username": "0ka",
            "name": "0ka",
            "avatar_template": "/letter_avatar_proxy/v4/letter/0/d78d45/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 3822,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/iptables-quic-filter/11089/8",
        "can_translate": false
    },
    {
        "id": 50313,
        "name": null,
        "username": "ValdikSS",
        "avatar_template": "/user_avatar/ntc.party/valdikss/{size}/2_2.png",
        "created_at": "2024-10-08T20:42:39.418Z",
        "cooked": "<p>Нужно использовать <code>u32</code>.</p>\n<p>В GoodbyeDPI это делается так:</p>\n<pre data-code-wrap=\"txt\"><code class=\"lang-txt\">#define FILTER_PASSIVE_BLOCK_QUIC \"outbound and !impostor and !loopback and udp \" \\\n        \"and udp.DstPort == 443 and udp.PayloadLength &gt;= 1200 \" \\\n        \"and udp.Payload[0] &gt;= 0xC0 and udp.Payload32[1b] == 0x01\"\n</code></pre>\n<p>Соответственно u32 будет примерно такой:</p>\n<pre data-code-wrap=\"txt\"><code class=\"lang-txt\">iptables -A FORWARD -p udp --dport 443 -m connbytes --connbytes 0:20 --connbytes-dir original --connbytes-mode packets -m u32 --u32 '25 &amp; 0xF0 = 0xC0 &amp;&amp; 29 = 0x00000001' -j DROP\nip6tables -A FORWARD -p udp --dport 443 -m connbytes --connbytes 0:20 --connbytes-dir original --connbytes-mode packets -m u32 --u32 '45 &amp; 0xF0 = 0xC0 &amp;&amp; 49 = 0x00000001' -j DROP\n</code></pre>",
        "post_number": 9,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2024-10-08T20:42:39.418Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 11,
        "reads": 65,
        "readers_count": 64,
        "score": 68.0,
        "yours": false,
        "topic_id": 11089,
        "topic_slug": "iptables-quic-filter",
        "display_username": null,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
            {
                "url": "https://ntc.party/t/%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B-%D0%BF%D1%80%D0%BE-ipv6-%D0%B8-quic/15108/8",
                "internal": true,
                "reflection": true,
                "title": "Вопросы про ipv6 и quic",
                "clicks": 0
            }
        ],
        "read": true,
        "user_title": "AntiZapret staff",
        "title_is_group": false,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": true,
        "admin": true,
        "staff": true,
        "user_id": 1,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/iptables-quic-filter/11089/9",
        "can_translate": false
    }
]