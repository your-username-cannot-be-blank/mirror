
    <html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style>
    th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      word-wrap: break-word;
      padding: 5px;
    }
    table {
      width: 100%;
      max-width: 100%;
      border: 1px solid black;
      border-collapse: collapse;
      table-layout: fixed;
      word-wrap: break-word
    }
    code {
      word-wrap: break-word;
    }
    pre {
        white-space: pre-wrap;
    }
    </style>
        <title>обход-блокировки-youtube-для-любых-smart-tv-с-goodbyedpi-v2ray-maradns</title>
      </head>
      <body>
        <table border="1" width="100%" cellpadding="5">
          <tr>
            <th style="width: 10%;">Ник</th>
            <th>Пост</th>
            <th style="width: 10%;">Дата</th>
          </tr>
    <tr><td>ValdikSS</td><td><p>Перенаправление всего трафика на прокси-сервер, запущенный на компьютере, путём ответов DNS на любой домен IP-адресом компьютера.<br>
Примитивный и не особо удобный, но простой и практически универсальный метод, подходящий для любых телевизоров, даже базовых и устаревших моделей. Работает только при включённом компьютере.</p>
<h3><a name="p-33580-windows-1" class="anchor" href="#p-33580-windows-1"></a>На компьютере с Windows:</h3>
<ol>
<li><a href="https://ntc.party/t/%D0%BE%D0%B1%D1%85%D0%BE%D0%B4-%D0%B7%D0%B0%D0%BC%D0%B5%D0%B4%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F-youtube-%D0%B2-%D1%80%D0%BE%D1%81%D1%81%D0%B8%D0%B8-%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D1%8B-%D0%BD%D0%B0-%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B/8240">Скачайте, настройте и запустите GoodbyeDPI</a>, убедитесь, что он работает на компьютере</li>
<li>Скачайте архив <a class="attachment" href="обход-блокировки-youtube-для-любых-smart-tv-с-goodbyedpi-v2ray-maradns/gJuqsY5xacVbRKEQTd9ZHcGVcM5.7z">v2ray-maradns.7z</a> (7.8 MB), распакуйте</li>
<li>Откройте файл <code>maradns\zone-redirect-all.txt</code> блокнотом, замените <code>192.168.69.128</code> на IP-адрес вашего компьютера (его можно посмотреть в настройках сетевого адаптера, либо командой <code>ipconfig</code>)<br>
<div class="lightbox-wrapper"><a class="lightbox" href="обход-блокировки-youtube-для-любых-smart-tv-с-goodbyedpi-v2ray-maradns/6dfe5a370bca914b6bb75db4b41bba8ded3d6e62.png" data-download-href="https://ntc.party/uploads/default/6dfe5a370bca914b6bb75db4b41bba8ded3d6e62" title="Screenshot_20240817_030605-fs8"><img src="обход-блокировки-youtube-для-любых-smart-tv-с-goodbyedpi-v2ray-maradns/6dfe5a370bca914b6bb75db4b41bba8ded3d6e62_2_517x311.png" alt="Screenshot_20240817_030605-fs8" data-base62-sha1="fH2ZuqPbmD1RIGIAgUwf0Ja77B8" width="517" height="311" srcset="обход-блокировки-youtube-для-любых-smart-tv-с-goodbyedpi-v2ray-maradns/6dfe5a370bca914b6bb75db4b41bba8ded3d6e62_2_517x311.png, обход-блокировки-youtube-для-любых-smart-tv-с-goodbyedpi-v2ray-maradns/6dfe5a370bca914b6bb75db4b41bba8ded3d6e62_2_775x466.png 1.5x, обход-блокировки-youtube-для-любых-smart-tv-с-goodbyedpi-v2ray-maradns/6dfe5a370bca914b6bb75db4b41bba8ded3d6e62_2_1034x622.png 2x" data-dominant-color="EEEEEE"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">Screenshot_20240817_030605-fs8</span><span class="informations">1762×1062 73.3 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div></li>
<li>Запустите <code>v2ray\v2ray-run.cmd</code>, в появившемся окне разрешите сетевое взаимодействие программы, сверните окно</li>
<li>Запустите <code>maradns\mara-run.cmd</code>, в появившемся окне разрешите сетевое взаимодействие программы, сверните окно</li>
</ol>
<h3><a name="p-33580-h-2" class="anchor" href="#p-33580-h-2"></a>На телевизоре:</h3>
<ol>
<li>Найдите в настройках сети настройки DNS-сервера</li>
<li>Укажите IP-адрес вашего компьютера (который вы вписали в <code>maradns\zone-redirect-all.txt</code>) в качестве DNS-сервера (и основного, и альтернативного, если телевизор требует два адреса).<br>
Некоторые модели не позволяют указать только DNS-сервер внучную: может потребоваться также задать настройки IP-адреса, маски подсети и шлюза</li>
<li>Отключите IPv6, если такая возможность есть в телевизоре. Это следует сделать, даже если у вас нет IPv6-связности (роутер может выдавать DNS по IPv6 внутри локальной сети)</li>
<li>Откройте браузер, убедитесь, что сайты открываются</li>
<li>Откройте YouTube</li>
</ol></td><td>2024-08-16T23:42:20.955Z</td></tr><tr><td>ValdikSS</td><td><h3><a name="p-33581-h-1" class="anchor" href="#p-33581-h-1"></a>Решение проблем</h3>
<ul>
<li>Некоторые ТВ не позволяют отключить IPv6, а некоторые роутеры выдают адреса DNS через IPv6. IPv6 имеет приоритет выше, чем IPv4, поэтому телевизор не будет использовать DNS на компьютере. Если вы видите адреса DNS, начинающиеся на <code>fe80::</code>, <code>fc</code> или <code>fe</code>, отключите IPv6 DNS в роутере, а если такой возможности нет, отключите IPv6 в роутере полностью.</li>
<li>Брандмауер Windows может блокировать входящие подключения. Установите тип сети «частная» (private) и убедитесь, что вы разрешили подключения на порты 53, 80, 443 в брандмауере.</li>
<li>Если вчера всё работало, а сегодня не работает — проверьте IP-адрес компьютера, он мог измениться. Замените его в файле <code>maradns\zone-redirect-all.txt</code> на актуальный и попробуйте снова. Не забудьте перенастроить телевизор. <em>IP-адрес компьютера можно «закрепить» в настройках роутера, чтобы он не менялся.</em></li>
<li>В конфигурации V2fly разрешён доступ только с локальных IP-диапазонов: <code>192.168.0.0/16, 172.16.0.0/12, 10.0.0.0/8</code>. Если в вашей сети используется другая адресация, измените диапазоны в <code>v2ray\youtube.json</code> (секция routing).</li>
<li>MaraDNS не запускается, сообщая, что порт 53 занят? <a href="https://ntc.party/t/%D0%BE%D0%B1%D1%81%D1%83%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BE%D0%B1%D1%85%D0%BE%D0%B4-%D0%B1%D0%BB%D0%BE%D0%BA%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B8-youtube-%D0%B4%D0%BB%D1%8F-%D0%BB%D1%8E%D0%B1%D1%8B%D1%85-smart-tv-%D1%81-goodbyedpi-v2ray-maradns/9425/16">Проверьте, что служба <code>Host Network Service</code> отключена</a></li>
</ul>
<h3><a name="p-33581-h-2" class="anchor" href="#p-33581-h-2"></a>Как это работает?</h3>
<ol>
<li>DNS-сервер MaraDNS отдаёт IP-адрес компьютера на любой запрашиваемый домен вместо настоящего адреса ресурса</li>
<li>Прокси-сервер V2fly прослушивает порты 80 (HTTP) и 443 (HTTPS) в ожидании новых подключений, не используя какой-либо протокол прокси (не HTTP, не SOCKS)</li>
<li>Как только ТВ пытается подключиться к ресурсу, например, по HTTPS:
<ul>
<li>DNS-сервер отдаёт IP-адрес компьютера в ответ на DNS-запрос</li>
<li>ТВ подключается к IP-адресу компьютера на порт 443</li>
<li>Прокси V2ray получает тело запроса, и благодаря специальной настройке извлекает домен из TLS (HTTPS)-соединения и подключается к нему</li>
<li>GoodbyeDPI, обнаружив заблокированный домен, применяет методы обхода блокировок</li>
</ul>
</li>
</ol>
<p>Данный способ сработает только в том случае, если ресурс использует порты 80 и 443, а также не использует специфических записей DNS. Впрочем, в большинстве случаев этого достаточно.<br>
Проксируются только TCP-протоколы. UDP отбрасывается.</p></td><td>2024-08-16T23:49:38.177Z</td></tr><tr><td>ValdikSS</td><td><p>3 posts were merged into an existing topic: <a href="/t/%D0%BE%D0%B1%D1%81%D1%83%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BE%D0%B1%D1%85%D0%BE%D0%B4-%D0%B1%D0%BB%D0%BE%D0%BA%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B8-youtube-%D0%B4%D0%BB%D1%8F-%D0%BB%D1%8E%D0%B1%D1%8B%D1%85-smart-tv-%D1%81-goodbyedpi-v2ray-maradns/9425/2">Обсуждение: обход блокировки YouTube для любых Smart TV с GoodbyeDPI + V2ray + MaraDNS</a></p></td><td>2024-08-17T08:42:44.630Z</td></tr><tr><td>ValdikSS</td><td></td><td>2024-08-17T08:42:54.593Z</td></tr>
    </table>
      </body>
    </html>