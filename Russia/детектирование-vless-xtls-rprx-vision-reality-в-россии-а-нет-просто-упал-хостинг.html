
    <html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style>
    th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      word-wrap: break-word;
      padding: 5px;
    }
    table {
      width: 100%;
      max-width: 100%;
      border: 1px solid black;
      border-collapse: collapse;
      table-layout: fixed;
      word-wrap: break-word
    }
    code {
      word-wrap: break-word;
    }
    pre {
        white-space: pre-wrap;
    }
    </style>
        <title>детектирование-vless-xtls-rprx-vision-reality-в-россии-а-нет-просто-упал-хостинг</title>
      </head>
      <body>
        <table border="1" width="100%" cellpadding="5">
          <tr>
            <th style="width: 10%;">Ник</th>
            <th>Пост</th>
            <th style="width: 10%;">Дата</th>
          </tr>
    <tr><td>skyrunner(name)</td><td><p>Сегодня, примерно в 9 утра, мой сервер перестал работать. Возможно блокировка по IP, сервер не пингуется. Был настроен VLESS-REALITY на 443 порту, в качестве “dest” использовался сайт в сети моего хостера, он заблокирован не был.  На русские сайты заходил через ещё один VLESS. Возможно - xtls-rprx-vision детектируют по размеру пакетов.<br>
Я думаю попробовать настроить xtls-segaro-vision flow, форк оригинала.</p><aside class="onebox githubpullrequest" data-onebox-src="https://github.com/XTLS/Xray-core/pull/3738">
  <header class="source">

      <a href="https://github.com/XTLS/Xray-core/pull/3738" target="_blank" rel="noopener nofollow ugc">github.com/XTLS/Xray-core</a>
  </header>

  <article class="onebox-body">
    <div class="github-row" data-github-private-repo="false">



    <div class="github-icon-container" title="Pull Request">
      <svg width="60" height="60" class="github-icon" viewBox="0 0 12 16" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
    </div>

  <div class="github-info-container">



      <h4>
        <a href="https://github.com/XTLS/Xray-core/pull/3738" target="_blank" rel="noopener nofollow ugc">Flow: XTLS-Segaro-Vision</a>
      </h4>

    <div class="branches">
      <code>XTLS:main</code> ← <code>LuckyLuke-a:xtls-segaro-vision</code>
    </div>

      <div class="github-info">
        <div class="date">
          opened <span class="discourse-local-date" data-format="ll" data-date="2024-08-28" data-time="09:02:28" data-timezone="UTC">09:02AM - 28 Aug 24 UTC</span>
        </div>

        <div class="user">
          <a href="https://github.com/LuckyLuke-a" target="_blank" rel="noopener nofollow ugc">
            <img alt="LuckyLuke-a" src="детектирование-vless-xtls-rprx-vision-reality-в-россии-а-нет-просто-упал-хостинг/1b743d61ce6bd41bfefc9122b7014341bd9b0de7.jpeg" class="onebox-avatar-inline" width="20" height="20" data-dominant-color="EFC774">
            LuckyLuke-a
          </a>
        </div>

        <div class="lines" title="1 commits changed 17 files with 1180 additions and 47 deletions">
          <a href="https://github.com/XTLS/Xray-core/pull/3738/files" target="_blank" rel="noopener nofollow ugc">
            <span class="added">+1180</span>
            <span class="removed">-47</span>
          </a>
        </div>
      </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">Goals of XTLS-Segaro-Vision Flow:

1-TLS Obfuscation: The flow can obfuscate T<span class="show-more-container"><a href="https://github.com/XTLS/Xray-core/pull/3738" target="_blank" rel="noopener nofollow ugc" class="show-more">…</a></span><span class="excerpt hidden">LS-in-TLS connections by iterating through the inner handshake and adding padding between iterations. Note that this flow does not add padding at the beginning, middle, or end of inner handshakes; rather, it iterates through the handshake in chunks and obfuscates each handshake with padding.

2-VLESS Header Obfuscation: The flow can obfuscate the VLESS header, specifically the first 32 bytes.

3-Printable Padding: Padding is generated within the range of [32, 126] bytes (ASCII printable characters). After encryption with TLS, the percentage of data that is printable increases compared to prior versions.

4-Fake Packet Transmission: The flow sends fake packets to prevent detection of the inner handshake, accounting for lengths and order of ClientHello or ServerHello packets during transmission and reception.

5-Fake Packet Verification: The flow verifies fake packets to mitigate replay attack occurrences.

6-Chunked Handshake Splitting: Handshakes are split into multiple padded chunks, minimizing detection by analytics through initial packet sizes or search for TLS-in-TLS algorithms within the encrypted data.

7-Protocol Compatibility: This flow can be utilized with the following protocols:
        VLESS-TCP-Reality
        VLESS-H2-Reality
        VLESS-GRPC-Reality

8-Testing and Efficacy: As you may know, the current Reality version is fully blocked in Iran. After testing this flow for two weeks, I can confirm that it operates effectively.

9-Conflict Avoidance: Importantly, this flow does not conflict with the current Reality version; both can function together seamlessly.



**Config :**

```

                  // ...
                "clients": [
                    {
                        "id": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
                        "flow": "xtls-segaro-vision"
                    }
                ],
                "decryption": "none"
            },
            "streamSettings": {
                // ...
                "realitySettings": {
                    // ...
		    "randPacket": "800-1500",
                    "splitPacket": "500-900",
                    "paddingSize": 5,
                    "subchunkSize": 12

                }
            },
            // ...

```

Server pr:
https://github.com/XTLS/REALITY/pull/9</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
<p>
Звучит многообещающе</p>
<p>P.S провайдер зеленая точка</p></td><td>2024-10-01T07:08:08.138Z</td></tr><tr><td>PlavaliZnaem( )</td><td><p>А сервер не висит? Может тупо завис, посему и не пингуется.<br>
Понимаю, что вопрос глупый, но мало ли.</p>
<p>А то не хочется верить в ваш вывод пока что, предпочту набрать статистику</p></td><td>2024-10-01T07:26:13.420Z</td></tr><tr><td>skyrunner(name)</td><td><p>Честно говоря, хочется в это верить. Но сайт в сети хостера работает как ни в чем не бывало. Если хостинг слег, то он должен заработать рано или поздно?</p></td><td>2024-10-01T07:28:06.299Z</td></tr><tr><td>PlavaliZnaem( )</td><td><p>Не знаю, у меня сейчас 1 дешевый VPS, так за 3 дня тестов умудрился повиснуть уже разок. Тоже, кстати, не пинговался. Не стал ждать, что отвиснет, зашел в панель, выключил-включил, все заработало.<br>
На VPS подороже зависаний не было вообще.</p></td><td>2024-10-01T07:31:50.471Z</td></tr><tr><td>skyrunner(name)</td><td><p>Панель не работает… Возможно это действительно хостинг упал?</p></td><td>2024-10-01T07:33:26.767Z</td></tr><tr><td>PlavaliZnaem( )</td><td><p>Думаю, да <img src="https://ntc.party/images/emoji/twitter/slight_smile.png?v=12" title=":slight_smile:" class="emoji" alt=":slight_smile:" loading="lazy" width="20" height="20"><br>
Но потом расскажите, как чем закончилось</p></td><td>2024-10-01T07:34:43.334Z</td></tr><tr><td>skyrunner(name)</td><td><p>Ок</p></td><td>2024-10-01T07:36:19.995Z</td></tr><tr><td>surpriz</td><td><p>У вас разрешены icmp до vm? если да, проверьте свою виртуалку через <a href="https://www.host-tracker.com/en/ic/ping-test" class="inline-onebox" rel="noopener nofollow ugc">Check my ping with ping test on Host-tracker.com</a></p></td><td>2024-10-01T08:41:57.081Z</td></tr><tr><td>skyrunner(name)</td><td><p><div class="lightbox-wrapper"><a class="lightbox" href="детектирование-vless-xtls-rprx-vision-reality-в-россии-а-нет-просто-упал-хостинг/a86d67319edbfc6c81d30a2c344c16e30aeee089.png" data-download-href="https://ntc.party/uploads/default/a86d67319edbfc6c81d30a2c344c16e30aeee089" title="Снимок экрана от 2024-10-01 11-51-39"><img src="детектирование-vless-xtls-rprx-vision-reality-в-россии-а-нет-просто-упал-хостинг/a86d67319edbfc6c81d30a2c344c16e30aeee089_2_690x388.png" alt="Снимок экрана от 2024-10-01 11-51-39" data-base62-sha1="o1YBPdsvEn25qmwFjCkdikedZUd" width="690" height="388" srcset="детектирование-vless-xtls-rprx-vision-reality-в-россии-а-нет-просто-упал-хостинг/a86d67319edbfc6c81d30a2c344c16e30aeee089_2_690x388.png, детектирование-vless-xtls-rprx-vision-reality-в-россии-а-нет-просто-упал-хостинг/a86d67319edbfc6c81d30a2c344c16e30aeee089_2_1035x582.png 1.5x, детектирование-vless-xtls-rprx-vision-reality-в-россии-а-нет-просто-упал-хостинг/a86d67319edbfc6c81d30a2c344c16e30aeee089_2_1380x776.png 2x" data-dominant-color="E5E5E6"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">Снимок экрана от 2024-10-01 11-51-39</span><span class="informations">1920×1080 309 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div></p></td><td>2024-10-01T08:53:08.674Z</td></tr><tr><td>skyrunner(name)</td><td><p>C сайтом хостинга так же</p></td><td>2024-10-01T08:54:24.078Z</td></tr><tr><td>0ka(0ka)</td><td><p>Измените название темы и содержание, не плодите дизинформацию</p></td><td>2024-10-01T11:39:13.189Z</td></tr><tr><td>skyrunner(name)</td><td><p>А в чем тут собственно дИзинформация?<br>
В самой статье дЕзинформации нету, заголовок увы поменять уже не могу (или не знаю как)<br>
UPD: Пользователь Tyman осущетвил вашу волю.</p></td><td>2024-10-01T13:58:00.735Z</td></tr><tr><td>skyrunner(name)</td><td><p>Вообщем, хостер написал о проблемах с дисками и о том, что упал днс. Так что да, пока xtls-rprx-vision блокируют только в Китае и Иране, но я все равно задумаюсь о переходе на форк xtls-segaro-vision)</p></td><td>2024-10-01T14:12:58.142Z</td></tr><tr><td>lucretia(lucretia)</td><td><blockquote>
<p>пока xtls-rprx-vision блокируют только в Китае и Иране</p>
</blockquote>
<p>Их не блокируют в китае\иране.   Есть косвенные признаки по котоырм могут попытаться вычислитьпрокси сервер и обычно это касается где куча народа использует</p></td><td>2024-10-01T15:23:24.477Z</td></tr><tr><td>skyrunner(name)</td><td><p>Я имею в виду личный опыт моих знакомых, а не публичных/бесплатных серверах. Да и не трудно в сети найти овер 9000 сообщений о подобных блокировках)</p></td><td>2024-10-01T15:27:41.689Z</td></tr><tr><td>lucretia(lucretia)</td><td><p>Ссылку дайте на 9000 сообщений о блокировках правильно настроенонго и используемого xtls reality прокси сервера.</p>
<p>Был дискашен на гитхабе небольший но там так ни к чему не пришли.</p>
<p>ЗЫ не удивлюсь если бОльшая ставила кривые панели, где кучу всяких протоколов  активировала и использовала непопадя. (hiddify, marzban и прочие)…</p></td><td>2024-10-01T15:36:47.750Z</td></tr><tr><td>skyrunner(name)</td><td><aside class="onebox allowlistedgeneric" data-onebox-src="https://www.linux.org.ru/forum/talks/17712406?lastmod=1725276430018#comment-17715172">
  <header class="source">
      <img src="детектирование-vless-xtls-rprx-vision-reality-в-россии-а-нет-просто-упал-хостинг/ddbb41e081d7d2f01997a6405d7d257a6d83ad08.png" class="site-icon" data-dominant-color="A0877A" width="32" height="32">

      <a href="https://www.linux.org.ru/forum/talks/17712406?lastmod=1725276430018#comment-17715172" target="_blank" rel="noopener nofollow ugc">linux.org.ru</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:276/354;"><img src="детектирование-vless-xtls-rprx-vision-reality-в-россии-а-нет-просто-упал-хостинг/f00392d3f5aa8e554d3b55b5daa85ab6a3d0b4f7.png" class="thumbnail" data-dominant-color="9C8173" width="276" height="354"></div>

<h3><a href="https://www.linux.org.ru/forum/talks/17712406?lastmod=1725276430018#comment-17715172" target="_blank" rel="noopener nofollow ugc">Как перелезть через великую китайскую стену?</a></h3>

  <p>Забросила меня судьба в Китай. Имею проблемы с интернетом. Спасаюсь роумингом, но он дорогой. Местный интернет дешёвый но там многое заблокировано. Собственно вопрос - есть ли проверенные способы работать с комфортом? Пробовал ProtonVPN, AstrillVPN...</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
<p>
Первое что нашел, чуть чел поставил xray-reality (ниже в комментариях) и его обнаружили через несколько часов.<br>
Я и не говорю сколько подобных сообщений не на Русском языке, а на том же Китайском…<br>
КОроче говоря, если вы в гугле не забанены, рекомендую поискать самим</p></td><td>2024-10-01T15:41:04.504Z</td></tr><tr><td>lucretia(lucretia)</td><td><p>Я просто говорю о том что пока недостаточно данных говорить о том чтов иране и китает 100% детектируют протокол.</p>
<p>Я нашел обсуждения про Иран разные и там дело судя по всему совсем не в детекте протокола как такового…</p></td><td>2024-10-01T16:40:29.266Z</td></tr><tr><td>skyrunner(name)</td><td><p>Как бы там нибыло, это уже тревожный звоночек, вот я и рассматриваю вариант xtls-segaro-vision…<br>
Ещё было бы интересно реализовать xtls-reality (без vision), но с мультиплексацией.<br>
Ещё что-то слышал про обновление V2RAY (обычного) и что там вроде исправили VMess, а он ведь поддерживает MUX (в отличии от xtls-vision). Короче мое мнение такого - думать над улучшениями/альтернативами популяному ныне xtls-rprx-vision и REALITY, ибо неизвестно что же будет завтра</p></td><td>2024-10-01T17:24:20.984Z</td></tr><tr><td>voper</td><td><p>Попробуйте чистый xray без панелей и с настройкой steal oneself, думаю этот вариант ещё долго проживёт</p></td><td>2024-10-01T17:24:46.467Z</td></tr><tr><td>skyrunner(name)</td><td><p>Чистый xray тоже использовал, узнав про панели я на них перешел, steal oneself как раз таки не использует xtls-rprx-vision вообще, там нету даже базового паддинга как я понял, а это в перспективе ещё хуже. К тому же не переживет белые списки. Но за совет спасибо</p></td><td>2024-10-01T17:40:06.460Z</td></tr><tr><td>voper</td><td><p>За детали не разбираюсь, но я настраивал по конфигу <a href="https://github.com/chika0801/Xray-examples/blob/main/VLESS-Vision-REALITY/steal_oneself/config_server.json" class="inline-onebox" rel="noopener nofollow ugc">Xray-examples/VLESS-Vision-REALITY/steal_oneself/config_server.json at main · chika0801/Xray-examples · GitHub</a><br>
Там есть xtls-rprx-vision</p></td><td>2024-10-01T17:42:23.320Z</td></tr><tr><td>skyrunner(name)</td><td><p>Это перенаправление на свой сайт, типо 2 в одном?<br>
А задумка классная! Но это не решает проблемы детектирования самого xtls-rprx-vision, причем неизвестно как…</p></td><td>2024-10-01T17:47:51.957Z</td></tr><tr><td>voper</td><td><p>11 смогу в Казани побывать, попробую там свой конфиг погонять, больно не светил его нигде, сразу использовал vless-reality</p></td><td>2024-10-01T17:49:41.267Z</td></tr><tr><td>voper</td><td><p>Попробуйте reality конфигурации общественные погонять, не думаю что сам xtls-rprx-vision блочат</p></td><td>2024-10-01T17:50:39.570Z</td></tr><tr><td>skyrunner(name)</td><td><p>Сейчас ещё нет, но я же выше писал, это вопрос времени, даже пусть и через анализ пакетов и инкапсуляцию (что в общем-то одно и тоже) <a href="https://www.usenix.org/conference/usenixsecurity24/presentation/xue-fingerprinting" rel="noopener nofollow ugc">https://www.usenix.org/conference/usenixsecurity24/presentation/xue-fingerprinting</a></p></td><td>2024-10-01T17:57:48.363Z</td></tr><tr><td>voper</td><td><p>Думаю найдут решение, тут как битва вооружений</p></td><td>2024-10-01T17:59:44.829Z</td></tr><tr><td>skyrunner(name)</td><td><p>Чтож, будем надееться</p></td><td>2024-10-01T18:08:51.369Z</td></tr><tr><td>Egor3f(Egor3f)</td><td><p>Тоже перестал работать свой сервер в hetzner, настроенный через 3x-ui</p>
<p>Веселье продолжается.</p></td><td>2024-10-02T04:04:35.830Z</td></tr><tr><td>zzr</td><td><p>та сплош и рядом уже к сожительению, я самолично <a href="https://ntc.party/t/%D0%BE%D0%B1%D1%81%D1%83%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B1%D0%BB%D0%BE%D0%BA%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B0-vpn-%D0%BF%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D0%BE%D0%B2-%D0%BD%D0%B0-%D1%82%D1%81%D0%BF%D1%83-05082023-xxxx2024/5239/330">испытал</a> проблемы вечером в воскресенье, но там суде по всему блочили по айпишнеку потому что даже ссш тормозил<br>
<a href="https://github.com/XTLS/Xray-core/issues/2768" rel="noopener nofollow ugc">https://github.com/XTLS/Xray-core/issues/2768</a><br>
<a href="https://github.com/XTLS/Xray-core/discussions/3269" rel="noopener nofollow ugc">https://github.com/XTLS/Xray-core/discussions/3269</a></p></td><td>2024-10-02T05:55:02.338Z</td></tr><tr><td>lucretia(lucretia)</td><td><p>many normal websites are blocked without any reason we tested this (downloading and refreshing from a normal webserver) and they were blocked after 4 days of constant traffic and downloading.</p>
<p>О чём тут говорить дальше? .обезьяны с гранатой…  естественно риалити от такого не спасет особенно если у вас активный трафик</p></td><td>2024-10-02T06:12:10.787Z</td></tr><tr><td>0ka(0ka)</td><td><aside class="quote no-group" data-username="zzr" data-post="30" data-topic="10911">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/zzr/48/14949_2.png" class="avatar"> zzr:</div>
<blockquote>
<p>проблемы вечером в воскресенье</p>
</blockquote>
</aside>
<p>как раз когда нагрузка на сеть самая высокая</p>
<aside class="quote no-group" data-username="zzr" data-post="30" data-topic="10911">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/zzr/48/14949_2.png" class="avatar"> zzr:</div>
<blockquote>
<p>даже ссш тормозил</p>
</blockquote>
</aside>
<p>у хостера или инет провайдера была перегрузка по сети</p></td><td>2024-10-02T07:12:53.344Z</td></tr><tr><td>skyrunner(name)</td><td><p>Я слышал о блокировках подсетей hetnezer, но нельзя исключать возможность блокировки именно вашего vps, именно из-за xtls-rprx-vision.<br>
У вас был только reality или ещё какие-то протоколы? У вас был закрыт 22 порт?</p></td><td>2024-10-02T08:26:15.300Z</td></tr><tr><td>skyrunner(name)</td><td><p>У вас я так понял на сервере был ещё openvpn и shadowsocks? У вас openvpn голый или завернут во что-то (клоак например?), аналогично и про shadowsocks и какой он у вас версии? 2022?</p></td><td>2024-10-02T08:28:36.174Z</td></tr><tr><td>skyrunner(name)</td><td><p>кубай</p></td><td>2024-10-02T08:31:58.478Z</td></tr><tr><td>Egor3f(Egor3f)</td><td><p>Сам хост работает. Ваши предположения неверны. Настроил через вебсокеты, все ок. Блочится именно протокол xtls-reality. Ростелеком москва (бывш.онлайм)</p></td><td>2024-10-02T08:34:02.395Z</td></tr><tr><td>skyrunner(name)</td><td><p>Понял, принял. Я думаю это должно натолкнуть на некоторые выводы.</p></td><td>2024-10-02T08:35:56.865Z</td></tr><tr><td>zzr</td><td><p>не опенвпн голый (коньтейнер антизапрета), ss 22 года ета да</p></td><td>2024-10-02T09:11:18.401Z</td></tr><tr><td>zzr</td><td><p>может быть who knows, но там были жоские ретрансмишены именно на етот адрес так что… ХЗ) всё остальнойе работало чётко</p></td><td>2024-10-02T09:11:32.186Z</td></tr><tr><td>skyrunner(name)</td><td><p>У вас reality  был на 443 порту?</p></td><td>2024-10-02T09:25:15.776Z</td></tr><tr><td>0ka(0ka)</td><td><p>для информации: skyrunner в тихую удалил пост где писал про блокировку ip его vps, на деле она всё еще лежит</p></td><td>2024-10-02T09:43:05.752Z</td></tr><tr><td>zzr</td><td><p>ага, я даж SS делал не по айпишнеку а по домемному имени (чтоб понтдозрений не вызывало))</p>
<p><a class="mention" href="/u/0ka">@0ka</a> я хз кто такой етот скайранер или щто ето</p></td><td>2024-10-02T10:30:15.451Z</td></tr><tr><td>skyrunner(name)</td><td><p>Не плоди дезинформацию, я удалил то, где ошибся сам.<br>
Надо было тебя оповестить об этом?</p></td><td>2024-10-02T11:25:22.033Z</td></tr><tr><td>skyrunner(name)</td><td><p>Опенвпна там не было, я правильно понял?</p></td><td>2024-10-02T11:27:03.618Z</td></tr><tr><td>0ka(0ka)</td><td><aside class="quote no-group" data-username="skyrunner" data-post="43" data-topic="10911">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/skyrunner/48/15146_2.png" class="avatar"> skyrunner:</div>
<blockquote>
<p>Надо было тебя оповестить об этом?</p>
</blockquote>
</aside>
<p>надо было оповестить об этом всех</p></td><td>2024-10-02T12:04:52.993Z</td></tr><tr><td>zzr</td><td><p>была опенвпна, яж говорю коньтейнер антезапрета там стоит(ял) или для вас ето контейнер как черная коропка хз чё там внутри или щто типа?)</p></td><td>2024-10-02T12:21:01.515Z</td></tr><tr><td>skyrunner(name)</td><td><p>В таком случае, надо было мне тут ответить, а не в ЛС</p></td><td>2024-10-02T12:48:58.430Z</td></tr><tr><td>skyrunner(name)</td><td><p>Ну тут ситуация не однозначная, нужно больше информации</p></td><td>2024-10-02T12:49:52.262Z</td></tr><tr><td>skyrunner(name)</td><td><p>Хостер все починил, все работает. Если ситуация измениться, напишу</p></td><td>2024-10-10T18:25:32.388Z</td></tr><tr><td>Ghostrunner</td><td><p>Немножко с запозданием спрошу, я только-только начал разбираться в этой теме, поэтому пока что совсем зелёный.<br>
Вы упоминали про “правильно настроить”, а также про “обезьяну с гранатой”, и что Reality от такого не спасает.<br>
У меня вопрос, как именно правильно настроить и использовать Reality, чтобы не задетектило?<br>
В данный момент у меня настроен VPS на Xray, сайт для XTLS я вбил по дефолту, <a href="http://Google.com" rel="noopener nofollow ugc">Google.com</a>. Туда же установлен WARP, маршрутизация через него идет по правилу <code>geosite:category-gov-ru,regexp:.*\.ru$,regexp:.*\.su$</code><br>
Подключаюсь через Nekoray, использую режим системного прокси для общих задач (работы в браузере), режим TUN с outbound bypass и отдельным правилом для дискорда, чтобы одновременно нормально работали и ДС, и игры.</p></td><td>2024-10-10T20:02:31.403Z</td></tr><tr><td>skyrunner(name)</td><td><p>От себя вам отвечу, если вы не используете REALITY на сами себя, то лучше использовать домен в сети вашего хостера, для этого можно использовать утилиту <a href="https://github.com/XTLS/RealiTLScanner" class="inline-onebox" rel="noopener nofollow ugc">GitHub - XTLS/RealiTLScanner: A TLS server scanner for Reality</a> , и открыть порты которые открыты на этом сервере и закрыть которые закрыты. Короче мимикрия. Ещё рекомендую использовать SpiderX, обьяснять лень, скину ссылку на русский полноценный гайд - <a href="https://github.com/XTLS/Xray-core/discussions/3518" class="inline-onebox" rel="noopener nofollow ugc">Настройка VLESS + TCP + REALITY + VISION + uTLS · XTLS/Xray-core · Discussion #3518 · GitHub</a></p></td><td>2024-10-11T09:25:44.401Z</td></tr><tr><td>partyhard</td><td><p>Добавлю еще, что лучше перевесить ssh-порт на какой-нибудь нестандартный. Не забудьте при этом разрешить этот порт на файрволе сервера.</p></td><td>2024-10-11T09:46:00.658Z</td></tr><tr><td>MasterYoba</td><td><p>В этом мало смысла, если мимикрируешь под собственный сайт “steal oneself”. Да и любой портскан выявит ssh на любом порту. Если уж прятать ssh, то надо правилами фаервола его ограничивать, чтобы заход был только со своего ip-адреса(ов).</p></td><td>2024-10-11T10:32:40.317Z</td></tr><tr><td>rewhat</td><td><aside class="quote no-group" data-username="MasterYoba" data-post="53" data-topic="10911">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/masteryoba/48/6182_2.png" class="avatar"> MasterYoba:</div>
<blockquote>
<p>Если уж прятать ssh, то надо правилами фаервола его ограничивать, чтобы заход был только со своего ip-адреса(ов)</p>
</blockquote>
</aside>
<p>А если айпишник (серый?) динамический? Есть варианты?</p>
<p>Или если вход по ключу, то по сути вообще смысла нет прятать ssh?</p></td><td>2024-10-23T16:42:27.544Z</td></tr><tr><td>skyrunner(name)</td><td><p>Я рекомендую погуглить и почитать manЫ, ибо информации на эту тему выше крыши</p></td><td>2024-10-23T18:44:44.681Z</td></tr><tr><td>rewhat</td><td><p>Лень пару предложений написать чтоб помочь? Окей.</p></td><td>2024-10-23T18:47:17.424Z</td></tr><tr><td>skyrunner(name)</td><td><p>Дело вовсе не в лени, а в том, что на том же лоРе скорее всего был подобный вопрос (как скрыть свой ssh?), или на другом форуме, аты поленился вбить в  свой браузер гугал точка ком и спросить, как скрыть свой ssh? панимаиш? такова судба всэхъх красноглазиков, а кразноглазить тебе придеться, ежели хочешь удовлитворить интерес… Это вечное проклятие…</p></td><td>2024-10-23T19:28:48.643Z</td></tr><tr><td>rewhat</td><td><p>Не то что бы мне это супер-надо было, чтоб гуглить это. Думаю входа по ключу и так хватит. Просто думал в пару предложений обрисуют мои пару вопросов.</p></td><td>2024-10-23T19:34:29.809Z</td></tr><tr><td>skyrunner(name)</td><td><aside class="onebox allowlistedgeneric" data-onebox-src="https://habr.com/ru/articles/686120/">
  <header class="source">
      <img src="детектирование-vless-xtls-rprx-vision-reality-в-россии-а-нет-просто-упал-хостинг/e8fc7b34a1237fbc93fd62548efc1a4df1f7fa72.png" class="site-icon" data-dominant-color="97BFD2" width="16" height="16">

      <a href="https://habr.com/ru/articles/686120/" target="_blank" rel="noopener nofollow ugc">Хабр</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/361;"><img src="детектирование-vless-xtls-rprx-vision-reality-в-россии-а-нет-просто-упал-хостинг/e3a9f1356ec4967fbe8a02c53b2e893ef4c1f2ff_2_690x394.png" class="thumbnail" data-dominant-color="354344" width="690" height="394"></div>

<h3><a href="https://habr.com/ru/articles/686120/" target="_blank" rel="noopener nofollow ugc">Как защититься от сканирования портов и Shodan?</a></h3>

  <p>Серверы в опасности! Вы знали, что каждый включенный и подключенный к сети сервер постоянно подвергается атакам? Это могут быть разные атаки и с разной целью. Это может быть перебор портов с целью...</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
<p>
Одна из первых ссылок на мой запрос</p></td><td>2024-10-23T19:34:54.998Z</td></tr><tr><td>rewhat</td><td><p>спасибо. Но я не пойму, а есть смысл вообще в сокрытии портов? Ну допустим ssh на 22 порту, вход по ключу. HTTP на 80 порту. Ну и что дальше? Как это на безопасность влияет вообще?</p></td><td>2024-10-23T19:36:55.354Z</td></tr><tr><td>skyrunner(name)</td><td><p>Ещё можно почитать комментарии к этой статье</p></td><td>2024-10-23T19:37:02.748Z</td></tr><tr><td>skyrunner(name)</td><td><p>Чтобы провайдер не понял что это ssh сервер, я так понял суть сего действа</p></td><td>2024-10-23T19:37:32.643Z</td></tr><tr><td>MasterYoba</td><td><p>Я бы тогда сделал правило с подсетью или подсетями, из которых ваш оператор выдает адреса, их как правило немного и они легко гуглятся. Это всяко лучше, чем открытый всему интернету и сканерам ркн порт.</p>
<p>Лично я использую джамп хост, то есть второй промежуточный сервер за рубежом, через который я хожу на основной, где у меня запущен прокси, и заход на основной фаерволом разрешен только с адреса промежуточного. Но даже если доступ по какой-то причине потеряется, всегда есть веб-консоль в личном кабинете хостера.</p></td><td>2024-10-23T19:41:57.809Z</td></tr><tr><td>skyrunner(name)</td><td><p>Отличный вариант, требующий бОльших денег, но задумка гуд</p></td><td>2024-10-23T19:45:27.688Z</td></tr><tr><td>rewhat</td><td><aside class="quote no-group" data-username="MasterYoba" data-post="63" data-topic="10911">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/masteryoba/48/6182_2.png" class="avatar"> MasterYoba:</div>
<blockquote>
<p>Лично я использую джамп хост</p>
</blockquote>
</aside>
<p>Да, прикольно, только лишние затраты на сервер получаются.</p>
<aside class="quote no-group" data-username="MasterYoba" data-post="63" data-topic="10911">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/masteryoba/48/6182_2.png" class="avatar"> MasterYoba:</div>
<blockquote>
<p>Я бы тогда сделал правило с подсетью или подсетями, из которых ваш оператор выдает адреса, их как правило немного и они легко гуглятся.</p>
</blockquote>
</aside>
<p>Эти подсети наверное надо будет обновлять раз в месяц или типа того? Я так просто с файрвола разрешал доступ только для Cloudflare, и у них айпишники время от времени надо обновлять. У провайдеров тоже так наверное <img src="https://ntc.party/images/emoji/twitter/thinking.png?v=12" title=":thinking:" class="emoji" alt=":thinking:" loading="lazy" width="20" height="20">.</p>
<p>Спасибо.</p></td><td>2024-10-23T19:45:42.894Z</td></tr><tr><td>Bl00dWolf</td><td><p>Не буду плодить тему, апну эту.<br>
Крч у меня походу реально “срисовали”. VLESS настроил.</p>
<p>Есть сервер мой, который всегда работает. ICMP я вырубил, но включил ток что обратно для тестов.<br>
Ситуация - просто по dns имени нет коннекта и по ип по 443, пишет ERR_CONNECTION_TIMED_OUT<br>
ICMP пинги ходят, 100% все.</p>
<p>Пробую через мобильный инет, т.е. там оператор же другой, провайдер - там все ок, по dns имени и ип заходит успешно.<br>
И друзьям, которым я дал VLESS доступ профили - все ок еще.</p>
<p>Вопрос - какого хрена? Т.е. начали блочить, как-то чекают? =( Буду благодарен если подскажите, что еще смотреть в данной ситуевине.</p></td><td>2024-12-03T21:42:32.123Z</td></tr><tr><td>Bl00dWolf</td><td><p><div class="lightbox-wrapper"><a class="lightbox" href="детектирование-vless-xtls-rprx-vision-reality-в-россии-а-нет-просто-упал-хостинг/be5804f8e0ccede8fa123bc4fa4ef7d6108fdf4b.png" data-download-href="https://ntc.party/uploads/default/be5804f8e0ccede8fa123bc4fa4ef7d6108fdf4b" title="NVIDIA_Overlay_OkpeZfC2Dg"><img src="детектирование-vless-xtls-rprx-vision-reality-в-россии-а-нет-просто-упал-хостинг/be5804f8e0ccede8fa123bc4fa4ef7d6108fdf4b.png" alt="NVIDIA_Overlay_OkpeZfC2Dg" data-base62-sha1="r9RiBH17krRw3MxL62hgrAfQypB" width="690" height="169" data-dominant-color="535A5F"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">NVIDIA_Overlay_OkpeZfC2Dg</span><span class="informations">1391×341 40.5 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div></p>
<p>вот так для wireshark это выглядит</p></td><td>2024-12-03T21:48:31.274Z</td></tr><tr><td>Bl00dWolf</td><td><p>Что-то не то. Я смотрю, как блокировка ТСПУ выглядит и там просто идет CLIENT HELLO и потом тишина.<br>
На скрине что я кинул вообще не то, совсем. Тогда что происходит? Т.е. нет доступа, но по какой причине не ясно и почему только у меня и только на этом провайдере.</p></td><td>2024-12-03T21:54:45.631Z</td></tr><tr><td>c5sa(c5sa)</td><td><p>Кто хостер? Htzner, ovh сейчас проблемы</p><aside class="quote" data-post="1" data-topic="12845">
  <div class="title">
    <div class="quote-controls"></div>
    <img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/letter_avatar_proxy/v4/letter/b/58f4c7/48.png" class="avatar">
    <a href="https://ntc.party/t/%D0%BD%D0%B5%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%BD%D0%BE%D1%81%D1%82%D1%8C-hetzner/12845">Недоступность Hetzner</a> <a class="badge-category__wrapper " href="/c/internet-censorship-all-around-the-world/russia/12"><span data-category-id="12" style="--category-badge-color: #BF1E2E; --category-badge-text-color: #FFFFFF; --parent-category-badge-color: #0088CC;" data-parent-category-id="10" data-drop-close="true" class="badge-category --has-parent" title="Информация и обсуждение блокировок ресурсов в Российской Федерации"><span class="badge-category__name">Russia</span></span></a>
  </div>
  <blockquote>
    Вчера из РФ перестали открываться сайты, размещенные на хостинге Hetzner, которые отдают содержимое с него напрямую и не имеют других CDN по дороге. Через VPN других стран все работает. 
Анализ трафика показывает, что пакеты SYN остаются без ответа. Пинги при этом проходят. 
Пример сайтов для проверки: 

<a href="https://w3techs.com/" rel="noopener nofollow ugc">https://w3techs.com/</a>
<a href="https://kde.org/" rel="noopener nofollow ugc">https://kde.org/</a>
<a href="https://archlinux.org/" rel="noopener nofollow ugc">https://archlinux.org/</a>
<a href="https://filezilla-project.org/" rel="noopener nofollow ugc">https://filezilla-project.org/</a>
<a href="https://matrix.beeper.com/" rel="noopener nofollow ugc">https://matrix.beeper.com/</a>
<a href="https://wetdry.world/" rel="noopener nofollow ugc">https://wetdry.world/</a>
<a href="https://tilde.institute/" rel="noopener nofollow ugc">https://tilde.institute/</a>
  </blockquote>
</aside>
</td><td>2024-12-04T00:20:27.303Z</td></tr><tr><td>Bl00dWolf</td><td><p>Хостинг ovh.<br>
Прикол… вот нехорошие люди. А мне они пишут, что никаких проблем к них.</p></td><td>2024-12-04T06:30:02.237Z</td></tr><tr><td>c5sa(c5sa)</td><td><p>Не у них проблемы, а в РФ что-то мутят с фильтрацией, почитайте тему</p></td><td>2024-12-04T06:50:51.367Z</td></tr><tr><td>anon9001(anon)</td><td><aside class="quote no-group" data-username="Bl00dWolf" data-post="66" data-topic="10911">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/letter_avatar_proxy/v4/letter/b/2bfe46/48.png" class="avatar"> Bl00dWolf:</div>
<blockquote>
<p>Вопрос - какого хрена?</p>
</blockquote>
</aside>
<p>Хрен в том что твой сервер централизированый. Как видишь твой драгоценнинький vless не справляется с ip ban. Это single point of failure. Вот скажи мне что ты будешь делать когда все cdn заблокируют целыми subnet? Нужно менять хостинг на либо у друга под кроватью, либо у крипто компании которая low key для хоббиистов о которой мало кто знает</p></td><td>2024-12-04T06:54:28.744Z</td></tr><tr><td>Bl00dWolf</td><td><p>Да, я извиняюсь, уже почитал. Жопа, что тут сказать.</p></td><td>2024-12-04T07:10:57.418Z</td></tr><tr><td>Bl00dWolf</td><td><p>Я это прекрасно понимаю. Если нет доступа по ип до vless там уже пофиг, как жто устроено, абсолютно.</p>
<p>Хотя есть такая штука как VPN over ICMP, а ICMP не блочится. Но это весьма экстравагантный метод и именно норм софтины для него нет, разве что softether.</p></td><td>2024-12-04T07:12:00.808Z</td></tr><tr><td>skyrunner(name)</td><td><p>Есть вариант с роутером  в другой стране и белым апи</p></td><td>2024-12-04T07:21:21.523Z</td></tr><tr><td>skyrunner(name)</td><td><p>Выхода нету только из гроба и то не факт, хостингов ещё полно</p></td><td>2024-12-04T07:22:23.062Z</td></tr><tr><td>anon9001(anon)</td><td><aside class="quote no-group" data-username="skyrunner" data-post="76" data-topic="10911">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/skyrunner/48/15146_2.png" class="avatar"> skyrunner:</div>
<blockquote>
<p>Выхода нету только из гроба</p>
</blockquote>
</aside>
<p>Есть выход. Любят говорить про закручивание гаек, однако их так долго крутят что старые заржавели и сломались. Те же пинги или серф хостинги это классика</p></td><td>2024-12-04T07:31:45.335Z</td></tr><tr><td>Bl00dWolf</td><td><p>Тут согласен, это все и делаем, просто как же задолбало =) Люблю закрытый инет за свои же налоги.<br>
Я хостинг на оч долго оплатил и мне обидно.</p></td><td>2024-12-04T07:36:43.517Z</td></tr><tr><td>0ka(0ka)</td><td><p>Проксируй через cloudflare или ру впс где блока нет (напр селектел за 200р)</p></td><td>2024-12-04T08:38:55.144Z</td></tr><tr><td>denium</td><td><p>Говорят, помогает отключение роутера на 15 минут. Но блокировка всё равно может вернуться потом.</p></td><td>2024-12-04T10:31:11.182Z</td></tr><tr><td>skyrunner(name)</td><td><p>Поговори с поддержкой хостера, пусь деьнги вернет</p></td><td>2024-12-04T13:13:24.316Z</td></tr><tr><td>Bl00dWolf</td><td><p>Платил человек сторонний за него, зарубежной картой =) Они не могут на РУ вернуть. Тк что тут это мне не поможет.</p>
<p>Хватило бы смены ipv4 с их стороны, но они это тоже не хотят делать.</p></td><td>2024-12-04T13:55:31.684Z</td></tr><tr><td>Bl00dWolf</td><td><p>У меня знаешь, утром работает, а днем отрыгивает на весь день. Так что что-то в этом есть. Мб попробую с роутером идею, посмотрим.</p></td><td>2024-12-04T13:56:00.982Z</td></tr><tr><td>Bl00dWolf</td><td><p>Это конечно гениально, но тоже как вариант, подумаю спс.</p></td><td>2024-12-04T13:57:00.383Z</td></tr><tr><td>skyrunner(name)</td><td><p>Пусть вернут человеку, который платил? Или отправят криптовалютой. Всегда можно договориться</p></td><td>2024-12-04T20:36:48.527Z</td></tr>
    </table>
      </body>
    </html>