
    <html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style>
    th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      word-wrap: break-word;
      padding: 5px;
    }
    table {
      width: 100%;
      max-width: 100%;
      border: 1px solid black;
      border-collapse: collapse;
      table-layout: fixed;
      word-wrap: break-word
    }
    code {
      word-wrap: break-word;
    }
    pre {
        white-space: pre-wrap;
    }
    </style>
        <title>проблемы-с-прогрузкой-видео-на-ютубе-под-shadowsocks</title>
      </head>
      <body>
        <table border="1" width="100%" cellpadding="5">
          <tr>
            <th style="width: 10%;">Ник</th>
            <th>Пост</th>
            <th style="width: 10%;">Дата</th>
          </tr>
    <tr><td>Addme</td><td><p>Проблема с видео, когда сижу под шадоусоксом, видео загружается либо не сразу, либо только после того, как открою страницу и еще раз обновлю ее, при этом превью загружаются нормально, если на видео курсор навести. Если сидеть под запретом, такой проблемы нет, все видео открываются мгновенно и без задержек. Использую клиент nekoray в режиме tun только на нужные мне домены. Мы вместе с другом подключены в одной впске и настройки у нас одинаковые, но у него такой проблемы нет.</p>
<p>p.s. Я пробовал блокировать GGC сервера и ничего не помогает</p></td><td>2024-11-08T11:57:53.347Z</td></tr><tr><td>0ka(0ka)</td><td><p>Отключи QUIC в браузере</p></td><td>2024-11-08T13:26:37.114Z</td></tr><tr><td>Addme</td><td><p><div class="lightbox-wrapper"><a class="lightbox" href="проблемы-с-прогрузкой-видео-на-ютубе-под-shadowsocks/c62f2ff352ad0b05d932ee37f1ebca31502bc762.png" data-download-href="https://ntc.party/uploads/default/c62f2ff352ad0b05d932ee37f1ebca31502bc762" title="image"><img src="проблемы-с-прогрузкой-видео-на-ютубе-под-shadowsocks/c62f2ff352ad0b05d932ee37f1ebca31502bc762.png" alt="image" data-base62-sha1="shdDwuZA7VKtM1OTcHNdDQHbZyq" width="690" height="106" data-dominant-color="32363B"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">755×116 4.96 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div><br>
Отключен, как и включен DoH от клаудов</p></td><td>2024-11-08T13:41:17.892Z</td></tr><tr><td>roman_sv</td><td><p>Все гугловые домены закинул в фильтр? У меня периодически gmail полурабочий, например. Такое ощущение, что часть диапазона залетает в блек лист на некоторых гуглодоменах.</p>
<details>
<summary>
Домены</summary>
<pre><code class="lang-auto">youtube.com
youtube-nocookie.com
googlevideo.com
ytimg.com
youtu.be
yt.be
ggpht.com
googleapis.com
youtubekids.com
googleusercontent.com
gstatic.com
nhacmp3youtube.com
youtubeeducation.com
ytimg.l.google.com
youtube-ui.l.google.com
play.google.com
video.google.com
gvt1.com
le100.net
</code></pre>
</details>
<p>Если дело не в доменах, то может быть опять гугл чудит с выдачей правильных googlevideo адресов и суёт те, что не отвечают. Посмотри в логе браузера, есть ли там таймауты до гуглвидео.<br>
У меня идей других нет.</p>
<p>Алсо, не люблю TUN в сингбоксах/некореях. Уж лучше сокс5 пусть слушает, а скрипт доменов подсунуть браузеру в PAC. Если лису юзаешь, вообще можно не париться и юзать smart proxy. Тыкаешь два раза мышкой и при открытии ютуба ВСЕ домены на вкладке с ютубом шуруют в проксю. Не надо списки вылавливать. В хроме облом - 3 манифест сломал эту фичу навсегда.</p></td><td>2024-11-08T14:55:19.602Z</td></tr><tr><td>Addme</td><td><p>Домены все есть, обычно вот так перед загрузкой<br>
<img src="проблемы-с-прогрузкой-видео-на-ютубе-под-shadowsocks/14f56e0fcbfed756203bca7731983cb97e1343c2.png" alt="image" data-base62-sha1="2ZpnB30MffaUexKb2LzxVeZ69oK" width="325" height="96"><br>
Как видно, таймауты есть<br>
<img src="проблемы-с-прогрузкой-видео-на-ютубе-под-shadowsocks/3d176e3746f6f7489ac868d80a9c923f52843907.png" alt="image" data-base62-sha1="8IrkaKNujleK7VyO22InzEZ2eQT" width="502" height="63"><br>
А в чем проблема с TUN в некорее? я использую его в режиме байпасс и еще использую для дискорда, поэтому с браузером мне не подойдет</p></td><td>2024-11-08T21:59:09.848Z</td></tr><tr><td>roman_sv</td><td><p>Ну если есть именно таймауты, то помогает после прокси WG/warp через CF.<br>
Но у меня уже давно нет такого. Какое-то время без CF было невозможно, все видео долго висели, браузер долбился в GGC, которые в рф, и получал таймауты. Потом попадался украинский GGC и видео начинало работать. <a href="https://ntc.party/t/google-%D0%BD%D0%B0%D1%87%D0%B0%D0%BB-%D0%B2%D0%BD%D0%BE%D1%81%D0%B8%D1%82%D1%8C-ip-proxy-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%BE%D0%B2-%D0%B2-%D1%81%D0%BF%D0%B8%D1%81%D0%BE%D0%BA-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%BE%D0%B2-%D1%80%D1%84-%D0%B3%D0%B5%D0%BE%D1%82%D0%B0%D1%80%D0%B3%D0%B5%D1%82%D0%B8%D0%BD%D0%B3/9111">Здесь</a> вот писали об этом.</p>
<p>А дискорд нельзя отправить в сокс? Он же на электроне сделан. В element (matrix) надо просто дописать:<br>
<code>--proxy-server="socks5://127.0.0.1:2080"</code></p>
<p>tun не нравится, потому что на линуксе у некобокса с ним как-то не очень. Да и вообще некобокс нестабильный оказался (например постоянно DNS начинает ломаться в нём). Я sing-box установил без этого обвеса.</p></td><td>2024-11-09T10:11:21.084Z</td></tr><tr><td>spotted_giraffe</td><td><aside class="quote no-group" data-username="roman_sv" data-post="6" data-topic="12882">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/letter_avatar_proxy/v4/letter/r/ecb155/48.png" class="avatar"> roman_sv:</div>
<blockquote>
<p>А дискорд нельзя отправить в сокс? Он же на электроне сделан. В element (matrix) надо просто дописать</p>
</blockquote>
</aside>
<p>Насколько я припоминаю, дискорд порождает дополнительные процессы, на которые это уже не распространяется. Часть не пойдет через прокси</p></td><td>2024-11-09T22:01:15.903Z</td></tr><tr><td>roman_sv</td><td><p>Да-да, точно. Забыл об этом.</p></td><td>2024-11-10T08:10:29.452Z</td></tr><tr><td>hdrover</td><td><p>Как раз из-за того, что не хотел держать постоянный TUN только для дискорда, написал программу, которая направляет дискорд на http/socks5 прокси (nekobox или что-то другое). Голос и видео (udp) при этом идут напрямую (добавлен небольшой обход DPI, который на данный момент работает).</p><aside class="quote quote-modified" data-post="1" data-topic="12044">
  <div class="title">
    <div class="quote-controls"></div>
    <img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/letter_avatar_proxy/v4/letter/h/41988e/48.png" class="avatar">
    <a href="https://ntc.party/t/%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-%D0%BF%D1%80%D0%BE%D0%BA%D1%81%D0%B8-%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE-%D0%B4%D0%BB%D1%8F-discord-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-dll-%D0%BF%D0%BB%D1%8E%D1%81-%D0%B3%D0%BE%D0%BB%D0%BE%D1%81%D0%BE%D0%B2%D1%8B%D0%B5-%D0%B7%D0%B2%D0%BE%D0%BD%D0%BA%D0%B8-%D0%B1%D0%B5%D0%B7-%D0%BF%D1%80%D0%BE%D0%BA%D1%81%D0%B8/12044">Настройка прокси только для Discord через DLL (плюс голосовые звонки без прокси)</a> <a class="badge-category__wrapper " href="/c/community-software/27"><span data-category-id="27" style="--category-badge-color: #BF1E2E; --category-badge-text-color: #FFFFFF;" data-drop-close="true" class="badge-category " title="Anti-censorship software of our community developers"><span class="badge-category__name">Community software</span></span></a>
  </div>
  <blockquote>
    Мне пришлось искать альтернативу постоянному использованию TUN только для Discord, поэтому я разработал DLL, которая позволяет Discord использовать прокси-сервер без вмешательства в работу системы. Также удалось решить проблему с голосовыми звонками, чтобы они работали без использования прокси. Решил поделиться этой программой, возможно, кому-то пригодится. Написано на Delphi. 
Эта программа заставляет Windows-версию Discord подключаться через указанный прокси-сервер (HTTPS или SOCKS5) для всех …
  </blockquote>
</aside>
</td><td>2024-11-10T08:48:24.423Z</td></tr><tr><td>brauzer</td><td><p>tcp bbr включить нужно, если ещё не включен<br>
проверка</p>
<pre><code class="lang-auto">&gt; sysctl net.ipv4.tcp_congestion_control
net.ipv4.tcp_congestion_control = bbr
</code></pre></td><td>2024-11-10T11:28:08.576Z</td></tr><tr><td>0ka(0ka)</td><td><aside class="quote no-group" data-username="brauzer" data-post="10" data-topic="12882">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/letter_avatar_proxy/v4/letter/b/e79b87/48.png" class="avatar"> brauzer:</div>
<blockquote>
<p>tcp bbr включить нужно</p>
</blockquote>
</aside>
<p>не нужно, а можно. это не правило, bbr только лишь ускоряет TCP прокси в случае большой потери пакетов (а если в браузере включен quic, то это не сделает ничего, т.к. quic это udp, а ss гоняет udp трафик через udp прокси), это не обход шейпинга или блокировок.</p></td><td>2024-11-10T17:41:35.736Z</td></tr>
    </table>
      </body>
    </html>