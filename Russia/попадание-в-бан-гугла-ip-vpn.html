
    <html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style>
    th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      word-wrap: break-word;
      padding: 5px;
    }
    table {
      width: 100%;
      max-width: 100%;
      border: 1px solid black;
      border-collapse: collapse;
      table-layout: fixed;
      word-wrap: break-word
    }
    code {
      word-wrap: break-word;
    }
    pre {
        white-space: pre-wrap;
    }
    </style>
        <title>попадание-в-бан-гугла-ip-vpn</title>
      </head>
      <body>
        <table border="1" width="100%" cellpadding="5">
          <tr>
            <th style="width: 10%;">Ник</th>
            <th>Пост</th>
            <th style="width: 10%;">Дата</th>
          </tr>
    <tr><td>Albert</td><td><p>Заметил, что при длительном использовании VPN (в моем случае после около года) гугл начал блокировать свои некоторые сервисы (например google lens, google code (opensource.google), google pay), а так же spotify возвращает ошибку 403 при попытке открыть страницу (tracert говорит, что spotify связан с <a href="http://googleusercontent.com" rel="noopener nofollow ugc">googleusercontent.com</a>).<br>
Скорее всего, гугл получил мое реальное местоположение (Крым) через геолокацию, например при использовании VPN на телефоне и пометил зарубежный IP как крымский.</p>
<p>Как в будущем можно предотвратить подобное? Какие пакеты можно дропать на VPS, что бы гугл не получал мою геолокацию.</p></td><td>2022-11-15T14:47:50.653Z</td></tr><tr><td>bolvan</td><td><p>Сейчас не ведется уже никакой открытой коммуникации. Все идет через TLS.<br>
Да, наверно можно дропнуть отдельные хосты, которые используются сейчас для передачи этой информации. Но скорее всего это часть облачной инфраструктуры, к которой подключаются google apps. Если ее резать, перестанет работать много чего.<br>
К тому же в будущем может что-то измениться. Сегодня вы 1 хост забанили, завтра будут передавать на другой.</p>
<p>Радикальное решение - избавляться от гугл аппс вообще и от сервисов гугла. Отвыкать от синхронизации, облаков и прочих удобностей.<br>
В идеале - сносить сток и накатывать свободную ОС. Привыкать подбирать устройства именно под снос и взлом, а не только исходя из потребительских характеристик</p></td><td>2022-11-15T16:25:01.609Z</td></tr><tr><td>Albert</td><td><p>Да понятно, что через TLS, думал на уровне DNS sniffing можно какой адрес в blackhole отправить.<br>
Пока проблему решил использованием на выходе VPS-ки предоставляемого адреса ipv6. Заворачиваю весь гугл и спотифай через ipv6.</p>
<p>P.S. VPN использую китайский xray</p></td><td>2022-11-17T19:13:16.538Z</td></tr><tr><td>anonymous72(anonymous72)</td><td><p><a href="https://support.google.com/android/answer/3467281#location_accuracy" rel="noopener nofollow ugc">Google Location Services a.k.a. Google Location Accuracy</a></p>
<aside class="quote no-group">
<blockquote>
<p>When you have Google Location Accuracy turned on, your phone uses these sources to get the most accurate location:</p>
<pre><code>GPS
Wi-Fi
Mobile networks
Sensors (such as accelerometer)
</code></pre>
<p>Google may collect location data periodically and use this data in an anonymous way to improve location accuracy and location-based services.</p>
</blockquote>
</aside>
<p><a href="https://developers.google.com/maps/documentation/geolocation/overview" rel="noopener nofollow ugc">The Geolocation API</a></p>
<aside class="quote no-group">
<blockquote>
<p>Geolocation requests are sent using POST to the following URL:</p>
<p><a href="https://www.googleapis.com/geolocation/v1/geolocate?key=YOUR_API_KEY" rel="noopener nofollow ugc">https://www.googleapis.com/geolocation/v1/geolocate?key=YOUR_API_KEY</a></p>
<p>If the request body is not included, the results will be returned based on the IP address of request location.</p>
</blockquote>
</aside>
<p>Если это единственная точка для сбора, можно заблокировать <code>www.googleapis.com</code> и наблюдать.</p></td><td>2022-11-17T20:53:24.583Z</td></tr>
    </table>
      </body>
    </html>