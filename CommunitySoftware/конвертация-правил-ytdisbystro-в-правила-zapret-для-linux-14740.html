
    <html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style>
    th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      word-wrap: break-word;
      padding: 5px;
    }
    table {
      width: 100%;
      max-width: 100%;
      border: 1px solid black;
      border-collapse: collapse;
      table-layout: fixed;
      word-wrap: break-word
    }
    code {
      word-wrap: break-word;
    }
    pre {
        white-space: pre-wrap;
    }
    </style>
        <title>конвертация-правил-ytdisbystro-в-правила-zapret-для-linux-14740</title>
      </head>
      <body>
        <table border="1" width="100%" cellpadding="5">
          <tr>
            <th style="width: 10%;">Ник</th>
            <th>Пост</th>
            <th style="width: 10%;">Дата</th>
          </tr>
    <tr><td>Vitek9614(Виктор)</td><td><p>Доброго времени суток всем! Снова неоднократно испытывал проблемы с OpenVPN (на роутере) с конфигурацией antizapret, тупо перестают открываться вообще все сайты на всех устройствах. Возможно провайдер чудит. Заморочился и недавно нашёл для себя рабочий вариант доступа к YouTube и к сайтам с использованием YTDisBystro (производная от zapret) c приложенным файлом cmd и при включенным DNSCrypt в настройках роутера. Проверил и YouTube, и все необходимые сайты - всё открывается и работает быстро. В связи с чем возник вопрос, может ли кто помочь те настройки, что прописаны в этом файле “1_preset_russia_zl.cmd” переписать для использования на роутере с прошивкой Padavan 3.4.3.9L-102_6155192 (самый свежий на 19.01.25 билд) в разделе “Сервис обхода блокировок DPI”? Заранее благодарен!<br>
<a class="attachment" href="конвертация-правил-ytdisbystro-в-правила-zapret-для-linux-14740/3XYlWZS9qbqXI0V22GSU6Lvb5No.cmd">1_preset_russia_zl.cmd</a> (1,9 КБ)</p></td><td>2025-01-19T19:10:45.638Z</td></tr><tr><td>Vitek9614(Виктор)</td><td><p>Только что проверил программу Launcher for Zapret, естественно YTDisBystro был закрыт. Всё также работает с настройками по умолчанию, выбрана опция “YouTube+Discord+сайты” (как на скриншоте). Можно ли оттуда выдернуть настройки и адаптировать для роутера?<br>
<img src="конвертация-правил-ytdisbystro-в-правила-zapret-для-linux-14740/899d2e334ea55d8aada539a5d3cdb7244665af2d.png" alt="2025-01-21 142544" data-base62-sha1="jDoaBxu4w90VuwEUrJPTcUuVgXb" width="565" height="492"><br>
<div class="lightbox-wrapper"><a class="lightbox" href="конвертация-правил-ytdisbystro-в-правила-zapret-для-linux-14740/7528b810df01f9f97a3872b7378c651825cf1d1a.png" data-download-href="https://ntc.party/uploads/default/7528b810df01f9f97a3872b7378c651825cf1d1a" title="2025-01-21 144304"><img src="конвертация-правил-ytdisbystro-в-правила-zapret-для-linux-14740/7528b810df01f9f97a3872b7378c651825cf1d1a.png" alt="2025-01-21 144304" data-base62-sha1="gIr6sdbN5J1c8cdTuoiCF5MlgZs" width="690" height="214" data-dominant-color="E8ECEF"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">2025-01-21 144304</span><span class="informations">698×217 5.81 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div></p></td><td>2025-01-21T11:45:13.951Z</td></tr><tr><td>KDS</td><td><p>А зачем выдергивать? В Быстро они в открытом виде лежат - бери и в роутер лепи. Если умеешь как</p></td><td>2025-01-21T13:30:46.455Z</td></tr><tr><td>Vitek9614(Виктор)</td><td><p>Просто скопировать не катит. А что и где менять я не знаю.</p></td><td>2025-01-21T14:51:09.524Z</td></tr><tr><td>Rodcrit</td><td><p>На <a href="https://ntc.party/t/%D0%BE%D0%B1%D1%81%D1%83%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BE%D0%B1%D1%85%D0%BE%D0%B4-%D0%B7%D0%B0%D0%BC%D0%B5%D0%B4%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F-youtube-%D0%B8-%D0%B1%D0%BB%D0%BE%D0%BA%D0%B8%D1%80%D0%BE%D0%B2%D0%BE%D0%BA-%D0%BD%D0%B0-%D0%BF%D1%80%D0%BE%D1%88%D0%B8%D0%B2%D0%BA%D0%B5-keenetic-%D1%81-%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%D1%8E-nfqws-tpws-zapret/9426/">nfqws-keenetic</a> стратегии из YTDisBystro работают с минимальными правками. Для Padavan и OpenWRT, полагаю, ничего кардинально не меняется.</p>
<details>
<summary>
Общая концепция</summary>
<ol>
<li>Убрать из начала <code>--wf-tcp=80,443 --wf-udp=443,50000-50099</code> (не путать с <code>--filter-xxx</code>!). Порты прописываются внутри параметров <code>NFQWS_TCP_PORTS</code>/<code>NFQWS_UDP_PORTS</code>. Диапазон портов записывается через двоеточие: <code>50000:50099</code>. Можно посмотреть, как это у вас реализовано в предустановленном конфиге, и сделать по аналогии.</li>
<li>Загрузить на роутер хостлисты и фейки, использующиеся в сборке, запомнить путь до файлов в памяти роутера/на флешке.</li>
<li>Заменить пути до хостлистов и фейков на пути из шага 2. Кавычки не нужны, <code>%~dp0</code> тоже, слеши такие → <code>/</code>. Пример: было — <code>"%~dp0lists\russia-youtube.txt"</code>, стало — <code>/путь/до/хостлиста/russia-youtube.txt</code>.</li>
<li>Вписать готовую стратегию на роутер и перезапустить службу. Обычно вписывается в <code>NFQWS_OPT</code> — у вас за это, видимо, отвечает пункт «Стратегии противодействия блокировкам (strategy)».</li>
</ol>
</details>
<p>Остальное можно не трогать. Дополнительно рекомендуется почитать <a href="https://github.com/bol-van/zapret" rel="noopener nofollow ugc">документацию Запрета</a> и <a href="https://ntc.party/t/zapret-%D0%BE%D0%B1%D1%81%D1%83%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5/726/">основную тему по нему</a> — там много полезного.</p></td><td>2025-01-21T19:45:48.800Z</td></tr>
    </table>
      </body>
    </html>