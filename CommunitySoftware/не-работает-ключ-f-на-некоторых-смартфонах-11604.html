
    <html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style>
    th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      word-wrap: break-word;
      padding: 5px;
    }
    table {
      width: 100%;
      max-width: 100%;
      border: 1px solid black;
      border-collapse: collapse;
      table-layout: fixed;
      word-wrap: break-word
    }
    code {
      word-wrap: break-word;
    }
    pre {
        white-space: pre-wrap;
    }
    </style>
        <title>не-работает-ключ-f-на-некоторых-смартфонах-11604</title>
      </head>
      <body>
        <table border="1" width="100%" cellpadding="5">
          <tr>
            <th style="width: 10%;">Ник</th>
            <th>Пост</th>
            <th style="width: 10%;">Дата</th>
          </tr>
    <tr><td>zirf0(Andrey Y)</td><td><p>Собственно ByeDPI for Android 1.2.0 вполне успешно решил проблему на эмуляторе Memu Play 9.</p>
<p>командная строка вида</p>
<p>-f 2+s -r 3+s -n <a href="http://vk.com" rel="noopener nofollow ugc">vk.com</a> -O 2 -t 8 -q 1+s</p>
<p>не суть важно. На Samsung A5 (2017) наличие ключа -f n+s вызывает ошибку SSL. Из termux curl выдает следующее (это файл err.txt)</p>
<p>curl -m3 -v <a href="https://fb.com" rel="noopener nofollow ugc">https://fb.com</a> &gt; out.txt 2&gt;err.txt</p>
<pre><code class="lang-auto">% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0* Host fb.com:443 was resolved.
* IPv6: 2a03:2880:f176:84:face:b00c:0:25de
* IPv4: 157.240.251.35
*   Trying 157.240.251.35:443...
* Connected to fb.com (157.240.251.35) port 443
* ALPN: curl offers h2,http/1.1
} [5 bytes data]
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [512 bytes data]
* TLSv1.3 (IN), TLS alert, decode error (562):
{ [2 bytes data]
* OpenSSL/3.2.1: error:0A00041A:SSL routines::tlsv1 alert decode error

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Closing connection
curl: (35) OpenSSL/3.2.1: error:0A00041A:SSL routines::tlsv1 alert decode error
</code></pre>
<p>Конечно с флагом -As ошибку не выдаст, но и работать не начнет. Все остальные варианты split/disorder работают. Вообще сайты открываются и  с базовыми опциями, но youtube не работает нормально. На эмуляторе родное приложение тормозит, но нормально показывает видео firefox, где QUIC выключен.<br>
И да, список хостов так прямо и не поддерживается? (ключ -H).</p></td><td>2024-10-11T15:09:40.526Z</td></tr><tr><td>hufrea</td><td><p>Мне об этом известно (<a href="https://ntc.party/t/byedpi-%D0%BE%D0%B1%D1%81%D1%83%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5/9057/134" class="inline-onebox">ByeDPI: обсуждение - #134 by Datura_metel</a>).<br>
На некоторых ядрах не работает zero-copy с сокетами. Похоже, это никак не исправить без вмешательства в систему.</p></td><td>2024-10-11T16:20:05.143Z</td></tr><tr><td>zirf0(Andrey Y)</td><td><p>Понятно. Желательно это в документации указать. Добавлю в список неработающих</p>
<p>Samsung A5 (2017), Android 8.0.0.<br>
ядро 3.18.14-19831441-QB36271825 <span class="hashtag-raw">#1</span> SMP PREEMPT Fri Nov 27 11:29:15 KST 2020 aarch64 Android</p></td><td>2024-10-11T17:14:16.587Z</td></tr>
    </table>
      </body>
    </html>