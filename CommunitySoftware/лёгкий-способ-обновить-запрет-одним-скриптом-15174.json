[
    {
        "id": 82532,
        "name": "",
        "username": "0x7f",
        "avatar_template": "/user_avatar/ntc.party/0x7f/{size}/14192_2.png",
        "created_at": "2025-03-17T13:51:20.575Z",
        "cooked": "<p>Мне было лень вручную проверять обновления запрета и обновлять запрет руками, поэтому я написал для себя небольшой скрипт который должен уметь обновлять запрет почти без участия человека на опенврт и на большинстве популярных дистрибутивов. Может вам он тоже пригодится.</p>\n<blockquote>\n<p><strong><a href=\"https://gist.github.com/kotsmotritnastul/7aa584b6174e918a70ab47d97a7e744b\" rel=\"noopener nofollow ugc\">ссылка на скачивание</a></strong></p>\n</blockquote>\n<p>Крайне желательно чтобы перед запуском скрипта у вас уже был установленный и хотя бы разок настроенный запрет.</p>\n<p>Насколько я его тестировал скрипт умеет:</p>\n<ol>\n<li>проверять где его запустили</li>\n<li>проверять версию на устройстве и на гитхабе</li>\n<li>если на гитхабе версия новее - скрипт скачивает новую версию, распаковывает её и обновляет вроде не трогая конфиги и пользовательские хостлисты.</li>\n</ol>\n<p>Если в функции <code>pc_download_and_install_freshest_zapret</code> убрать все <code>sudo</code> и посадить скрипт в рутовский кронтаб то я думаю можно полностью автоматизировать обновление запрета на новую версию.</p>\n<p>Изначально в нём использовалась утилита <code>jq</code> но она требует устанавливать отдельный пакет поэтому я переделал скрипт под <code>awk</code> который предустановлен везде включая официальные сборки опенврт. Если кому-то больше нравится <code>jq</code> (она парсит json без костылей) то можете раскомментировать строчки с ней и закомментировать строчки с <code>awk</code>.</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 1,
        "updated_at": "2025-03-17T13:51:20.575Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 17,
        "reads": 126,
        "readers_count": 125,
        "score": 61.6,
        "yours": false,
        "topic_id": 15174,
        "topic_slug": "%D0%BB%D1%91%D0%B3%D0%BA%D0%B8%D0%B9-%D1%81%D0%BF%D0%BE%D1%81%D0%BE%D0%B1-%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C-%D0%B7%D0%B0%D0%BF%D1%80%D0%B5%D1%82-%D0%BE%D0%B4%D0%BD%D0%B8%D0%BC-%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%BE%D0%BC",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
            {
                "url": "https://gist.github.com/kotsmotritnastul/7aa584b6174e918a70ab47d97a7e744b",
                "internal": false,
                "reflection": false,
                "title": "как обновить zapret одним скриптом · GitHub",
                "clicks": 62
            }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 5752,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/%D0%BB%D1%91%D0%B3%D0%BA%D0%B8%D0%B9-%D1%81%D0%BF%D0%BE%D1%81%D0%BE%D0%B1-%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C-%D0%B7%D0%B0%D0%BF%D1%80%D0%B5%D1%82-%D0%BE%D0%B4%D0%BD%D0%B8%D0%BC-%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%BE%D0%BC/15174/1",
        "can_translate": false
    }
]