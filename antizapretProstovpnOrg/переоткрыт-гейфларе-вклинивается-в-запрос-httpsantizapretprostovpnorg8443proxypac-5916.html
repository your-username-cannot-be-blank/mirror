
    <html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style>
    th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      word-wrap: break-word;
      padding: 5px;
    }
    table {
      width: 100%;
      max-width: 100%;
      border: 1px solid black;
      border-collapse: collapse;
      table-layout: fixed;
      word-wrap: break-word
    }
    code {
      word-wrap: break-word;
    }
    pre {
        white-space: pre-wrap;
    }
    </style>
        <title>переоткрыт-гейфларе-вклинивается-в-запрос-httpsantizapretprostovpnorg8443proxypac-5916</title>
      </head>
      <body>
        <table border="1" width="100%" cellpadding="5">
          <tr>
            <th style="width: 10%;">Ник</th>
            <th>Пост</th>
            <th style="width: 10%;">Дата</th>
          </tr>
    <tr><td>kdv</td><td><ul>
<li>Тип настройки: proxy.pac</li>
<li>Тип проблемы: не работают все заблокированные сайты</li>
<li>Что с сайтом: вместо сайта открывается страница-заглушка / сайт открывается бесконечно долго</li>
<li>Используемый браузер: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/115.0</li>
</ul>
<h4><a name="h-1" class="anchor" href="#h-1"></a>Описание проблемы</h4>
<p>при попытке загрузить ‘proxy.pac’ по сслылке <a href="https://antizapret.prostovpn.org:8443/proxy.pac" rel="noopener nofollow ugc">https://antizapret.prostovpn.org:8443/proxy.pac</a> вместо указанного адреса вылазит гейфларе.<br>
файл <strong>не скачивается</strong> потому что гейфларе отсасывает. соответственно, обход блокировок с помощью ‘proxy.pac’ <strong>невозможен</strong></p>
<p>!!АХТУНГ!!<br>
с месяц-два назад проблема была описана на адрес <a href="mailto:antizapret@prostovpn.org">antizapret@prostovpn.org</a><br>
реакции не последовало, проблема до сих пор не решена</p>
<p>скриншот проблемы, как попросил ув. <a href="https://ntc.party/u/ilyaigpetrov">@ilyaigpetrov</a> наверное, не очень полезен. имеет место редирект куда-то сюда: <a href="https://cloudflare-ipfs.com/ipfs/Qma7JzUAD68Q3wT1HNcRSRpnVUVPTS45yVnd4p94EQLEUD/proxy-ssl.js" rel="noopener nofollow ugc">https://cloudflare-ipfs.com/ipfs/Qma7JzUAD68Q3wT1HNcRSRpnVUVPTS45yVnd4p94EQLEUD/proxy-ssl.js</a> который обваливается с “connection has timed out”<br>
что, однако, прекрасно работает, если запросить proxy.pac через VPN.</p>
<p>вывод команд по просьбе ув. <a href="https://ntc.party/u/0ka">@0ka</a>:</p>
<blockquote>
<p>curl -v <a href="https://antizapret.prostovpn.org:8443/proxy.pac" rel="noopener nofollow ugc">https://antizapret.prostovpn.org:8443/proxy.pac</a></p>
<ul>
<li>
<p>Trying 195.123.208.131:8443…</p>
</li>
<li>
<p>Connected to <a href="http://antizapret.prostovpn.org" rel="noopener nofollow ugc">antizapret.prostovpn.org</a> (195.123.208.131) port 8443 (<span class="hashtag-raw">#0</span>)</p>
</li>
<li>
<p>schannel: disabled automatic use of client certificate</p>
</li>
<li>
<p>ALPN: offers http/1.1</p>
</li>
<li>
<p>ALPN: server accepted http/1.1</p>
</li>
<li>
<p>using HTTP/1.1<br>
GET /proxy.pac HTTP/1.1<br>
Host: <a href="http://antizapret.prostovpn.org:8443" rel="noopener nofollow ugc">antizapret.prostovpn.org:8443</a><br>
User-Agent: curl/8.0.1<br>
Accept: <em>/</em></p>
</li>
<li>
<p>schannel: remote party requests renegotiation</p>
</li>
<li>
<p>schannel: renegotiating SSL/TLS connection</p>
</li>
<li>
<p>schannel: SSL/TLS connection renegotiated</p>
</li>
<li>
<p>schannel: remote party requests renegotiation</p>
</li>
<li>
<p>schannel: renegotiating SSL/TLS connection</p>
</li>
<li>
<p>schannel: SSL/TLS connection renegotiated<br>
&lt; HTTP/1.1 302 Moved Temporarily<br>
&lt; Server: nginx/1.18.0<br>
&lt; Date: Mon, 09 Oct 2023 05:24:07 GMT<br>
&lt; Content-Type: application/x-ns-proxy-autoconfig<br>
&lt; Content-Length: 0<br>
&lt; Connection: keep-alive<br>
&lt; Location: <a href="https://cloudflare-ipfs.com/ipfs/Qma7JzUAD68Q3wT1HNcRSRpnVUVPTS45yVnd4p94EQLEUD/proxy-nossl.js" rel="noopener nofollow ugc">https://cloudflare-ipfs.com/ipfs/Qma7JzUAD68Q3wT1HNcRSRpnVUVPTS45yVnd4p94EQLEUD/proxy-nossl.js</a><br>
&lt; Vary: User-Agent, Accept-Encoding<br>
&lt; Cache-Control: max-age=7200<br>
&lt;</p>
</li>
<li>
<p>Connection <span class="hashtag-raw">#0</span> to host <a href="http://antizapret.prostovpn.org" rel="noopener nofollow ugc">antizapret.prostovpn.org</a> left intact</p>
</li>
</ul>
</blockquote>
<p>и</p>
<blockquote>
<p>curl -v <a href="https://cloudflare-ipfs.com/ipfs/QmX7vU6SFf61ofbxptBvzXhHPnLDgE4ATgmEkNf1gyE2hN/proxy-nossl.js" rel="noopener nofollow ugc">https://cloudflare-ipfs.com/ipfs/QmX7vU6SFf61ofbxptBvzXhHPnLDgE4ATgmEkNf1gyE2hN/proxy-nossl.js</a></p>
<ul>
<li>Trying 104.17.64.14:443…</li>
<li>Connected to <a href="http://cloudflare-ipfs.com" rel="noopener nofollow ugc">cloudflare-ipfs.com</a> (104.17.64.14) port 443 (<span class="hashtag-raw">#0</span>)</li>
<li>schannel: disabled automatic use of client certificate</li>
<li>ALPN: offers http/1.1</li>
<li>schannel: failed to receive handshake, SSL/TLS connection failed</li>
<li>Closing connection 0</li>
<li>schannel: shutting down SSL/TLS connection with <a href="http://cloudflare-ipfs.com" rel="noopener nofollow ugc">cloudflare-ipfs.com</a> port 443</li>
<li>Send failure: Connection was aborted</li>
<li>schannel: failed to send close msg: Failed sending data to the peer (bytes written: -1)<br>
curl: (35) schannel: failed to receive handshake, SSL/TLS connection failed</li>
</ul>
</blockquote>
<p>тезис ув. <a href="https://ntc.party/u/maxmetu">@maxmetu</a> что можно скачать (в данном случае через VPN) proxy.pac и скормить браузеру локально вполне работоспособен и может служить на некоторое время костылем. однако, полагаю, цимес ситуации понятен: доступ к proxy.pac только через VPN существенно обессмысливает саму затею.</p>
<p>З.Ы. дражайше <a href="https://ntc.party/u/ValdikSS">@ValdikSS</a>!</p>
<p>вы, похоже, не местный.</p>
<p>однако, тот факт, что свою деятельность, связанную с <strong>извлечением дохода</strong>, вы ведете именно здесь, мог бы рассмотреться вами как достаточное основание чтобы иногда напрячь мозг, освоить местные диалекты и обрести способность общаться с нами в том числе и на нашем языке.</p>
<p>не говоря о том, что для специалиста поддержки это как признак мастерства, так и просто хороший тон. а в <strong>наступившую</strong> недавно эпоху OTCOsales такая способность - эффективно обрабатывать обратную связь - является элементарно залогом выживания: и самого специалиста поддержки на рынке труда, и представляемого этим специалистом предприятия.</p>
<p>не знаю, что вас толкнуло на эту стезю, но может быть, к поддержке где-либо и кого-либо стоило приступать уже после того, как отработан до автоматизма базовый навык поддержки в туалете собственного писюна без посторонней помощи?</p>
<p>и очень хорошо, что вы с таким подходом здесь в меньшинстве. плохо то, что из вашей позиции доступны административные механизмы, злоупотребления которыми не контролируются и не пресекаются.</p></td><td>2023-10-09T06:04:56.610Z</td></tr><tr><td>ilyaigpetrov(ilyaigpetrov)</td><td><p>Открываются ли у вас эти файлы:</p>
<ol>
<li><a href="https://cloudflare-ipfs.com/ipfs/QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG/about">https://cloudflare-ipfs.com/ipfs/QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG/about</a></li>
<li><a href="https://gateway.ipfs.io/ipfs/QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG/about">https://gateway.ipfs.io/ipfs/QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG/about</a></li>
</ol>
<p>Если какой-то файл не открывается, то какую ошибку выдаёт браузер?</p></td><td>2023-10-09T06:15:59.778Z</td></tr><tr><td>0ka(0ka)</td><td><pre><code class="lang-auto">curl -v https://cloudflare-ipfs.com/ipfs/QmX7vU6SFf61ofbxptBvzXhHPnLDgE4ATgmEkNf1gyE2hN/proxy-nossl.js --connect-to ::104.18.202.232:443
</code></pre></td><td>2023-10-09T07:43:51.834Z</td></tr><tr><td>kdv</td><td><p><a class="attachment" href="переоткрыт-гейфларе-вклинивается-в-запрос-httpsantizapretprostovpnorg8443proxypac-5916/pIiNdgIheFCidJZQHe07ptFRtk4.txt">curl_stderr.txt</a> (2.8 KB)</p></td><td>2023-10-09T10:50:30.805Z</td></tr><tr><td>kdv</td><td><p>второй открывается, первый нет - The connection has timed out.</p>
<p>хм… так вы, получается, гейфларе используете.<br>
а оно напрямую файлик отдать не может.</p></td><td>2023-10-09T10:53:01.864Z</td></tr><tr><td>0ka(0ka)</td><td><p>в hosts файл добавь строчку</p>
<pre><code class="lang-auto">104.18.202.232 cloudflare-ipfs.com
</code></pre>
<p>убедись что в браузере отключен dns over https и после перезапуска браузера пробуй зайти на страницу с .pac файлом</p></td><td>2023-10-09T12:06:47.034Z</td></tr><tr><td>welazsc</td><td><p>Как давно <code>cloudflare-ipfs.com</code> по своим адресам (104.17.96.13, 104.17.64.14) заблокировали?</p>
<p>Или у ТС локально блокируют, как это делает <a href="https://ntc.party/t/adguard-%D0%B0%D0%BD%D1%82%D0%B8%D1%84%D0%B8%D1%88%D0%B8%D0%BD%D0%B3-%D0%BF%D0%BA-windows-%D0%B1%D0%BB%D0%BE%D0%BA%D0%B8%D1%80%D1%83%D0%B5%D1%82-%D0%B4%D0%BE%D0%BC%D0%B5%D0%BD-cloudflare-ipfscom/4739">adguard</a>?</p></td><td>2023-10-09T12:24:42.274Z</td></tr><tr><td>kdv</td><td><p>пинги у меня проходят, что по деменному имени, что по обоим IP…</p></td><td>2023-10-09T15:46:51.978Z</td></tr><tr><td>kdv</td><td><aside class="quote no-group" data-username="0ka" data-post="6" data-topic="5916">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/letter_avatar_proxy/v4/letter/0/d78d45/48.png" class="avatar"> 0ka:</div>
<blockquote>
<p><code>104.18.202.232</code></p>
</blockquote>
</aside>
<p>ну если вот так делаю: <a href="https://104.18.202.232/ipfs/QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG/about" rel="noopener nofollow ugc">https://104.18.202.232/ipfs/QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG/about</a></p>
<p>гейфларе отсасывает с ‘403: Forbidden’</p>
<p>можно ли это считать чистым экспериментом, или всё же обязательно править hosts и перегружать систему?</p></td><td>2023-10-09T15:50:45.906Z</td></tr><tr><td>ilyaigpetrov(ilyaigpetrov)</td><td><p>У IPFS шлюза Cloudflare сегодня наблюдаются неполадки: не все размещённые в IPFS мои ресурсы работают как следует, несмотря на то, что я в последние недели ничего не менял.</p></td><td>2023-10-09T15:57:42.530Z</td></tr><tr><td>libneko</td><td><aside class="quote no-group" data-username="kdv" data-post="9" data-topic="5916">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/kdv/48/3746_2.png" class="avatar"> kdv:</div>
<blockquote>
<p>можно ли это считать чистым экспериментом, или всё же обязательно править hosts</p>
</blockquote>
</aside>
<p>Нельзя, так как без хостнейма cf не узнает что запрос именно к cloudflare-ipfs, а не к какому-то рандомному сайту</p></td><td>2023-10-09T16:11:26.000Z</td></tr><tr><td>dartraiden(Alexander Gavrilov)</td><td><p>Я университетов не заканчивал, поэтому скажу прямо: топикстартер, ваши нарочито вычурные словесные пируэты и постоянные отсылки к писюнам и отсосам смотрятся нездорово и неуместно, достаточно этого.</p></td><td>2023-10-09T18:29:07.082Z</td></tr><tr><td>dartraiden(Alexander Gavrilov)</td><td></td><td>2023-10-09T18:29:11.898Z</td></tr>
    </table>
      </body>
    </html>