[
    {
        "id": 1146,
        "name": "Vsevolod Novikov",
        "username": "nnseva",
        "avatar_template": "/user_avatar/ntc.party/nnseva/{size}/278_2.png",
        "created_at": "2020-04-09T18:49:57.251Z",
        "cooked": "<p>При доступе из Firefox с настроенным списком antizapret к <a href=\"https://help.figma.com\" rel=\"nofollow noopener\">https://help.figma.com</a> возникает connection reset. Это эффект цензуры (через прокси friGate в Chromium достп нормальный). antizapret в браузере настроен и работает, например доступ к <a href=\"http://www.profinance.ru\" rel=\"nofollow noopener\">http://www.profinance.ru</a> нормальный, несмотря на блокировку.</p>\n<p>Я понимаю так, что проблема в том, что имя DNS разрешается в адрес, попавший в списки блокировки и блокируемый с помощью connection reset.</p>\n<p>Решается ли такая проблема с помощью antizapret?</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2020-04-09T19:10:42.396Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 522,
        "reads": 17,
        "readers_count": 16,
        "score": 2613.4,
        "yours": false,
        "topic_id": 434,
        "topic_slug": "%D0%BA%D0%B0%D0%BA-%D1%81%D0%BF%D0%B0%D1%81%D1%82%D0%B8%D1%81%D1%8C-%D0%BE%D1%82-connection-reset-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%B5%D1%89%D0%B5%D0%BD%D0%BD%D0%BE%D0%BC-%D0%B4%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%BC-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B5",
        "display_username": "Vsevolod Novikov",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
            {
                "url": "https://help.figma.com",
                "internal": false,
                "reflection": false,
                "clicks": 8
            },
            {
                "url": "http://www.profinance.ru",
                "internal": false,
                "reflection": false,
                "title": "Форекс на ProFinance.Ru. Курсы валют. Прогнозы валютного рынка.",
                "clicks": 8
            }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 181,
        "hidden": false,
        "trust_level": 0,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/%D0%BA%D0%B0%D0%BA-%D1%81%D0%BF%D0%B0%D1%81%D1%82%D0%B8%D1%81%D1%8C-%D0%BE%D1%82-connection-reset-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%B5%D1%89%D0%B5%D0%BD%D0%BD%D0%BE%D0%BC-%D0%B4%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%BC-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B5/434/1",
        "can_translate": false
    },
    {
        "id": 1147,
        "name": null,
        "username": "ValdikSS",
        "avatar_template": "/user_avatar/ntc.party/valdikss/{size}/2_2.png",
        "created_at": "2020-04-09T20:07:03.277Z",
        "cooked": "<p>В какие адреса у вас резолвится этот домен? У меня он не проксируется.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2020-04-09T20:07:03.277Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 16,
        "readers_count": 15,
        "score": 8.2,
        "yours": false,
        "topic_id": 434,
        "topic_slug": "%D0%BA%D0%B0%D0%BA-%D1%81%D0%BF%D0%B0%D1%81%D1%82%D0%B8%D1%81%D1%8C-%D0%BE%D1%82-connection-reset-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%B5%D1%89%D0%B5%D0%BD%D0%BD%D0%BE%D0%BC-%D0%B4%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%BC-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B5",
        "display_username": null,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "AntiZapret staff",
        "title_is_group": false,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": true,
        "admin": true,
        "staff": true,
        "user_id": 1,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/%D0%BA%D0%B0%D0%BA-%D1%81%D0%BF%D0%B0%D1%81%D1%82%D0%B8%D1%81%D1%8C-%D0%BE%D1%82-connection-reset-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%B5%D1%89%D0%B5%D0%BD%D0%BD%D0%BE%D0%BC-%D0%B4%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%BC-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B5/434/2",
        "can_translate": false
    },
    {
        "id": 1150,
        "name": "Vsevolod Novikov",
        "username": "nnseva",
        "avatar_template": "/user_avatar/ntc.party/nnseva/{size}/278_2.png",
        "created_at": "2020-04-10T19:53:14.205Z",
        "cooked": "<p>seva@SEVA-WORK:~$ nslookup <a href=\"http://help.figma.com\" rel=\"nofollow noopener\">help.figma.com</a><br>\nServer:         127.0.0.53<br>\nAddress:        127.0.0.53#53</p>\n<p>Non-authoritative answer:<br>\nhelp.figma. com  canonical name = figma.zendesk. com.<br>\nName:   figma. zendesk. com<br>\nAddress: 104.16.52.111<br>\nName:   figma. zendesk. com<br>\nAddress: 104.16.51.111<br>\nName:   figma. zendesk. com<br>\nAddress: 104.16.54.111<br>\nName:   figma. zendesk. com<br>\nAddress: 104.16.53.111<br>\nName:   figma. zendesk. com<br>\nAddress: 104.16.55.111</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2020-04-10T19:53:14.205Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 10,
        "reads": 15,
        "readers_count": 14,
        "score": 58.0,
        "yours": false,
        "topic_id": 434,
        "topic_slug": "%D0%BA%D0%B0%D0%BA-%D1%81%D0%BF%D0%B0%D1%81%D1%82%D0%B8%D1%81%D1%8C-%D0%BE%D1%82-connection-reset-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%B5%D1%89%D0%B5%D0%BD%D0%BD%D0%BE%D0%BC-%D0%B4%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%BC-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B5",
        "display_username": "Vsevolod Novikov",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
            {
                "url": "http://help.figma.com",
                "internal": false,
                "reflection": false,
                "clicks": 3
            }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 181,
        "hidden": false,
        "trust_level": 0,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/%D0%BA%D0%B0%D0%BA-%D1%81%D0%BF%D0%B0%D1%81%D1%82%D0%B8%D1%81%D1%8C-%D0%BE%D1%82-connection-reset-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%B5%D1%89%D0%B5%D0%BD%D0%BD%D0%BE%D0%BC-%D0%B4%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%BC-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B5/434/3",
        "can_translate": false
    },
    {
        "id": 1151,
        "name": null,
        "username": "ValdikSS",
        "avatar_template": "/user_avatar/ntc.party/valdikss/{size}/2_2.png",
        "created_at": "2020-04-10T20:56:44.281Z",
        "cooked": "<p>Эти адреса не должны проксироваться. У меня открывается сайт со включённым Антизапретом.<br>\nСледуйте инструкции по диагностике, описанные в <a href=\"https://antizapret.prostovpn.org/help.html\">https://antizapret.prostovpn.org/help.html</a>.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2020-04-10T20:56:44.281Z",
        "reply_count": 0,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 15,
        "readers_count": 14,
        "score": 8.0,
        "yours": false,
        "topic_id": 434,
        "topic_slug": "%D0%BA%D0%B0%D0%BA-%D1%81%D0%BF%D0%B0%D1%81%D1%82%D0%B8%D1%81%D1%8C-%D0%BE%D1%82-connection-reset-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%B5%D1%89%D0%B5%D0%BD%D0%BD%D0%BE%D0%BC-%D0%B4%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%BC-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B5",
        "display_username": null,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
            {
                "url": "https://antizapret.prostovpn.org/help.html",
                "internal": false,
                "reflection": false,
                "title": "АнтиЗапрет — диагностика и решение проблем",
                "clicks": 17
            }
        ],
        "read": true,
        "user_title": "AntiZapret staff",
        "title_is_group": false,
        "reply_to_user": {
            "username": "nnseva",
            "name": "Vsevolod Novikov",
            "avatar_template": "/user_avatar/ntc.party/nnseva/{size}/278_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": true,
        "admin": true,
        "staff": true,
        "user_id": 1,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/%D0%BA%D0%B0%D0%BA-%D1%81%D0%BF%D0%B0%D1%81%D1%82%D0%B8%D1%81%D1%8C-%D0%BE%D1%82-connection-reset-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%B5%D1%89%D0%B5%D0%BD%D0%BD%D0%BE%D0%BC-%D0%B4%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%BC-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B5/434/4",
        "can_translate": false
    },
    {
        "id": 1155,
        "name": "Vsevolod Novikov",
        "username": "nnseva",
        "avatar_template": "/user_avatar/ntc.party/nnseva/{size}/278_2.png",
        "created_at": "2020-04-11T08:27:31.351Z",
        "cooked": "<p>Вот сессия curl при попытке соединения из России:</p>\n<pre><code class=\"lang-auto\">seva@SEVA-WORK:~$ curl https://help.figma.com/ -vvv &gt;/dev/null \n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying 104.16.54.111:443...\n* TCP_NODELAY set\n* connect to 104.16.54.111 port 443 failed: В соединении отказано\n*   Trying 104.16.52.111:443...\n* TCP_NODELAY set\n* connect to 104.16.52.111 port 443 failed: В соединении отказано\n*   Trying 104.16.51.111:443...\n* TCP_NODELAY set\n* connect to 104.16.51.111 port 443 failed: В соединении отказано\n*   Trying 104.16.53.111:443...\n* TCP_NODELAY set\n* connect to 104.16.53.111 port 443 failed: В соединении отказано\n*   Trying 104.16.55.111:443...\n* TCP_NODELAY set\n* connect to 104.16.55.111 port 443 failed: В соединении отказано\n* Failed to connect to help.figma.com port 443: В соединении отказано\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\n* Closing connection 0\ncurl: (7) Failed to connect to help.figma.com port 443: В соединении отказано\n</code></pre>\n<p>Вот сессия соединения curl (начало) с сервера из Германии:</p>\n<pre><code class=\"lang-auto\">seva@*****_com_de:~$ curl https://help.figma.com/ -vvv &gt;/dev/null\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying 104.16.54.111...\n* TCP_NODELAY set\n* Connected to help.figma.com (104.16.54.111) port 443 (#0)\n* ALPN, offering h2\n* ALPN, offering http/1.1\n* successfully set certificate verify locations:\n*   CAfile: /etc/ssl/certs/ca-certificates.crt\n  CApath: /etc/ssl/certs\n} [5 bytes data]\n* TLSv1.2 (OUT), TLS handshake, Client hello (1):\n} [212 bytes data]\n* TLSv1.2 (IN), TLS handshake, Server hello (2):\n{ [104 bytes data]\n* TLSv1.2 (IN), TLS handshake, Certificate (11):\n{ [2811 bytes data]\n...\n</code></pre>\n<p>И наконец, вот подтверждение от оригинального источника, что искомый адрес действительно заблокирован</p>\n<p><img src=\"как-спастись-от-connection-reset-на-запрещенном-динамическом-адресе-434/1f7037e4e4ed96875f995f2943206e05323d86db.png\" alt=\"image\" data-base62-sha1=\"4u7e9qWzdPgWn6YxqNG5lOMqjR9\" width=\"313\" height=\"242\"></p>\n<p>Вывод: antizapret у меня на firefox включен и работает нормально. К сожалению, antizapret ориентируется на списки запрещенных сайтов, в которых нет help. figma. com.<br>\nТем временем, где-то в списках запрещенных находится адрес IP, который был динамически распределен указанному сайту, поэтому несмотря на формальное отсутствие самого сайта, соединение не устанавливается из за цензуры (способом отправки ложного пакета отказа от соединения).</p>\n<p>Вопрос 1. может быть, можно как-то настроить автоматическую настройку прокси, чтобы учитывались не только доменные адреса, но и адреса IP?<br>\nВопрос 2. Если это невозможно, нельзя ли расширить алгоритм формирования списка сайтов antizapet так, чтобы в него как-то попадали и сайты, которым - временно или постоянно - достался адрес IP из заблокированных диапазонов?</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2020-04-11T08:27:31.351Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 10,
        "reads": 16,
        "readers_count": 15,
        "score": 53.2,
        "yours": false,
        "topic_id": 434,
        "topic_slug": "%D0%BA%D0%B0%D0%BA-%D1%81%D0%BF%D0%B0%D1%81%D1%82%D0%B8%D1%81%D1%8C-%D0%BE%D1%82-connection-reset-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%B5%D1%89%D0%B5%D0%BD%D0%BD%D0%BE%D0%BC-%D0%B4%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%BC-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B5",
        "display_username": "Vsevolod Novikov",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 181,
        "hidden": false,
        "trust_level": 0,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/%D0%BA%D0%B0%D0%BA-%D1%81%D0%BF%D0%B0%D1%81%D1%82%D0%B8%D1%81%D1%8C-%D0%BE%D1%82-connection-reset-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%B5%D1%89%D0%B5%D0%BD%D0%BD%D0%BE%D0%BC-%D0%B4%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%BC-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B5/434/5",
        "can_translate": false
    },
    {
        "id": 1158,
        "name": null,
        "username": "ValdikSS",
        "avatar_template": "/user_avatar/ntc.party/valdikss/{size}/2_2.png",
        "created_at": "2020-04-11T09:16:39.725Z",
        "cooked": "<p>Теперь понятен ваш вопрос. Я думал, что вы получаете connection reset от прокси-сервера, а не от провайдера.<br>\nВ реестре запрещенных сайтов нет блокировки IP-адресов домена <a href=\"http://help.figma.com\">help.figma.com</a>, есть только блокировка конкретной ссылки на домене <a href=\"http://bikhir.zendesk.com\">bikhir.zendesk.com</a>: <a href=\"https://reestr.rublacklist.net/record/1274095/\">https://reestr.rublacklist.net/record/1274095/</a><br>\nПочему сервис от Роскомнадзора что-то находит по IP-адресу — непонятно, видимо, ввели недавно, раньше такого не было. Видно, что в результате написано об ограничении к странице (имеется в виду страница на домене <a href=\"http://bikhir.zendesk.com\">bikhir.zendesk.com</a>), а не к IP-адресу.<br>\nВаш провайдер блокирует то, что не должен блокировать. Обращайтесь к вашему провайдеру.</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2020-04-11T09:16:39.725Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 6,
        "reads": 16,
        "readers_count": 15,
        "score": 38.2,
        "yours": false,
        "topic_id": 434,
        "topic_slug": "%D0%BA%D0%B0%D0%BA-%D1%81%D0%BF%D0%B0%D1%81%D1%82%D0%B8%D1%81%D1%8C-%D0%BE%D1%82-connection-reset-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%B5%D1%89%D0%B5%D0%BD%D0%BD%D0%BE%D0%BC-%D0%B4%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%BC-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B5",
        "display_username": null,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
            {
                "url": "https://reestr.rublacklist.net/record/1274095/",
                "internal": false,
                "reflection": false,
                "title": "Реестр запрещенных сайтов",
                "clicks": 3
            },
            {
                "url": "http://help.figma.com",
                "internal": false,
                "reflection": false,
                "clicks": 1
            },
            {
                "url": "http://bikhir.zendesk.com",
                "internal": false,
                "reflection": false,
                "clicks": 0
            }
        ],
        "read": true,
        "user_title": "AntiZapret staff",
        "title_is_group": false,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": true,
        "admin": true,
        "staff": true,
        "user_id": 1,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/%D0%BA%D0%B0%D0%BA-%D1%81%D0%BF%D0%B0%D1%81%D1%82%D0%B8%D1%81%D1%8C-%D0%BE%D1%82-connection-reset-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%B5%D1%89%D0%B5%D0%BD%D0%BD%D0%BE%D0%BC-%D0%B4%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%BC-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B5/434/6",
        "can_translate": false
    },
    {
        "id": 1159,
        "name": "Vsevolod Novikov",
        "username": "nnseva",
        "avatar_template": "/user_avatar/ntc.party/nnseva/{size}/278_2.png",
        "created_at": "2020-04-11T12:11:55.980Z",
        "cooked": "<p>Сервис от РКН, сколько он существовал, всегда находил блокировки по адресу IP. Что касается того, почему провайдер блокирует по IP - ответ прост, потому что соединение по HTTPS в общем случае, не фильтруется по доменному имени, а тем более - по URL, так как и то, и другое находится внутри защищенной сессии SSL, на то он и HTTPS.</p>\n<p>Как легко заметить по информации whois, адреса в диапазоне 104.16.0.0 - 104.31.255.255, в том числе те, в которые сейчас разрешается рассматриваемый домен, принадлежат сервису Cloudflare. Это означает, что они распределяются динамически. На момент создания указанной в реестре записи, в них по всей видимости, разрешался другой домен, также обслуживаемый в Cloudflare, который и занесен в черный список.</p>\n<p>Проблема в том, что на момент установления соединения, согласно протоколу TCP, доменное имя не указывается, а используется адрес IP. Поскольку этот адрес содержится в реестре, провайдер его блокирует.</p>\n<p>Конечно, при выполнении более тщательного анализа трафика на стороне провайдера, ему можно было бы отложить блокировку до начала процедуры установления сессии TLS, в рамках которой с некоторой вероятностью, в расширении SNI могло бы появиться имя домена, к которому выполняется запрос.</p>\n<p>Однако, такая процедура требует значительно бОльших затрат на обслуживание и строго говоря, нарушает принцип сетевой нейтральности. Кроме того, такой анализ может оказаться бесполезным, если сервер или клиент не поддерживают опциональную процедуру SNI.</p>\n<p>Фактом является то, что многие провайдеры не выполняют глубокий анализ трафика, требуемый для блокировки по SNI, а полностью блокируют адрес IP, оказавшийся в списке блокировок. Это реальность, с которой приходится сталкиваться. В этих обстоятельствах, сервис antizapret к сожалению, в настоящий момент не помогает полностью разрешить проблемы, вызванные блокировками и в этом смысле, становится гораздо менее полезен, чем мог бы быть.</p>\n<p>Тем не менее, я высказываю Вам глубокую благодарность за вашу деятельность и надеюсь, что наше обсуждение было полезным для обеих сторон.</p>\n<p>Для разрешения своей проблемы, я использовал плагин browsec, позволяющий добавлять произвольные серверы в список проксируемых, что видимо, и следует рекомендовать всем, кто столкнулся с проблемой, аналогичной моей.</p>\n<p>С уважением,<br>\nВсеволод Новиков</p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2020-04-11T12:11:55.980Z",
        "reply_count": 1,
        "reply_to_post_number": 6,
        "quote_count": 0,
        "incoming_link_count": 5,
        "reads": 16,
        "readers_count": 15,
        "score": 33.2,
        "yours": false,
        "topic_id": 434,
        "topic_slug": "%D0%BA%D0%B0%D0%BA-%D1%81%D0%BF%D0%B0%D1%81%D1%82%D0%B8%D1%81%D1%8C-%D0%BE%D1%82-connection-reset-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%B5%D1%89%D0%B5%D0%BD%D0%BD%D0%BE%D0%BC-%D0%B4%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%BC-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B5",
        "display_username": "Vsevolod Novikov",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
            "username": "ValdikSS",
            "name": null,
            "avatar_template": "/user_avatar/ntc.party/valdikss/{size}/2_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 181,
        "hidden": false,
        "trust_level": 0,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/%D0%BA%D0%B0%D0%BA-%D1%81%D0%BF%D0%B0%D1%81%D1%82%D0%B8%D1%81%D1%8C-%D0%BE%D1%82-connection-reset-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%B5%D1%89%D0%B5%D0%BD%D0%BD%D0%BE%D0%BC-%D0%B4%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%BC-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B5/434/7",
        "can_translate": false
    },
    {
        "id": 1160,
        "name": null,
        "username": "ValdikSS",
        "avatar_template": "/user_avatar/ntc.party/valdikss/{size}/2_2.png",
        "created_at": "2020-04-11T13:05:12.169Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"nnseva\" data-post=\"7\" data-topic=\"434\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://ntc.party/user_avatar/ntc.party/nnseva/48/278_2.png\" class=\"avatar\"> nnseva:</div>\n<blockquote>\n<p>Проблема в том, что на момент установления соединения, согласно протоколу TCP, доменное имя не указывается, а используется адрес IP. Поскольку этот адрес содержится в реестре, провайдер его блокирует.</p>\n</blockquote>\n</aside>\n<p>Эти IP-адреса НЕ заблокированы реестром запрещенных сайтов.<br>\nВыгрузка реестра сайтов представлена в виде XML-файла, с множеством полей для каждого заблокированного элемента. Элемент может быть заблокирован по ссылке, по домену, либо же по IP-адресу, но у каждого заблокированного домена или адреса также есть список IP-адресов. Они представлены для информации провайдеру, и не должны блокироваться, по рекомандательным документам провайдерам от Роскомнадзора.</p>\n<p>XML-файл содержит следующую запись:</p>\n<pre><code class=\"lang-auto\">  &lt;content id=\"1274095\" includeTime=\"2020-03-25T16:54:08\" entryType=\"1\" hash=\"C0D89404E023C9486E87E3A867DB3B55\"&gt;\n    &lt;decision date=\"2018-05-14\" number=\"2-6-20/2017-12-25-1473-АИ\" org=\"ФНС\"/&gt;\n    &lt;url&gt;&lt;![CDATA[https://bikhir.zendesk.com/hc/fr/community/posts/209112709-%d0%a1%d1%83%d0%bf%d0%b5%d1%80-%d0%bb%d1%8f%d0%b3%d1%83%d1%88%d0%ba%d0%b0-%d0%bd%d0%b0-%d0%b0%d0%bd%d0%b4%d1%80%d0%be%d0%b8%d0%b4-%d1%81%d1%83%d0%bf%d0%b5%d1%80-%d0%bb%d1%8f%d0%b3%d1%83%d1%88%d0%ba%d0%b0-%d0%b4%d0%bb%d1%8f-%d0%bc%d0%be%d0%b7%d0%b8%d0%bb%d1%8b]]&gt;&lt;/url&gt;\n    &lt;domain&gt;&lt;![CDATA[bikhir.zendesk.com]]&gt;&lt;/domain&gt;\n    &lt;ip&gt;104.16.54.111&lt;/ip&gt;\n    &lt;ip&gt;104.16.52.111&lt;/ip&gt;\n    &lt;ip&gt;104.16.55.111&lt;/ip&gt;\n    &lt;ip&gt;104.16.53.111&lt;/ip&gt;\n    &lt;ip&gt;104.16.51.111&lt;/ip&gt;\n  &lt;/content&gt;\n</code></pre>\n<p><a href=\"https://vigruzki.rkn.gov.ru/docs/description_for_operators_actual.pdf\">Описание формата</a> говорит следующее:</p>\n<pre><code class=\"lang-auto\">Атрибут content.blockType\n\nКод типа блокировки реестровой записи:\ndefault – блокировка по стандартным правилам\ndomain – блокировка по доменному имени\nip – блокировка по сетевому адресу\ndomain-mask – блокировка по маске доменного имени\n\nЕсли данный атрибут отсутствует либо указано значение «default», то блокировка осуществляется по стандартным правилам. Если указано значение «domain», то указатели страниц сайтов (URL) для данной реестровой записи будут отсутствовать, необходимо ограничить доступ к домену целиком.\nЕсли указано значение «ip», то указатели страниц сайтов (URL) и доменное имя для данной реестровой записи будут отсутствовать, необходимо ограничить доступ по сетевому адресу.\nЕсли указано значение «domain-mask», то указатели страниц сайтов (URL) для данной реестровой записи будут отсутствовать, значение доменного имени будет указано с маской в виде «*.domain.com». При этом необходимо ограничить доступ к основному доменному имени, а также ко всем доменным именам, подпадающим под маску.\n</code></pre>\n<p>Как видим, атрибут blockType у этого элемента отсутствует, значит блокировка осуществялется по «стандартным правилам».<br>\nПодавляющее большинство провайдеров не блокируют IP-адреса у подобных записей просто так, однако, как вы заметили, это — Cloudflare, а для Cloudflare часто действует другая логика, по какой-то невыясненной причине.</p>\n<p>Во-первых, если у вас включён ESNI и DNS over HTTPS — отключите их (см. <a href=\"https://ntc.party/t/esni-encrypted-sni/68\" class=\"inline-onebox\">Использование ESNI (Encrypted SNI) в России</a>)</p>\n<aside class=\"quote no-group\" data-username=\"nnseva\" data-post=\"7\" data-topic=\"434\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://ntc.party/user_avatar/ntc.party/nnseva/48/278_2.png\" class=\"avatar\"> nnseva:</div>\n<blockquote>\n<p>Конечно, при выполнении более тщательного анализа трафика на стороне провайдера, ему можно было бы отложить блокировку до начала процедуры установления сессии TLS, в рамках которой с некоторой вероятностью, в расширении SNI могло бы появиться имя домена, к которому выполняется запрос.</p>\n<p>Однако, такая процедура требует значительно бОльших затрат на обслуживание и строго говоря, нарушает принцип сетевой нейтральности. Кроме того, такой анализ может оказаться бесполезным, если сервер или клиент не поддерживают опциональную процедуру SNI.</p>\n</blockquote>\n</aside>\n<p>Провайдеров в РФ, так или иначе не применяющих системы DPI — не более нескольких десятков. У подавляющего большинства провайдеров установлены системы DPI, которые блокируют только конкретные ссылки (для HTTP) или домены (для HTTPS). Многие провайдеры, не имеющие своего DPI, пользуются системой вышестоящего провайдера.<br>\nДля вашей информации, даже транзитный многогигабитный трафик проходит через DPI, а то и через несколько (разных провайдеров).<br>\nУстройства без поддержки SNI — ничтожно малая часть интернета.</p>\n<aside class=\"quote no-group\" data-username=\"nnseva\" data-post=\"7\" data-topic=\"434\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://ntc.party/user_avatar/ntc.party/nnseva/48/278_2.png\" class=\"avatar\"> nnseva:</div>\n<blockquote>\n<p>Фактом является то, что многие провайдеры не выполняют глубокий анализ трафика, требуемый для блокировки по SNI, а полностью блокируют адрес IP, оказавшийся в списке блокировок. Это реальность, с которой приходится сталкиваться. В этих обстоятельствах, сервис antizapret к сожалению, в настоящий момент не помогает полностью разрешить проблемы, вызванные блокировками и в этом смысле, становится гораздо менее полезен, чем мог бы быть.</p>\n</blockquote>\n</aside>\n<p>Я намеренно отказался от поддержки этих провайдеров несколько лет назад, т.к. с этими провайдерами приходится проксировать значительную часть интернета.<br>\nЕсли даже у провайдеров с DPI периодически бывают проблемы с доступностью тех или иных незаблокированных сайтов, то у вашего, полагаю, половина интернета не работоспособна.<br>\nВ вашем случае разумно использовать полноценный VPN в другую страну, либо же сменить провайдера.</p>\n<p>Возможно, ваш провайдер применяет особые правила блокировки адресов только для Cloudflare, а для обычных сайтов не применяет блокировки по IP-адресам — я встречал таких. В таком случае, можете сделать VPN для <a href=\"https://www.cloudflare.com/ips/\">всех диапазонов Cloudflare</a>, и проблема будет решена.</p>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2020-04-11T13:05:12.169Z",
        "reply_count": 0,
        "reply_to_post_number": 7,
        "quote_count": 1,
        "incoming_link_count": 19,
        "reads": 17,
        "readers_count": 16,
        "score": 98.4,
        "yours": false,
        "topic_id": 434,
        "topic_slug": "%D0%BA%D0%B0%D0%BA-%D1%81%D0%BF%D0%B0%D1%81%D1%82%D0%B8%D1%81%D1%8C-%D0%BE%D1%82-connection-reset-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%B5%D1%89%D0%B5%D0%BD%D0%BD%D0%BE%D0%BC-%D0%B4%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%BC-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B5",
        "display_username": null,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
            {
                "url": "https://www.cloudflare.com/ips/",
                "internal": false,
                "reflection": false,
                "title": "IP Ranges | Cloudflare",
                "clicks": 13
            },
            {
                "url": "https://vigruzki.rkn.gov.ru/docs/description_for_operators_actual.pdf",
                "internal": false,
                "reflection": false,
                "clicks": 0
            },
            {
                "url": "https://ntc.party/t/%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-esni-encrypted-sni-%D0%B2-%D1%80%D0%BE%D1%81%D1%81%D0%B8%D0%B8/68",
                "internal": true,
                "reflection": false,
                "title": "Использование ESNI (Encrypted SNI) в России",
                "clicks": 0
            },
            {
                "url": "https://ntc.party/t/cloudflare/441/9",
                "internal": true,
                "reflection": true,
                "title": "Сайты за cloudflare не открываются",
                "clicks": 4
            }
        ],
        "read": true,
        "user_title": "AntiZapret staff",
        "title_is_group": false,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": true,
        "admin": true,
        "staff": true,
        "user_id": 1,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/%D0%BA%D0%B0%D0%BA-%D1%81%D0%BF%D0%B0%D1%81%D1%82%D0%B8%D1%81%D1%8C-%D0%BE%D1%82-connection-reset-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%B5%D1%89%D0%B5%D0%BD%D0%BD%D0%BE%D0%BC-%D0%B4%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%BC-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B5/434/8",
        "can_translate": false
    }
]