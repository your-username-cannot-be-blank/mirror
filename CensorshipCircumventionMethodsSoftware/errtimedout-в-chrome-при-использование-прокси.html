
    <html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style>
    th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      word-wrap: break-word;
      padding: 5px;
    }
    table {
      width: 100%;
      max-width: 100%;
      border: 1px solid black;
      border-collapse: collapse;
      table-layout: fixed;
      word-wrap: break-word
    }
    code {
      word-wrap: break-word;
    }
    pre {
        white-space: pre-wrap;
    }
    </style>
        <title>errtimedout-в-chrome-при-использование-прокси</title>
      </head>
      <body>
        <table border="1" width="100%" cellpadding="5">
          <tr>
            <th style="width: 10%;">Ник</th>
            <th>Пост</th>
            <th style="width: 10%;">Дата</th>
          </tr>
    <tr><td>HelloKitty</td><td><p>Есть сервер с виртуализацией kvm, ОС - Centos 7.<br>
На сервере установлен Squid как forward proxy.</p>
<p>При использование pac файла в браузере Chrome периодически вылезает ошибка ERR_TIMED_OUT.<br>
Если смотреть логи из chrome://net-export/ то там пишется что прокси timeout - т.е. прокси не отвечает в указанный промежуток времени.<br>
Настраивал на сервере другие прокси с помощью node.js и apache. Ситуация повторяется, так что с большой долей вероятности проблема не в настройках прокси.<br>
В логах squid запросов которые в браузере ERR_TIMED_OUT нет вообще. Т.е. запрос даже не доходит до прокси.<br>
Отключил iptables/firewalld чтобы исключить блокирование по каким либо правилам - ситуация не меняется.</p>
<p>Могу предположить что есть какие то ограничения со стороны Centos. Может какие то сетевые буфферы, или ограничения на запросы с одного ip.</p>
<p>Подскажите, может кто сталкивался с такой ситуацией. В каком направление копать?<br>
Может кто подскажет сетевого администратора который может настроить сервер?</p></td><td>2022-07-26T14:13:31.460Z</td></tr><tr><td>anonymous56(anonymous56)</td><td><p>Может дело в клиенте: браузер, ОС, гаджет, интернет линк?</p></td><td>2022-07-26T16:44:41.655Z</td></tr><tr><td>HelloKitty</td><td><p>Нет-нет. Проверка производилась с разных машин.</p></td><td>2022-07-26T17:00:59.232Z</td></tr><tr><td>ilyaigpetrov(ilyaigpetrov)</td><td><blockquote>
<p>При использование pac файла в браузере Chrome периодически вылезает ошибка ERR_TIMED_OUT.</p>
</blockquote>
<p>Такой ответ может идти: 1) от целевого сервера (ошибка от браузера), 2) от прокси (страница сквида со спрутом, если простой http), 3) от того, что PAC-скрипт не скачивается (наверно, тоже от браузера).</p></td><td>2022-07-26T16:59:37.000Z</td></tr><tr><td>HelloKitty</td><td><p>По скрипту - тестируется на локальном pac файле. И скрипт точно работает, т.к. часть запросов проходит без каких либо проблем.<br>
По прокси - тестировал как на PROXY так и на HTTPS. Результат одинаковый.<br>
Остатется только сервер. Но где именно искать проблему понять не могу.</p></td><td>2022-07-26T17:12:27.083Z</td></tr>
    </table>
      </body>
    </html>