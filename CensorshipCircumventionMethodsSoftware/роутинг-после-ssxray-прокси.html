
    <html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style>
    th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      word-wrap: break-word;
      padding: 5px;
    }
    table {
      width: 100%;
      max-width: 100%;
      border: 1px solid black;
      border-collapse: collapse;
      table-layout: fixed;
      word-wrap: break-word
    }
    code {
      word-wrap: break-word;
    }
    pre {
        white-space: pre-wrap;
    }
    </style>
        <title>роутинг-после-ssxray-прокси</title>
      </head>
      <body>
        <table border="1" width="100%" cellpadding="5">
          <tr>
            <th style="width: 10%;">Ник</th>
            <th>Пост</th>
            <th style="width: 10%;">Дата</th>
          </tr>
    <tr><td>Diver0(Diver0)</td><td><p>Здравствуйте. Подскажите, где и как настроить сервер с shadowsocks или xray прокси так, чтобы можно было подключаться к локалке сервера через этот прокси как будто это впн или типо того (для случаев блокировки впна то есть уже сейчас)?</p>
<p>Есть у меня сервер и локала обычная 192.168.1.0/24. Я подключаюсь через shadowsocks или xray к этому серваку с какого то устройства (пофиг с какого но пусть будет телефон или ноут).  Как настроить сервак так, чтоб запрос с удаленного девайса, который был подключен по прокси, правильно обрабатывался?  Ну вот не понимаю я… Никакого интерфейса ведь на серваке не появляется. Правило фаервола не напишешь под этот интерфейс. IP-шника у удаленного девайса тоже нету. Как сделать-то?</p></td><td>2023-09-24T14:22:29.273Z</td></tr><tr><td>anon94384997</td><td><p>Если нужен полноценный VPN можно пустить OpenVPN TCP через Shadowsocks. А насчет доступа к локалке непосредственно через Shadowsocks подождём, может кто еще подскажет.</p></td><td>2023-09-24T14:51:56.495Z</td></tr><tr><td>Diver0(Diver0)</td><td><p>Впн через прокси на мобилках и других таких устройствах не работают, а в этом основная загвоздка. С пк то ладно, там можно и через ss, и через cloak, и тд и тп.</p></td><td>2023-09-24T16:19:53.727Z</td></tr><tr><td>0ka(0ka)</td><td><p>на андроид работает, может вы просто в vpn приложении забываете добавить ss в исключения? ss должен быть в режиме прокси, а не vpn. И еще через nekobox можно сделать цепочку ss - wg, все в одном приложении, но не уверен что там будет доступ к локалке</p></td><td>2023-09-24T16:36:10.063Z</td></tr><tr><td>Diver0(Diver0)</td><td><p>У меня айфон 10 с последними обновами. Как в нем сделать исключение в вайергард?</p></td><td>2023-09-24T19:35:58.306Z</td></tr><tr><td>0ka(0ka)</td><td><p>загуглил, к сожалению на ios нельзя добавлять в исключения</p></td><td>2023-09-24T19:48:01.940Z</td></tr><tr><td>Diver0(Diver0)</td><td><p>Ну значит я не такой слепой что не нашел. Блин надо походу покупать мобилку на линуксе типо piphone или librem чтобы нормально таким софтом пользоваться. Он же часто на go, который норм компилится под разные платформы без особых проблем. А по поводу роутинга по моей схеме что можешь подсказать?</p></td><td>2023-09-25T07:47:48.772Z</td></tr><tr><td>0ka(0ka)</td><td><p>на андроид есть клиенты xray и подобных где можно вставить кастом конфиг, ну и в крайнем случае в termux можно запустить ядро, если для него нету gui. Щас почти все и так компилят под arm64.<br>
По поводу роутинга по твоей схеме я ничего не понял, у тебя на сервере натовый айпи? или нужен доступ к интерфейсу от vpn?</p></td><td>2023-09-25T07:58:58.897Z</td></tr><tr><td>Diver0(Diver0)</td><td><pre><code class="lang-auto">Клиент Shadowsocks -----&gt; Домашний роутер+сервер с локалкой 192.168.1.0/24 и shadowsocks -----&gt; IP камера 192.168.1.2
</code></pre>
<p>Вот такая упрощенная схема. Я где то в поездке хочу глянуть дома камеру. Подключаюсь по shadowsocks к домашнему роутер-серверу и через него хочу посмотреть камеру. Если я со смартфона в приложении для просмотра камер или через браузер забью адрес 192.168.1.2 будучи подключенным по shadowsocks, я получу 404. Я не понимаю почему, не спец в сетях, но видимо маршрут после прокси в локалку не работает, только наружу. То есть я могу почитать ntc.party используя роутер как шлюз через shadowsocks, но вот к локалке роутера доступа не имею. К камере соответственно тоже.</p>
<p>Как это исправить?</p></td><td>2023-09-25T08:12:49.894Z</td></tr><tr><td>0ka(0ka)</td><td><p>404 от чего получаешь? может не 404 а другую ошибку? в ss клиенте ничего про bypass lan нет? еще лс прочитай</p></td><td>2023-09-25T08:33:36.036Z</td></tr>
    </table>
      </body>
    </html>