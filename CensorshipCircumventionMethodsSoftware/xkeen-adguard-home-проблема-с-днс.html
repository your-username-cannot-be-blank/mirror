
    <html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style>
    th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      word-wrap: break-word;
      padding: 5px;
    }
    table {
      width: 100%;
      max-width: 100%;
      border: 1px solid black;
      border-collapse: collapse;
      table-layout: fixed;
      word-wrap: break-word
    }
    code {
      word-wrap: break-word;
    }
    pre {
        white-space: pre-wrap;
    }
    </style>
        <title>xkeen-adguard-home-проблема-с-днс</title>
      </head>
      <body>
        <table border="1" width="100%" cellpadding="5">
          <tr>
            <th style="width: 10%;">Ник</th>
            <th>Пост</th>
            <th style="width: 10%;">Дата</th>
          </tr>
    <tr><td>drnkct</td><td><p>На роутер Keenetic установлены XKeen и Adguard Home. Почему-то XKeen игнорирует указания AdGuard Home. Например: запускаю тест днс на сайте dnsleaktest com, в логах Adguard Home вижу, что запрос был обработан с помощью Cloudflare DNS, в результатах теста dnsleaktest com, я вижу только 2 днс сервера своего провайдера, но не Cloudflare. При запуске аналогичного теста на другом сайте: browserleaks com, в результатах я не вижу днс серверов провайдера, я вижу все сервера, прописанные в AdGuard Home. В конфиге XKeen, в качестве днс указан 127.0.0.1. Такая проблема наблюдается только при запущенном XKeen. Домены browserleaks com и dnsleaktest com добавлены в routing, на прямое подключение(“outboundTag”: “direct”). Если же их не добавлять в список прямого подключения, то я вижу, что используются днс, указанные на сервере, на котором установлен Xray. В чем может быть проблема?</p></td><td>2025-01-06T15:44:06.460Z</td></tr>
    </table>
      </body>
    </html>