[
    {
        "id": 44570,
        "name": "H7n14je",
        "username": "h7n14",
        "avatar_template": "/user_avatar/ntc.party/h7n14/{size}/1878_2.png",
        "created_at": "2024-09-23T16:27:59.384Z",
        "cooked": "<p>Есть три сервера в локалке работающие как gateway первом стоит sing-box в режиме tun в inbound, подключение через vless-xtls-reality, на втором простой openvpn клиент и на третьем wireguard. Немножко прошерстив интернет нашел что есть VRRP (Virtual Router Redundancy Protocol) почти прям то что нужно, но это как-то слишком мощно и сложно. Логика понятная, создаем псевдо-gateway который будет сам по какой-то логике переадресовывать на них.</p>\n<ol>\n<li>\n<p>Может есть готовые или более простые решения? Может кто уже делал такое?</p>\n</li>\n<li>\n<p>Понять что openvpn или wg живой и работает несложно, просто пинговать внутри тоннеля. А как быть с vless? Пинговать гугл будет достаточно?</p>\n</li>\n</ol>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 2,
        "updated_at": "2024-09-23T18:25:12.428Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 62,
        "reads": 53,
        "readers_count": 52,
        "score": 315.6,
        "yours": false,
        "topic_id": 10659,
        "topic_slug": "%D0%BA%D0%B0%D0%BA-%D1%81%D0%B4%D0%B5%D0%BB%D0%B0%D1%82%D1%8C-gateway-fallback",
        "display_username": "H7n14je",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1528,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/%D0%BA%D0%B0%D0%BA-%D1%81%D0%B4%D0%B5%D0%BB%D0%B0%D1%82%D1%8C-gateway-fallback/10659/1",
        "can_translate": false
    },
    {
        "id": 44827,
        "name": "0ka",
        "username": "0ka",
        "avatar_template": "/letter_avatar_proxy/v4/letter/0/d78d45/{size}.png",
        "created_at": "2024-09-24T08:54:12.791Z",
        "cooked": "<p>можно сделать все на синг-боксе, там есть outbound URLtest который будет выбирать рабочий outbound (любой встроенный или внешний если он создаёт tun интерфейс (wg и openvpn в их числе))</p>\n<p>но стабильность у sing-box не лучшая поэтому я бы не делал его центром прохода трафика, а сделал бы скрипт в котром был бы просто что-то типа <code>if ! curl -m 5 --interface openvpn_tun 1.1.1.1; then ifmetric openvpn_tun 100</code> и т.п. для остальных интерфейсов чтобы просто исключать их из маршрута если curl фейлит</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 2,
        "updated_at": "2024-09-24T09:01:46.111Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 4,
        "reads": 36,
        "readers_count": 35,
        "score": 27.2,
        "yours": false,
        "topic_id": 10659,
        "topic_slug": "%D0%BA%D0%B0%D0%BA-%D1%81%D0%B4%D0%B5%D0%BB%D0%B0%D1%82%D1%8C-gateway-fallback",
        "display_username": "0ka",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 488,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/%D0%BA%D0%B0%D0%BA-%D1%81%D0%B4%D0%B5%D0%BB%D0%B0%D1%82%D1%8C-gateway-fallback/10659/2",
        "can_translate": false
    }
]