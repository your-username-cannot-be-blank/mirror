[
    {
        "id": 61644,
        "name": "Vlad",
        "username": "Hrpz",
        "avatar_template": "/letter_avatar_proxy/v4/letter/h/f08c70/{size}.png",
        "created_at": "2024-11-01T23:21:44.625Z",
        "cooked": "<p>Приветствую.</p>\n<p>В браузере использую плагин Proxy SwitchyOmega, с его помощью я могу:</p>\n<ol>\n<li>В пару кликов добавить сайт с текущей вкладки в правила для открытия через Proxy.<br>\nПри этом он показывает, какие еще ресурсы использует сайт и всех их можно добавить в правила для его корректного функционирования, этакий аналог geosite некобокса, очень удобно.</li>\n</ol>\n<p><img src=\"разные-default-outbound-для-tun-и-для-socks/f9323eecc7f8a835b736b85f4b8a57e5c7db9366.png\" alt=\"image\" data-base62-sha1=\"zyuxyEu5ibTVqWAoCzd7ehYVyt0\" width=\"380\" height=\"388\"></p>\n<ol start=\"2\">\n<li>\n<p>Переключаться между режимами Direct/Proxy (влияет на все вкладки браузера)</p>\n</li>\n<li>\n<p>Временно активировать режим Direct/Proxy для сайта с текущей вкладки (сбрасывается при перезапуске браузера). Это мне важно. Часто возникает необходимость разово заглянуть на какой-то сайт из поисковой выдачи, куда не пускает из России (забанена), и не нужно создавать/удалять правило под этот разовый визит.</p>\n</li>\n</ol>\n<p><img src=\"разные-default-outbound-для-tun-и-для-socks/c53bd2d8e1e59603be947426ede1c2ede0d7f1d3.png\" alt=\"image\" data-base62-sha1=\"s8OesppWDTLPaNVOeg1yi0UhosP\" width=\"173\" height=\"337\"></p>\n<p>Такой вариант использования связки plugin+nekobox для меня был оптимален - проксируются только нужные ресурсы, а остальное идет напрямую.</p>\n<p>В плагине в качестве сокс прокси указан локалхост с портом 2080, который слушает nekobox. В самом nekobox установлен Default outbound - Proxy.</p>\n<p>И вот понадобилось пустить через прокси процесс дискорда. Выяснилось, что это возможно только в режиме Tun, а в этом режиме весь трафик системы идет через прокси из-за default outbound. Это нам не надо.</p>\n<p>Меняем default outbound на bypass и выясняется, что на сокс с 2080 порта это тоже действует. Плагин в браузере становится бесполезен.</p>\n<p>Была попытка подстроиться под это и перекинуть сайты из правил плагина в настройки роутинга приложения и отказаться от плагина. Это работает, но крайне <strong>неудобно</strong> постоянно лезть в конфиг nekobox для внесения в список сайтов “разового визита”, а потом их оттуда удалять или оставлять мусорной записью.</p>\n<p>Вариант при котором я делаю def. outbound: proxy и хожу везде без проблем, при этом пустив RU/РФ/SU ресурсы напрямую - мне не подходит. Я хочу проксировать, только то что мне нужно и не рисковать засветом своего хоста на ресурсах внутри России (тот же <a href=\"http://yastatic.net\" rel=\"noopener nofollow ugc\">yastatic.net</a> например).</p>\n<p>Пробовал вернуться к исходному варианту, а Дискорд проксировать через ProxyCap на порт 2080. Вариант рабочий, но не хочется держать сторонее ПО + ProxyCap для правила требует прямой путь к приложению, а у дискорда в названии папки содержится версия, и она меняется после обновления, из-за чего постоянно приходится указывать новую папку.</p>\n<p>И получается, что сценария плагин + Discord я могу достичь только разными outbound для локального Socks и для Tun. Это возможно как-то сделать? Правила там какие-то кастомные?</p>\n<p>Спасибо осилившим.</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 5,
        "updated_at": "2024-11-01T23:26:12.036Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 119,
        "reads": 61,
        "readers_count": 60,
        "score": 607.2,
        "yours": false,
        "topic_id": 12591,
        "topic_slug": "%D1%80%D0%B0%D0%B7%D0%BD%D1%8B%D0%B5-default-outbound-%D0%B4%D0%BB%D1%8F-tun-%D0%B8-%D0%B4%D0%BB%D1%8F-socks",
        "display_username": "Vlad",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
            {
                "url": "http://yastatic.net",
                "internal": false,
                "reflection": false,
                "title": "JavaScript-библиотеки — Технологии Яндекса",
                "clicks": 0
            }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7896,
        "hidden": false,
        "trust_level": 0,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/%D1%80%D0%B0%D0%B7%D0%BD%D1%8B%D0%B5-default-outbound-%D0%B4%D0%BB%D1%8F-tun-%D0%B8-%D0%B4%D0%BB%D1%8F-socks/12591/1",
        "can_translate": false
    },
    {
        "id": 61679,
        "name": null,
        "username": "boltor",
        "avatar_template": "/letter_avatar_proxy/v4/letter/b/cc9497/{size}.png",
        "created_at": "2024-11-02T05:59:30.982Z",
        "cooked": "<p>Для Дискорда есть такая штука, и Tun не нужен, попробуйте:</p><aside class=\"quote quote-modified\" data-post=\"1\" data-topic=\"12044\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://ntc.party/letter_avatar_proxy/v4/letter/h/41988e/48.png\" class=\"avatar\">\n    <a href=\"https://ntc.party/t/%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-%D0%BF%D1%80%D0%BE%D0%BA%D1%81%D0%B8-%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE-%D0%B4%D0%BB%D1%8F-discord-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-dll-%D0%BF%D0%BB%D1%8E%D1%81-%D0%B3%D0%BE%D0%BB%D0%BE%D1%81%D0%BE%D0%B2%D1%8B%D0%B5-%D0%B7%D0%B2%D0%BE%D0%BD%D0%BA%D0%B8-%D0%B1%D0%B5%D0%B7-%D0%BF%D1%80%D0%BE%D0%BA%D1%81%D0%B8/12044\">Настройка прокси только для Discord через DLL (плюс голосовые звонки без прокси)</a> <a class=\"badge-category__wrapper \" href=\"/c/community-software/27\"><span data-category-id=\"27\" style=\"--category-badge-color: #BF1E2E; --category-badge-text-color: #FFFFFF;\" data-drop-close=\"true\" class=\"badge-category \" title=\"Anti-censorship software of our community developers\"><span class=\"badge-category__name\">Community software</span></span></a>\n  </div>\n  <blockquote>\n    Мне пришлось искать альтернативу постоянному использованию TUN только для Discord, поэтому я разработал DLL, которая позволяет Discord использовать прокси-сервер без вмешательства в работу системы. Также удалось решить проблему с голосовыми звонками, чтобы они работали без использования прокси. Решил поделиться этой программой, возможно, кому-то пригодится. Написано на Delphi. \nЭта программа заставляет Windows-версию Discord подключаться через указанный прокси-сервер (HTTPS или SOCKS5) для всех …\n  </blockquote>\n</aside>\n",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 5,
        "updated_at": "2024-11-02T05:59:30.982Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 5,
        "reads": 47,
        "readers_count": 46,
        "score": 39.4,
        "yours": false,
        "topic_id": 12591,
        "topic_slug": "%D1%80%D0%B0%D0%B7%D0%BD%D1%8B%D0%B5-default-outbound-%D0%B4%D0%BB%D1%8F-tun-%D0%B8-%D0%B4%D0%BB%D1%8F-socks",
        "display_username": null,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
            {
                "url": "https://ntc.party/t/%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-%D0%BF%D1%80%D0%BE%D0%BA%D1%81%D0%B8-%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE-%D0%B4%D0%BB%D1%8F-discord-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-dll-%D0%BF%D0%BB%D1%8E%D1%81-%D0%B3%D0%BE%D0%BB%D0%BE%D1%81%D0%BE%D0%B2%D1%8B%D0%B5-%D0%B7%D0%B2%D0%BE%D0%BD%D0%BA%D0%B8-%D0%B1%D0%B5%D0%B7-%D0%BF%D1%80%D0%BE%D0%BA%D1%81%D0%B8/12044",
                "internal": true,
                "reflection": false,
                "title": "Настройка прокси только для Discord через DLL (плюс голосовые звонки без прокси)",
                "clicks": 0
            }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 3526,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/%D1%80%D0%B0%D0%B7%D0%BD%D1%8B%D0%B5-default-outbound-%D0%B4%D0%BB%D1%8F-tun-%D0%B8-%D0%B4%D0%BB%D1%8F-socks/12591/2",
        "can_translate": false
    },
    {
        "id": 61735,
        "name": "0ka",
        "username": "0ka",
        "avatar_template": "/letter_avatar_proxy/v4/letter/0/d78d45/{size}.png",
        "created_at": "2024-11-02T09:21:53.185Z",
        "cooked": "<p>в custom route добавь правило</p>\n<pre><code class=\"lang-auto\">{\n \"inbound\": \"mixed-in\",\n \"outbound\": \"proxy\"\n}\n</code></pre>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 5,
        "updated_at": "2024-11-02T09:22:05.126Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 41,
        "readers_count": 40,
        "score": 23.2,
        "yours": false,
        "topic_id": 12591,
        "topic_slug": "%D1%80%D0%B0%D0%B7%D0%BD%D1%8B%D0%B5-default-outbound-%D0%B4%D0%BB%D1%8F-tun-%D0%B8-%D0%B4%D0%BB%D1%8F-socks",
        "display_username": "0ka",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 488,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/%D1%80%D0%B0%D0%B7%D0%BD%D1%8B%D0%B5-default-outbound-%D0%B4%D0%BB%D1%8F-tun-%D0%B8-%D0%B4%D0%BB%D1%8F-socks/12591/3",
        "can_translate": false
    },
    {
        "id": 61774,
        "name": "Vlad",
        "username": "Hrpz",
        "avatar_template": "/letter_avatar_proxy/v4/letter/h/f08c70/{size}.png",
        "created_at": "2024-11-02T10:58:13.419Z",
        "cooked": "<p>Спасибо,для дискорда сгодилось бы, но в случае, если нужно еще что-то проксировать, мы возвращаемся к исходной проблеме.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 5,
        "updated_at": "2024-11-02T10:58:13.419Z",
        "reply_count": 0,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 35,
        "readers_count": 34,
        "score": 7.0,
        "yours": false,
        "topic_id": 12591,
        "topic_slug": "%D1%80%D0%B0%D0%B7%D0%BD%D1%8B%D0%B5-default-outbound-%D0%B4%D0%BB%D1%8F-tun-%D0%B8-%D0%B4%D0%BB%D1%8F-socks",
        "display_username": "Vlad",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
            "username": "boltor",
            "name": null,
            "avatar_template": "/letter_avatar_proxy/v4/letter/b/cc9497/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7896,
        "hidden": false,
        "trust_level": 0,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/%D1%80%D0%B0%D0%B7%D0%BD%D1%8B%D0%B5-default-outbound-%D0%B4%D0%BB%D1%8F-tun-%D0%B8-%D0%B4%D0%BB%D1%8F-socks/12591/4",
        "can_translate": false
    },
    {
        "id": 61776,
        "name": "Vlad",
        "username": "Hrpz",
        "avatar_template": "/letter_avatar_proxy/v4/letter/h/f08c70/{size}.png",
        "created_at": "2024-11-02T11:10:51.044Z",
        "cooked": "<p>Насколько я понял, как раз “inbound: mixed-in” nekobox запускает на 2080, а этим правилом переопределяется его outbound. Это именно то что мне было нужно, все работает, спасибо <img src=\"https://ntc.party/images/emoji/twitter/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<hr>\n<p>На случай, если кто-то с моим уровнем знаний и подобным запросом наткнется на эту тему, правило должно быть внутри блока rules:</p>\n<p><img src=\"разные-default-outbound-для-tun-и-для-socks/a423ca1a519822700ee5bad4cb33645f2f26c8f6.png\" alt=\"image\" data-base62-sha1=\"nq2YZrE50FcRYoGb85rUl182xRc\" width=\"489\" height=\"299\"></p>\n<p>У меня в custom rules было пусто и я об этом не сразу вспомнил.</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 5,
        "updated_at": "2024-11-02T11:10:51.044Z",
        "reply_count": 0,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 5,
        "reads": 37,
        "readers_count": 36,
        "score": 32.4,
        "yours": false,
        "topic_id": 12591,
        "topic_slug": "%D1%80%D0%B0%D0%B7%D0%BD%D1%8B%D0%B5-default-outbound-%D0%B4%D0%BB%D1%8F-tun-%D0%B8-%D0%B4%D0%BB%D1%8F-socks",
        "display_username": "Vlad",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
            "username": "0ka",
            "name": "0ka",
            "avatar_template": "/letter_avatar_proxy/v4/letter/0/d78d45/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7896,
        "hidden": false,
        "trust_level": 0,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/%D1%80%D0%B0%D0%B7%D0%BD%D1%8B%D0%B5-default-outbound-%D0%B4%D0%BB%D1%8F-tun-%D0%B8-%D0%B4%D0%BB%D1%8F-socks/12591/5",
        "can_translate": false
    }
]