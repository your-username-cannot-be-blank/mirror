
    <html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style>
    th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      word-wrap: break-word;
      padding: 5px;
    }
    table {
      width: 100%;
      max-width: 100%;
      border: 1px solid black;
      border-collapse: collapse;
      table-layout: fixed;
      word-wrap: break-word
    }
    code {
      word-wrap: break-word;
    }
    pre {
        white-space: pre-wrap;
    }
    </style>
        <title>обсуждение-tor-arti-rust-версия</title>
      </head>
      <body>
        <table border="1" width="100%" cellpadding="5">
          <tr>
            <th style="width: 10%;">Ник</th>
            <th>Пост</th>
            <th style="width: 10%;">Дата</th>
          </tr>
    <tr><td>anon94384997</td><td><p>By the way, please fix cross-compilation of arti. Now there is a problem with the system openssl. Many Rust projects support cross-compilation this way: <a href="https://docs.rs/openssl/latest/openssl/#vendored" rel="noopener nofollow ugc">https://docs.rs/openssl/latest/openssl/#vendored</a> or something like that.</p></td><td>2023-03-17T19:50:42.426Z</td></tr><tr><td>tango</td><td><p>I don’t do any Arti development. It’s better to report at <a href="https://forum.torproject.net/c/support/core-tor/18">https://forum.torproject.net/c/support/core-tor/18</a> or <a href="https://gitlab.torproject.org/tpo/core/arti#how-can-i-report-bugs" class="inline-onebox">The Tor Project / Core / Arti · GitLab</a>.</p></td><td>2023-03-17T21:04:27.454Z</td></tr><tr><td>anon94384997</td><td><p>Да, я <a href="https://pastebin.com/raw/S8WzzqGy" rel="noopener nofollow ugc">разобрался</a> как кросскомпилировать в linux64 для linux32. На примере Kali Linux (Debian Testing). Правда, это не static сборка, но тоже работает. Ждем поддержку onion.</p>
<p>Вообще, линуксоиды могут утащить <a href="https://archlinux32.org/packages/i686/community-testing/arti/" rel="noopener nofollow ugc">отсюда</a> + все зависимые либы, конечно.</p></td><td>2023-04-08T02:22:36.476Z</td></tr><tr><td>anon94384997</td><td><aside class="quote no-group quote-modified" data-username="tango" data-post="2" data-topic="4912" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/letter_avatar_proxy/v4/letter/t/e36b37/48.png" class="avatar"> tango:</div>
<blockquote>
<p>I don’t do any Arti development. It’s better to report at <a href="https://forum.torproject.net/c/support/core-tor/18" rel="noopener nofollow ugc">Core Tor - Tor Project Forum </a> or <a href="https://gitlab.torproject.org/tpo/core/arti#how-can-i-report-bugs" rel="noopener nofollow ugc">The Tor Project / Core / Arti · GitLab </a>.</p>
</blockquote>
</aside>
<p>Так ведь к вам туда не попадешь. На форуме сидят одни чайники (не разработчики), я как-то спрашивал, никто не ответил. На гитлабе требуется ручное подтверждение (одобрение) учетки (чего я не люблю), да и не подтверждают меня, я тоже как-то пробовал.</p></td><td>2023-05-08T12:04:28.326Z</td></tr><tr><td>anon94384997</td><td><p>Помогли в matrix канале tor-dev. Для гитлаба так и не пришло письмо.</p></td><td>2023-05-08T17:33:42.757Z</td></tr><tr><td>why.dude(why.dude)</td><td><p>Arti вообще не хочет запускаться. Может я неправильно запускаю, может сборка нестабильная, без понятия. Можете чуть подробней объяснить, или самим проверить работоспособность Arti на windows?</p></td><td>2023-07-25T19:57:45.267Z</td></tr><tr><td>anon94384997</td><td><aside class="quote no-group" data-username="why.dude" data-post="6" data-topic="4912">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/letter_avatar_proxy/v4/letter/w/90db22/48.png" class="avatar"> why.dude:</div>
<blockquote>
<p>Arti вообще не хочет запускаться</p>
</blockquote>
</aside>
<p>Я собирал с опцией <code>static-sqlite</code>. Может быть надо было со <code>static</code> (т.е. полностью static). Проверить на windows как следует я не могу за неимением и wine с rust не очень дружит. Тем не менее, я просил брата проверить запускаемость (чисто вывод --help, без коннекта) на Win7 x64 и сборка запускалась. Я также полностью проверял работоспособность в виртуальной Win7 x86. Но то была старая сборка и я не помню с какими параметрами.<br>
Может быть проблема на Win10. У вас какая ОС и что за ошибка?</p>
<p>Связаться в telegram в принципе могу, но почему бы не обсудить здесь? Только, лички я не читаю.</p>
<p>Valdik на одном печально известном сайте, посвященном linux, писал, что tor (виндовый сишный) нужно патчить, чтобы изменить fingerprint. Я так понял, что linux не детектят, почему бы не воспользоваться линуксовым тором?</p></td><td>2023-07-26T15:26:33.491Z</td></tr><tr><td>anon94384997</td><td><p>Если что, линуксовый arti можно скачать здесь:<br>
<a href="http://mirror.yandex.ru/mirrors/voidlinux/current/arti-1.1.6_1.i686.xbps" rel="noopener nofollow ugc">http://mirror.yandex.ru/mirrors/voidlinux/current/arti-1.1.6_1.i686.xbps</a><br>
<a href="http://mirror.yandex.ru/mirrors/voidlinux/current/arti-1.1.6_1.x86_64.xbps" rel="noopener nofollow ugc">http://mirror.yandex.ru/mirrors/voidlinux/current/arti-1.1.6_1.x86_64.xbps</a><br>
Цифры могут измениться.<br>
Это из voidlinux, поэтому под очень новый glibc. Зависит от openssl 1.1.1, sqlite, zstd (проверить можно readelf -d и ldd)<br>
В арче что-то перестали обновлять его.<br>
На случай, если кто не хочет компилировать.<br>
Новый glibc, в общем-то, не проблема, можно скормить как-то так:<br>
<code>/new/libs/ld-linux.so.2 --library-path /new/libs arti</code><br>
Это хак, но он работает даже в очень старых дистрах.</p></td><td>2023-07-26T16:04:31.379Z</td></tr><tr><td>Non4m3(Alex)</td><td><p>Приветствую, многоуважаемый maxmetu!<br>
arti запускается на win7, 10, 11 проверено лично. Естественно х64 разрядность.<br>
Подключения, как не было, так и нет. Проверю на kali, может там что то будет.<br>
Ниже приведу логи arti на win11 и маршрут до моста.</p></td><td>2023-07-26T17:17:58.468Z</td></tr><tr><td>Non4m3(Alex)</td><td><p><a class="attachment" href="обсуждение-tor-arti-rust-версия/1uRxv6aKEoYRcAAv4ccMYVsGnZ3.txt">Bridge.txt</a> (1,7 КБ)<br>
<a class="attachment" href="обсуждение-tor-arti-rust-версия/60abBx5pkFsvFXZB7JyzMwjh7qz.txt">Log ARTI.txt</a> (6,8 КБ)<br>
Линуксовский тор:<br>
<a class="attachment" href="обсуждение-tor-arti-rust-версия/zMr3LvMgPPkQXB1jFMjyHbAwDpt.txt">TORlog.txt</a> (1,4 КБ)</p></td><td>2023-07-26T17:19:41.252Z</td></tr><tr><td>Non4m3(Alex)</td><td><p>Куда подробней то)<br>
Выше все разжовано, только в рот не положили))</p></td><td>2023-07-26T17:35:10.353Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><pre><code class="lang-auto">arti-1.1.6-win32.exe proxy -l info -p 9150

C:\&gt;curl -x socks5://127.0.0.1:9150 https://rutracker.org/myip

&lt;br&gt;&lt;big&gt;
ip: &lt;big&gt;&lt;b&gt;2001:67c:6ec:203:192:42:116:183&lt;/b&gt; PL&lt;/big&gt;&lt;br&gt;
realip: &lt;b&gt;On&lt;/b&gt;&lt;br&gt;&lt;br&gt;
ssl: TLSv1.2 ECDHE-RSA-AES128-GCM-SHA256&lt;br&gt;&lt;br&gt;
ua: curl/8.0.1&lt;br&gt;
tm: 26/Jul/2023:21:35:51 +0300&lt;br&gt;&lt;br&gt;
h: rutracker.org&lt;br&gt;

p.s. при этом на РосТелекоме ТОР у меня даже через snowflake перестал соединятся с нодами. только через ВНП пробивает (тор)

p.p.s. конфиг есть но не используется. мосты не прописывал там вообще</code></pre></td><td>2023-07-26T18:37:48.568Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>[нет прав удалить “лишнее”]</p></td><td>2023-07-26T18:43:04.062Z</td></tr><tr><td>anon94384997</td><td><p>Вот еще сборка (с последними коммитами) полностью static, без strip:<br>
<a href="https://github.com/artenax/tor/releases/download/0.4.7.8/arti-1.1.6-2-win32.7z" rel="noopener nofollow ugc">https://github.com/artenax/tor/releases/download/0.4.7.8/arti-1.1.6-2-win32.7z</a></p>
<pre><code class="lang-auto">arti-1.1.6-2-win32.exe --version
Arti 1.1.6
using runtime: TokioNativeTlsRuntime { .. }
optional features: static-sqlite, static-native-tls
</code></pre>
<p>Линкер mingw 12 (win32) из debian 12 x86_64. Rust 1.71.0.</p></td><td>2023-07-26T18:50:56.882Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><pre><code class="lang-auto">C:\TOR\_arti&gt;arti-1.1.6-2-win32.exe proxy -l info -p 9150                                           ←[2m2023-07-26T18:53:05Z←[0m ←[32m INFO←[0m ←[2marti←[0m←[2m:←[0m Starting Arti 1.1.6 in SOCKS proxy mode on port 9150...

&gt;curl -I -x socks5://127.0.0.1:9150 https://rutracker.org/myip
HTTP/1.1 200 OK
Date: Wed, 26 Jul 2023 18:53:20 GMT
Content-Type: text/html
Connection: keep-alive
Access-Control-Allow-Origin: *
CF-Cache-Status: DYNAMIC
Report-To: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v3?s=u%2FQ1IFFYjLBPD0J8vhY3jwDQNoPfJi17XOMwS6nxMZTxuA7eRdxJZNOq7ytbg52hW0GEQXy8OYsy%2FUcvonFFDGyWQUAclp501w1B3l3NBX3jwGbsuxsFR2vGDeu3leUtSPQhASKmLXG%2FTIDf"}],"group":"cf-nel","max_age":604800}
NEL: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
Server: cloudflare
CF-RAY: 7eced845087539ec-FRA
alt-svc: h3=":443"; ma=86400

&gt;curl -x socks5://127.0.0.1:9150 https://rutracker.org/myip
&lt;br&gt;&lt;big&gt;
ip: &lt;big&gt;&lt;b&gt;2a03:e600:100::1&lt;/b&gt; AT&lt;/big&gt;&lt;br&gt;
realip: &lt;b&gt;On&lt;/b&gt;&lt;br&gt;&lt;br&gt;
ssl: TLSv1.2 ECDHE-RSA-AES128-GCM-SHA256&lt;br&gt;&lt;br&gt;
ua: curl/8.0.1&lt;br&gt;
tm: 26/Jul/2023:21:53:30 +0300&lt;br&gt;&lt;br&gt;
h: rutracker.org&lt;br&gt;

p.s. кстати ConEmu читаемый лог в отличии от cmd.exe
https://i.imgur.com/14j2mD5.png</code></pre></td><td>2023-07-26T18:54:21.839Z</td></tr><tr><td>anon94384997</td><td><p><a class="mention" href="/u/non4m3">@Non4m3</a> Если даже через релеи не подключается, то тогда, наверное, они в блоке по IP. А может все-же дело в fingerprint и нужна какая-то особая сборка тора.</p></td><td>2023-07-26T23:41:08.491Z</td></tr><tr><td>anon94384997</td><td><p><a class="mention" href="/u/leonmskru">@LeonMskRu</a><br>
Кстати, уровень логов можно изменить на trace (самый максимальный), но включить фильтрацию записей по доменам утилитой findstr (виндовый аналог линуксового grep):<br>
<code>arti.exe proxy -l trace -p 9150 | findstr "Got a stream for"</code><br>
И можно увидеть все запросы. Но в arti.toml тогда надо добавить:</p>
<pre><code class="lang-auto">[logging]
log_sensitive_information = true
</code></pre>
<p>Всяко это будет полезнее, чем дефолтный лог. Если в остальном всё работает, конечно.</p></td><td>2023-07-27T00:32:09.297Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>у меня эти сборки работают и коннектятся<br>
но только если без мостов. ни сноуфлейк ни обфс4 не работают на арти<br>
хотя я не в ТМ. но было увидел что у кого то не работает “вообще” и решил тоже проверить</p>
<p>p.s. даже мосты через тор-релай-сканер не соединились (на арти) …</p></td><td>2023-07-27T01:23:56.458Z</td></tr><tr><td>anon94384997</td><td><p>На Win7:<br>
Я успешно заводил obfs4proxy.exe с arti. Видимо, дело в настройках.<br>
obfs4proxy.exe лучше всего положить в PATH (C:\Windows), а в конфиге указать без пути.</p>
<p>На линуксе:<br>
Все транспорты работают с arti. То, что на Win7 заработал только obfs4proxy.exe скорее всего связано с тем, что только obfs4proxy.exe не требователен к системному TLS и сертификатам, в отличии от остальных транспортов. Win7 была необновленной, а go проги используют системные библиотеки, я так понял.</p>
<aside class="quote no-group" data-username="LeonMskRu" data-post="18" data-topic="4912">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/leonmskru/48/2810_2.png" class="avatar"> LeonMskRu:</div>
<blockquote>
<p>даже мосты через тор-релай-сканер не соединились (на арти)</p>
</blockquote>
</aside>
<p>А вот это плохо.</p>
<aside class="quote no-group quote-modified" data-username="Non4m3" data-post="14" data-topic="4403">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/letter_avatar_proxy/v4/letter/n/bb73d2/48.png" class="avatar"><a href="https://ntc.party/t/%D0%BE%D0%B1%D1%81%D1%83%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B1%D0%BB%D0%BE%D0%BA%D0%B8%D1%80%D0%BE%D0%B2%D0%BE%D0%BA-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82%D0%B0-%D0%B2-%D1%82%D1%83%D1%80%D0%BA%D0%BC%D0%B5%D0%BD%D0%B8%D1%81%D1%82%D0%B0%D0%BD%D0%B5-260423/4403/14">Обсуждение блокировок интернета в Туркменистане (26.04.23)</a></div>
<blockquote>
<p>Проверю на kali, может там что то будет</p>
</blockquote>
</aside>
<p>Вот как раз сборка для <a href="https://github.com/artenax/tor/releases/download/0.4.7.8/arti-1.1.6-kali-x86-64.7z" rel="noopener nofollow ugc">kali (debian 12)</a>.<br>
Зависимости:<br>
<code>sudo apt install libsqlite3-0 libssl3 liblzma5</code></p></td><td>2023-07-27T02:42:08.163Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>у меня вин10 + РосТелеком (РФ)<br>
тор и тот странно работает последнее время. несколько дней не соединялось через сноуфлейк. потом вдруг опять/снова заработало<br>
а тот же арти прям без конфига сразу подключился. правда вижу одни и те же 2е гуард ноды все время. те же настройки и транспорт на арти брал рабочие с тора (ну мосты где это надо новые запрашивал)<br>
приходится присматривать варианты. ибо не нравится что в темах про опенвпн/етк да и антизапрет имхо на грани бана по ИП</p></td><td>2023-07-27T04:42:12.822Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>arti + bridges</p>
<pre><code class="lang-auto">Attempt 10: Unable to select a guard relay: No usable guards. Rejected 8/29 as down, then 0/21 as pending, then 21/21 as unsuitable to purpose, then 0/0 with filter.
Attempt 11: Spent too long trying to construct circuits for this request
2023-07-27T04:44:34Z  WARN tor_circmgr: Failed to build preemptive circuit Preemptive { port: None, circs: 2 }: error: Tried to find or build a circuit 10 times, but all attempts failed
</code></pre></td><td>2023-07-27T04:46:27.515Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>arti 1.1.6 (не -2 билд) + snowflake == соединился как ни странно (несколько раз запускал. не коннектилось)</p></td><td>2023-07-27T04:53:12.998Z</td></tr><tr><td>tango</td><td><aside class="quote no-group quote-modified" data-username="LeonMskRu" data-post="22" data-topic="4912">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/leonmskru/48/2810_2.png" class="avatar"> LeonMskRu:</div>
<blockquote>
<pre><code class="lang-plaintext">Somehow the guardmgr gave us an unlisted guard FirstHop
</code></pre>
</blockquote>
</aside>
<p>This looks like a bug that was fixed very recently, 2023-07-14. The fix isn’t in Arti 1.1.6 (<a href="https://blog.torproject.org/arti_116_released/">released 2023-06-30</a>).</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://gitlab.torproject.org/tpo/core/arti/-/issues/673">
  <header class="source">
      <img src="обсуждение-tor-arti-rust-версия/7fe32599921fb3b5d502756ffcb3d2b5f36dc89b.png" class="site-icon" data-dominant-color="787472" width="32" height="32">

      <a href="https://gitlab.torproject.org/tpo/core/arti/-/issues/673" target="_blank" rel="noopener">GitLab</a>
  </header>

  <article class="onebox-body">
    <img width="64" height="64" src="обсуждение-tor-arti-rust-версия/f037cc2d40857d9065458c0a9f6b0ae7bc208d48.png" class="thumbnail onebox-avatar" data-dominant-color="9C7C78">

<h3><a href="https://gitlab.torproject.org/tpo/core/arti/-/issues/673" target="_blank" rel="noopener">Somehow the guardmgr gave us an unlisted guard FirstHop (#673) · Issues · The...</a></h3>

  <p>2022-11-30T15:45:01.217466Z DEBUG tor_circmgr::mgr: Unable to make a plan for Preemptive { port: None, circs: 2 }:...</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://gitlab.torproject.org/tpo/core/arti/-/merge_requests/1408">
  <header class="source">
      <img src="обсуждение-tor-arti-rust-версия/7fe32599921fb3b5d502756ffcb3d2b5f36dc89b.png" class="site-icon" data-dominant-color="787472" width="32" height="32">

      <a href="https://gitlab.torproject.org/tpo/core/arti/-/merge_requests/1408" target="_blank" rel="noopener">GitLab</a>
  </header>

  <article class="onebox-body">
    <img width="64" height="64" src="обсуждение-tor-arti-rust-версия/f037cc2d40857d9065458c0a9f6b0ae7bc208d48.png" class="thumbnail onebox-avatar" data-dominant-color="9C7C78">

<h3><a href="https://gitlab.torproject.org/tpo/core/arti/-/merge_requests/1408" target="_blank" rel="noopener">Stop unconditionally marking bridges as having dir info. (!1408) · Merge...</a></h3>

  <p>When we implemented bridges, we added code in 08473872 to...</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
</td><td>2023-07-27T16:46:37.849Z</td></tr><tr><td>Non4m3(Alex)</td><td><p>maxmetu, можно просто Макс?<br>
Немного не пойму, это как они в блоке по IP, если до них пинг идет? Выше приведен маршрут.</p></td><td>2023-07-27T17:09:20.200Z</td></tr><tr><td>why.dude(why.dude)</td><td><p><img src="обсуждение-tor-arti-rust-версия/ee2cf6906bbb0e42c04ebdafb86782d82f969469.png" alt="изображение" data-base62-sha1="xYZYcJ1fPFwnOZ2oSYRnKittE4F" width="632" height="165"><br>
Отыскал старый нетбук с убунту, попробовал на нем арти, появляется ошибка распаковки. Не исключаю тот факт что возможно что-то неправильно сделал, всё-же я не дружу с линуксами.<br>
Кстати говоря, возможно арти не запустилась у меня на винде из-за кастомной ReviOS11. Позже попробую на официальной Windows 8.1</p></td><td>2023-07-27T18:36:21.570Z</td></tr><tr><td>anon94384997</td><td><p>Я попробовал поработать с arti и отсканированными релеями (добавляемыми как обычные мосты). Ну, это очень глючно. Только 2 из 18 заработали в arti, это <strong>на интернете без цензуры</strong>. А после того, как я почистил временные файлы и перезапустил arti и вовсе подключаться перестало. У меня сборка от 8 июля.<br>
Обычный сишный tor ни на один из 18 релеев не пожаловался и сразу подключился.<br>
Это напомню на интернете без цензуры.</p>
<p>Через obfs4 мост (и напрямую) arti работает вполне нормально. Правда, смысла использовать obfs4proxy с arti в Туркменистане нет, ведь соединением на стороне провайдера заведует obfs4proxy, а не arti.<br>
<strong>Извините, что морочил вам голову</strong> с этим arti и сам сразу не проверил.</p>
<p><a class="mention" href="/u/tango">@tango</a> у меня сборки (выкладываемые здесь) новее 1.1.6, собранные на дату постинга.</p>
<p>UPD:<br>
<a class="mention" href="/u/why.dude">@why.dude</a> на старом линуксе так просто не заработает и вообще глючная вещь.</p></td><td>2023-07-27T19:02:31.859Z</td></tr><tr><td>Non4m3(Alex)</td><td><p>Как, Вы, запускаете Arti на Win? Опишите подробно свои действия. Шаг за шагом, по порядку. В прошлом топике была подробная инструкция.</p>
<p>На счет линукса тоже было написано, да и в ссылке на инструкцию, а так же в официальном блоге тора. К чему требователен + команда установки.</p></td><td>2023-07-27T19:06:59.372Z</td></tr><tr><td>Non4m3(Alex)</td><td><p>Значит с Тором мы пока в пролете.<br>
Как бы странно не прозвучало, но нам нужно подключится к мостам тор, не используя при этом сам тор</p></td><td>2023-07-27T19:08:45.969Z</td></tr><tr><td>why.dude(why.dude)</td><td><p>Скачал Арти для виндовс, распаковал архив, запустил PowerShell и ввел строку которая была по инструкции. Пробовал двойным кликом — открывается консоль на миллисекунду и закрывается.</p>
<p>Обычный Тор запустился простым двойным кликом. Но никуда подключиться не смог.</p></td><td>2023-07-27T19:26:04.483Z</td></tr><tr><td>why.dude(why.dude)</td><td><p>И главное чтобы эти мосты были vanilla, ибо обфс4 и так работает без махинаций, но вот проблема в том, что найти их крайне проблематично, в отличии от vanilla.</p></td><td>2023-07-27T19:28:34.821Z</td></tr><tr><td>anon94384997</td><td><p>Строго говоря, то, что предлагает Valdik (tor relay scanner), это не совсем vanilla мосты, а входные релеи, которые используются как мосты, что своего рода хак. С ними и оригинальный tor не совсем стабильно работает.<br>
Нужно патчить сишный tor, чтобы изменить fingerprint. У меня патча нет.</p>
<p>Я только не понял, fingerprint палится на всех системах или только на windows? Потому я и советовал проверить на linux, но не с arti, а с обычным тором. Но скорее всего это не зависит от системы, если даже на андроиде (arm) не соединяется tor.</p></td><td>2023-07-27T22:00:55.061Z</td></tr><tr><td>why.dude(why.dude)</td><td><p>Могу попробовать запустить на iOS, чтобы понять на всех ли устройствах он палится. Но что-то мне подсказывает что все же на всех.</p>
<p>(Кстати, огромное спасибо команде NTC за возможность ответа через почту, это спасает когда нет возможности обойти)</p></td><td>2023-07-28T09:56:06.000Z</td></tr><tr><td>Non4m3(Alex)</td><td><p>Похоже что на всех. Выше я выкладывал логи тора на линухе</p></td><td>2023-07-28T14:25:32.411Z</td></tr><tr><td>xomeg(SS)</td><td><p>Когда заработает, не пишите, что заработало. <img src="https://ntc.party/images/emoji/twitter/expressionless.png?v=12" title=":expressionless:" class="emoji" alt=":expressionless:" loading="lazy" width="20" height="20"></p></td><td>2023-07-29T03:41:21.770Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>до заработало там еще не скоро ИМХО (на вин64)<br>
часто виснет интернет от РосТелекома (у меня что то типа WiFi до провайдера)<br>
после перезапуска роутера Арти не смог соединится без выкл/вкл клиента</p>
<p>а так если интернет не отключать то 2ой день работает <a href="https://i.imgur.com/T9ZgDw8.png" rel="noopener nofollow ugc">https://i.imgur.com/T9ZgDw8.png</a></p></td><td>2023-07-29T08:16:11.275Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>пока что работает даже на РТ/РФ без “мостов”<br>
с мостами так и не смог нормально заработать ни на вин64 ни на убунту<br>
snowflake не находит мосты (клиент собирал последний)<br>
obfs4 взятый из тор-броузера (3и штуки)  не соединяется с ними<br>
так же как и раньше не воспринимает релеи как мосты из торрелайсканера</p>
<p>да и без нормального конфига (выходные ноды по ГеоИП, прокси http/socks для выхода в интернет, етк) это пока что забавная игрушк для гиков</p>
<p>p.s. проблемы с мостами вроде как решились</p>
<ol>
<li>удалять все временные файлы C:\Users<span class="chcklst-box fa fa-square-o fa-fw"></span>\AppData\Local\torproject\Arti\data\state</li>
<li>релаи как мосты брать с сайта а не из торрелайсканера</li>
</ol></td><td>2023-08-04T10:22:11.327Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>gnu + msvc<br>
i686 + x86_64</p>
<p>добавил (x86_64) arti-1.1.7-debug.exe --version<br>
using runtime: Tokio <span class="bbcode-u">Rustls</span> Runtime { … }</p>
<p><a href="https://github.com/laileb76/le0n/raw/main/_arti_1-1-7_windows_20230815_0035.rar" class="onebox" target="_blank" rel="noopener nofollow ugc">https://github.com/laileb76/le0n/raw/main/_arti_1-1-7_windows_20230815_0035.rar</a></p>
<p>snowflake конечно медленный (у меня от 10-100 КБайт/сек до 300+ КБ. но у меня и сам интернет максимум 10 Мбит)<br>
зато пока не отключат весь stun + зарубежные CDNы …</p><aside class="onebox allowlistedgeneric" data-onebox-src="https://gitlab.torproject.org/tpo/anti-censorship/pluggable-transports/snowflake/-/issues/40273#note_2904868">
  <header class="source">
      <img src="обсуждение-tor-arti-rust-версия/f574351629d4ba845c7ba57346057454af505005.png" class="site-icon" data-dominant-color="787472" width="32" height="32">

      <a href="https://gitlab.torproject.org/tpo/anti-censorship/pluggable-transports/snowflake/-/issues/40273#note_2904868" target="_blank" rel="noopener nofollow ugc">GitLab</a>
  </header>

  <article class="onebox-body">
    <img width="64" height="64" src="обсуждение-tor-arti-rust-версия/3197daf5565c6657f1af4758d2a9b3178181cfa5_2_64x64.jpeg" class="thumbnail onebox-avatar" data-dominant-color="F4C4BB">

<h3><a href="https://gitlab.torproject.org/tpo/anti-censorship/pluggable-transports/snowflake/-/issues/40273#note_2904868" target="_blank" rel="noopener nofollow ugc">Automated Testing Script for Potential Domain Fronting Domains (#40273) ·...</a></h3>

  <p>In order to make it easier to deal with blocking of domain fronting domains that is being observed in Iran, Russia, and possibly China, a</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://gitlab.torproject.org/tpo/anti-censorship/pluggable-transports/snowflake/-/issues/40068#note_2767823">
  <header class="source">
      <img src="обсуждение-tor-arti-rust-версия/f574351629d4ba845c7ba57346057454af505005.png" class="site-icon" data-dominant-color="787472" width="32" height="32">

      <a href="https://gitlab.torproject.org/tpo/anti-censorship/pluggable-transports/snowflake/-/issues/40068#note_2767823" target="_blank" rel="noopener nofollow ugc">GitLab</a>
  </header>

  <article class="onebox-body">
    <img width="64" height="64" src="обсуждение-tor-arti-rust-версия/3197daf5565c6657f1af4758d2a9b3178181cfa5_2_64x64.jpeg" class="thumbnail onebox-avatar" data-dominant-color="F4C4BB">

<h3><a href="https://gitlab.torproject.org/tpo/anti-censorship/pluggable-transports/snowflake/-/issues/40068#note_2767823" target="_blank" rel="noopener nofollow ugc">Is there a better moat/snowflake SNI than cdn.sstatic.net? (#40068) · Issues...</a></h3>

  <p>(@cohosh asked me to file this ticket after a bit of discussion) In Tor Browser, we...</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>в сегодняшнем билде сломали логи<br>
кучи дебаг сообщений от backtrace (хотя стоит log INFO)<br>
взял вчерашний билд. ошибок меньше и другие. но тоже приятного мало в консоли</p></td><td>2023-08-07T15:05:42.733Z</td></tr><tr><td>ladykolotushkina</td><td><aside class="quote no-group" data-username="LeonMskRu" data-post="38" data-topic="4912">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/leonmskru/48/2810_2.png" class="avatar"> LeonMskRu:</div>
<blockquote>
<p>snowflake конечно медленный (у меня от 10-100 КБайт/сек до 300+ КБ. но у меня и сам интернет максимум 10 Мбит)<br>
зато пока не отключат весь stun + зарубежные CDNы …</p>
</blockquote>
</aside>
<p>Snowflake блокируется, просто традиционно больше половины блокировщиков не тянут. И ещё последние сэмплы для блокировки собирали только на десктопе (с симметричным натом, вероятно в виртуалке), т.к. мобильная (андроид) версия сломана, что сказалось положительно на доступности даже там где обычно заблокировано. Но много пиров, особенно серверные с быстрым каналом, зачастую недоступны.</p></td><td>2023-08-18T18:06:44.182Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>блокировки разные бывают<br>
у меня вон РТ/РФ даже не весь тор оказывается забанен<br>
вот сегодняшний оони пробе<br>
Мосты по умолчанию 5/15 OK<br>
Управляющие списками 1/10 OK<br>
просто пока что в отличии от релаев/мостов или obfs4 (lyrebird) snowflake работает “сам” то есть не надо постоянно искать работающие BRIDGES<br>
p.s. не знаю в чем разница тор и арти. но пока что он работает даже на виндоуз без транспортов</p>
<p>добавил arti-1.1.7-release.exe --version<br>
using runtime: Tokio <span class="bbcode-b">Rustls</span> Runtime { … }<br>
optional features: static-sqlite</p>
<p>в дебаг сборке стало слишком много ненужного в логах<br>
<a href="https://github.com/laileb76/le0n/raw/main/_arti_1-1-7_windows_20230820_2302.rar" class="onebox" target="_blank" rel="noopener nofollow ugc">https://github.com/laileb76/le0n/raw/main/_arti_1-1-7_windows_20230820_2302.rar</a></p></td><td>2023-08-18T18:14:29.254Z</td></tr><tr><td>tango</td><td><p>Thank you for testing Arti with bridges, <a class="mention" href="/u/leonmskru">@LeonMskRu</a>. I am watching the updates.</p>
<p>I posted this thread in <span class="hashtag-raw">#tor-dev</span> IRC but I don’t know if the core Tor developers have looked at it.</p></td><td>2023-08-29T02:04:13.573Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>bridges (real bridges, obfs4/lyrebird, snowflake) work at arti<br>
only if clear “data” from previous session<br>
without delete saved bridges == bugs, lags or not bootstrap without any readable logs<br>
p.s. arti without bridges work on ISP with "ban"ned TOR.exe client (dont know about Turkmenistan/Iran, only Russia Rostelekom tested)</p></td><td>2023-08-29T15:14:55.144Z</td></tr><tr><td>welazsc</td><td><aside class="quote no-group" data-username="LeonMskRu" data-post="42" data-topic="4912">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/leonmskru/48/2810_2.png" class="avatar"> LeonMskRu:</div>
<blockquote>
<p>arti without bridges work on ISP with "ban"ned TOR.exe client</p>
</blockquote>
</aside>
<p>Тестировали с одинаковыми Entry Nodes (Guards)?</p></td><td>2023-08-29T15:51:23.747Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>по данным оони у меня почти (а часто и все) забанено<br>
какие именно ноды по умолчанию в Арти я без понятия (ума собрать клиент под себя хватает и ладно.)<br>
а если брать из торскана или с сайта торскана то даже тор.ехе работает<br>
p.s. дефолтный ТОР не запускается уже давно. виснет на 5% чтоли. сейчас работает tor.exe+snowflake &amp; арти без всего</p>
<pre><code class="lang-auto">2023-08-29T16:09:39Z  INFO tor_guardmgr::guard: We have found that guard [138.201.55.70:8443+ ed25519:qr2HP/xRuIqjD0VCrEuDyQnzJY/aOanJ6OXcHJLBIuc $5b83dc983406651a0b4f6ae1940793cdd6a6f92e] is usable. 
2023-08-29T16:09:39Z  INFO tor_guardmgr::guard: We have found that guard [45.67.85.204:9000 ed25519:76WeNQuitd4wB5V58b0frK3lsxhA4EzXsphZ9/O8ufY $95a20d0533bc04265164241793abc7601799590e] is usable.
2023-08-29T16:09:39Z  INFO tor_guardmgr::guard: We have found that guard [217.160.114.209:443 ed25519:Z/GUawhOIk948l+lZiqbtrDaaiSnA+bI/D0cfHXUmhw $627823120e3bfc03271eb3b2bc0aff1627d14d95] is usable.
</code></pre>
<p>я просто не знаю как из guards.json ARTI сделать bridges для TOR.EXE</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://explorer.ooni.org/m/20230829152749.706381_RU_tor_acffe9bdd71b5617">
  <header class="source">
      <img src="обсуждение-tor-arti-rust-версия/b96a190fe58f890a537122f3b0cb9671ece93cb0.png" class="site-icon" data-dominant-color="000000" width="192" height="192">

      <a href="https://explorer.ooni.org/m/20230829152749.706381_RU_tor_acffe9bdd71b5617" target="_blank" rel="noopener nofollow ugc">explorer.ooni.org</a>
  </header>

  <article class="onebox-body">
    

<h3><a href="https://explorer.ooni.org/m/20230829152749.706381_RU_tor_acffe9bdd71b5617" target="_blank" rel="noopener nofollow ugc">OONI Explorer - Open Data on Internet Censorship Worldwide</a></h3>

  <p>OONI data suggests Tor censorship test result in Russia on August 29, 2023 at 3:27:46 PM UTC, find more open data on internet censorship on OONI Explorer.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p><strong>2023-09-05</strong> <a href="https://github.com/laileb76/le0n/raw/main/_arti_windows_1-1-8_20230906_1630.rar" rel="noopener nofollow ugc">https://github.com/laileb76/le0n/raw/main/_arti_windows_1-1-8_20230906_1630.rar</a><br>
<a href="https://gitlab.torproject.org/tpo/core/arti/-/blob/main/CHANGELOG.md" class="inline-onebox" rel="noopener nofollow ugc">CHANGELOG.md · main · The Tor Project / Core / Arti · GitLab</a><br>
Arti 1.1.8 — 5 September 2023</p>
<p>стоял всю ночь. без бриджей. и вообще перестал работать <img src="https://ntc.party/images/emoji/twitter/wink.png?v=12" title=":wink:" class="emoji" alt=":wink:" loading="lazy" width="20" height="20"><br>
2023-09-08T08:21:24Z  WARN tor_circmgr::mgr: Request failed<br>
2023-09-08T08:21:24Z  WARN arti:<img src="https://ntc.party/images/emoji/twitter/socks.png?v=12" title=":socks:" class="emoji" alt=":socks:" loading="lazy" width="20" height="20"> connection exited with error: error: internal error (bug)<br>
2023-09-08T08:21:25Z  WARN tor_circmgr::mgr: Request failed<br>
2023-09-08T08:21:25Z  WARN arti:<img src="https://ntc.party/images/emoji/twitter/socks.png?v=12" title=":socks:" class="emoji" alt=":socks:" loading="lazy" width="20" height="20"> connection exited with error: error: internal error (bug)</p></td><td>2023-08-29T16:36:09.951Z</td></tr><tr><td>anon94384997</td><td><aside class="quote no-group" data-username="LeonMskRu" data-post="44" data-topic="4912">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/leonmskru/48/2810_2.png" class="avatar"> LeonMskRu:</div>
<blockquote>
<p>стоял всю ночь. без бриджей. и вообще перестал работать</p>
</blockquote>
</aside>
<p>У меня такое бывало. Помогал перезапуск с чисткой кэша. Там ведь рандом полный.</p></td><td>2023-09-08T09:50:58.760Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>да это уже понял. не понял к чему доделывать свистелки/перделки когда клиент неработоспособен<br>
то в логи срет (стоит INFO)</p>
<pre><code class="lang-auto">Internal error: internal error (bug) at C:\GitHub\arti\crates\tor-chanmgr\src\mgr.rs:229:54: channel build task disappeared
Captured(   0: backtrace::capture::Backtrace::new
   1: tor_error::internal::Bug::new_inner
   2: tor_chanmgr::mgr::AbstractChanMgr&lt;CF&gt;::get_or_launch::{{closure}}
   3: &lt;tor_proto::circuit::ClientCirc as tor_circmgr::build::Buildable&gt;::create::{{closure}}
   4: tor_circmgr::build::double_timeout::{{closure}}::{{closure}}
   5: tokio::runtime::task::raw::poll
   6: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
   7: tokio::runtime::task::raw::poll
   8: tokio::runtime::task::UnownedTask&lt;S&gt;::run
   9: std::sys_common::backtrace::__rust_begin_short_backtrace
  10: core::ops::function::FnOnce::call_once{{vtable.shim}}
  11: &lt;alloc::boxed::Box&lt;F,A&gt; as core::ops::function::FnOnce&lt;Args&gt;&gt;::call_once
             at /rustc/5680fa18feaa87f3ff04063800aec256c3d4b4be/library\alloc\src/boxed.rs:1993:9
      &lt;alloc::boxed::Box&lt;F,A&gt; as core::ops::function::FnOnce&lt;Args&gt;&gt;::call_once
             at /rustc/5680fa18feaa87f3ff04063800aec256c3d4b4be/library\alloc\src/boxed.rs:1993:9
      std::sys::windows::thread::Thread::new::thread_start
             at /rustc/5680fa18feaa87f3ff04063800aec256c3d4b4be/library\std\src\sys\windows/thread.rs:57:17
  12: &lt;unknown&gt;
  13: &lt;unknown&gt;
</code></pre></td><td>2023-09-08T09:59:43.879Z</td></tr><tr><td>anon94384997</td><td><p>Рано или поздно arti заменит сишный tor. Должны когда-нибудь доделать. А пока сишный tor работает стабильнее у меня.</p></td><td>2023-09-08T10:10:11.339Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>у меня tor.exe только через snowflake нормально работает (без постоянной замены мостов/релеев на рабочие)<br>
АРТИ же из коробки</p>
<pre><code class="lang-auto">C:\TOR\_arti\_target_release&gt;connection-checker.exe
Testing direct Tor connection...
Node: [[2001: ::1]:9002 ed25519:86Ib5laN12LyikEi/MpDvrQI95asZTkXAplfQVIGsVw $3fc010e43011e91d5121f3d749dc56f8ab03bb8b]
Node: [ .108:443 ed25519:Spcg4KfKfUW+70tLabSe8S0RmZgl9EzXtOHSHN80owE $24523e7b004983ec4ca5033ebc9b7293f12f237c]
Node: [ .66:9000+ ed25519:jbI2sCuxCqr8QWUJysqKyASUU10LSUN5Mz2woa+FXcc $917eb7726d07266717f83514f2c20e0385d9466d]
direct Tor connection successful!
</code></pre></td><td>2023-09-08T10:13:26.582Z</td></tr><tr><td>anon94384997</td><td><p>Я всегда использую vpn, так что мне не критично. Если додушат vpn и придется переходить на прокси решения вроде shadowsocks, а tor видимо напрямую (хотя, можно тоже через shadowsocks), то другое дело. Но у меня есть в запасе парочка редких, но живучих obfs мостов.</p></td><td>2023-09-08T11:35:45.900Z</td></tr><tr><td>welazsc</td><td><aside class="quote no-group" data-username="LeonMskRu" data-post="48" data-topic="4912">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/leonmskru/48/2810_2.png" class="avatar"> LeonMskRu:</div>
<blockquote>
<p>АРТИ же из коробки</p>
</blockquote>
</aside>
<p>Дело не в АРТИ, у вашего провайдера ТСПУ глючит. По вашим же данным OONI (а там нет АРТИ) периодически подключается к некоторым из предустановленных бриджей, которые были заблокированы еще в декабре 2021 и адреса с тех пор не менялись.</p>
<p>Можете дежурному РКН пожаловаться.</p></td><td>2023-09-08T13:46:26.895Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>дада. верю (нет)<br>
АРТИ же мгновенно коннектится. видимо разные списки. как выдрать список АРТИ для ТОР.ЕХЕ я так и не понял пока</p>
<pre><code class="lang-auto">Sep 08 19:06:52.000 [notice] Bootstrapped 0% (starting): Starting
Sep 08 19:06:55.000 [notice] Starting with guard context "default"
Sep 08 19:06:57.000 [notice] Bootstrapped 5% (conn): Connecting to a relay
Sep 08 19:08:18.000 [warn] Problem bootstrapping. Stuck at 5% (conn): Connecting to a relay. (Connection timed out [WSAETIMEDOUT ]; TIMEOUT; count 10; recommendation warn; host 0D6CD875B60B762F4F65F8685BD0E39F9886340F at 45.92.33.62:443)
Sep 08 19:08:18.000 [warn] 9 connections have failed:
Sep 08 19:08:18.000 [warn]  9 connections died in state connect()ing with SSL state (No SSL object)
Sep 08 19:08:18.000 [warn] Problem bootstrapping. Stuck at 5% (conn): Connecting to a relay. (Connection timed out [WSAETIMEDOUT ]; TIMEOUT; count 11; recommendation warn; host 6C50CF56DFCC9B636964FEB7EE3B5051746E3278 at 217.76.139.49:443)
Sep 08 19:08:18.000 [warn] 10 connections have failed:
Sep 08 19:08:18.000 [warn]  10 connections died in state connect()ing with SSL state (No SSL object)
Sep 08 19:08:22.000 [warn] Problem bootstrapping. Stuck at 5% (conn): Connecting to a relay. (Connection timed out [WSAETIMEDOUT ]; TIMEOUT; count 12; recommendation warn; host EE2A621042994B29452C12FF3B6F62D9E957758C at 145.239.41.102:9001)
Sep 08 19:08:22.000 [warn] 11 connections have failed:
Sep 08 19:08:22.000 [warn]  11 connections died in state connect()ing with SSL state (No SSL object)
</code></pre>
<pre><code class="lang-auto">C:\TOR\_arti\_target_release&gt;connection-checker.exe
Testing direct Tor connection...
Node: [ .9:443 ed25519:7uoE7wOGCho4Eg/J/Zu/ARkf4zIlX4YBGifLUO689lE $a58ba42a54f167a2352b9578f5b29131fc97b47a]
Node: [ .188:443+ ed25519:ykU5WV1Gah/5Rbn8cmx2HZ7y9FygMx9XyXjO6q6uf50 $a9bea2e0699d1f60521c8a1167340945a419d102]
Node: [ .4:443+ ed25519:Gb0eIM0O70lSlWnuMk+qH1sp4lXD10qTP9IQQw53m54 $1d3174338a1131a53e098443e76e1103cded00dc]
direct Tor connection successful!
</code></pre></td><td>2023-09-08T16:11:23.281Z</td></tr><tr><td>welazsc</td><td><blockquote>
<p>верю (нет)</p>
</blockquote>
<p>Меж тем люди на “ростелекомах” (там где никакой ТСПУ с бардаком не сладит) <a href="https://rutracker.org/forum/viewtopic.php?p=85116630#85116630" rel="noopener nofollow ugc">пользуются</a> глюками, без АРТИ.</p></td><td>2023-09-08T16:33:41.712Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>протон и прочии это отдельная тема. тем временем даже “рабочие” релаи вместо мостов так и не заработали “как в тор.ехе” (там они почти все коннектятся без проблем. хотя это и багофича.)</p>
<pre><code class="lang-auto">2023-09-08T16:50:40Z  WARN tor_circmgr: Problem launching a timeout testing circuit:
 error: Unable to select a guard relay: No usable guards.
 Rejected 10/22 as down, then 0/12 as pending, then 12/12 as unsuitable to purpose, then 0/0 with filter.
2023-09-08T16:50:46Z  INFO tor_guardmgr::guard: We have found that guard 
[ .116:443+ ed25519:GpcBvPY0+ERzQLWLLzDYVopou2u0oFbR96Hzfm5iSnw $f62df7675006359605f699e23d18e52747012f1d] is usable.
2023-09-08T16:51:32Z  WARN tor_circmgr::mgr: All circuit attempts failed due to timeout
2023-09-08T16:51:32Z  WARN tor_circmgr::mgr: Request failed
</code></pre>
<p>0/15 + 0/10 <a href="https://explorer.ooni.org/m/20230908170145.321763_RU_tor_a333f26b17089e7a" class="inline-onebox" rel="noopener nofollow ugc">Tor censorship test result in Russia</a></p></td><td>2023-09-08T16:58:30.460Z</td></tr><tr><td>welazsc</td><td><p>globalcheck проверки для адресов из сообщений <code>connection-checker</code> arti. Адреса для релеев известны.</p>
<p>Адрес заблокирован – «context deadline exceeded»<br>
Подключение успешное – «cannot validate certificate»</p>
<blockquote>
<p>Node: [ .108:443 ed25519:Spcg4KfKfUW+70tLabSe8S0RmZgl9EzXtOHSHN80owE $24523e7b004983ec4ca5033ebc9b7293f12f237c]</p>
</blockquote>
<blockquote>
<p>51.81.93.108:443</p>
</blockquote>
<pre><code class="lang-auto">Moscow:
T2 Mobile
«Get "https://51.81.93.108:443": context deadline exceeded»
Rostelecom
«Get "https://51.81.93.108:443": context deadline exceeded»
PJSC MegaFon
«Get "https://51.81.93.108:443": context deadline exceeded»
Beeline
«Get "https://51.81.93.108:443": context deadline exceeded»
MTS PJSC
«Get "https://51.81.93.108:443": context deadline exceeded» 
</code></pre>
<blockquote>
<p>Node: [ .66:9000+ ed25519:jbI2sCuxCqr8QWUJysqKyASUU10LSUN5Mz2woa+FXcc $917eb7726d07266717f83514f2c20e0385d9466d]</p>
</blockquote>
<blockquote>
<p>109.70.100.66:9000</p>
</blockquote>
<pre><code class="lang-auto">Moscow:
PJSC MegaFon
«Get "https://109.70.100.66:9000": context deadline exceeded»
Beeline
«Get "https://109.70.100.66:9000": context deadline exceeded»
T2 Mobile
«Get "https://109.70.100.66:9000": context deadline exceeded»
MTS PJSC
«Get "https://109.70.100.66:9000": context deadline exceeded»
Rostelecom
«Get "https://109.70.100.66:9000": context deadline exceeded» 
</code></pre>
<blockquote>
<p>Node: [ .9:443 ed25519:7uoE7wOGCho4Eg/J/Zu/ARkf4zIlX4YBGifLUO689lE $a58ba42a54f167a2352b9578f5b29131fc97b47a]</p>
</blockquote>
<blockquote>
<p>54.39.68.9:443</p>
</blockquote>
<pre><code class="lang-auto">Moscow:
T2 Mobile
«Get "https://54.39.68.9:443": x509: cannot validate certificate for 54.39.68.9 because it doesn't contain any IP SANs»
Rostelecom
«Get "https://54.39.68.9:443": x509: cannot validate certificate for 54.39.68.9 because it doesn't contain any IP SANs»
MTS PJSC
«Get "https://54.39.68.9:443": x509: cannot validate certificate for 54.39.68.9 because it doesn't contain any IP SANs»
Beeline
«Get "https://54.39.68.9:443": x509: cannot validate certificate for 54.39.68.9 because it doesn't contain any IP SANs»
PJSC MegaFon
«Get "https://54.39.68.9:443": x509: cannot validate certificate for 54.39.68.9 because it doesn't contain any IP SANs»
</code></pre>
<blockquote>
<p>Node: [ .188:443+ ed25519:ykU5WV1Gah/5Rbn8cmx2HZ7y9FygMx9XyXjO6q6uf50 $a9bea2e0699d1f60521c8a1167340945a419d102]</p>
</blockquote>
<blockquote>
<p>104.244.72.188:443</p>
</blockquote>
<pre><code class="lang-auto">Moscow:
Beeline
«Get "https://104.244.72.188:443": context deadline exceeded»
MTS PJSC
«Get "https://104.244.72.188:443": context deadline exceeded»
T2 Mobile
«Get "https://104.244.72.188:443": context deadline exceeded»
Rostelecom
«Get "https://104.244.72.188:443": context deadline exceeded»
PJSC MegaFon
«Get "https://104.244.72.188:443": context deadline exceeded» 
</code></pre>
<blockquote>
<p>Node: [ .4:443+ ed25519:Gb0eIM0O70lSlWnuMk+qH1sp4lXD10qTP9IQQw53m54 $1d3174338a1131a53e098443e76e1103cded00dc]</p>
</blockquote>
<blockquote>
<p>185.220.102.4:443</p>
</blockquote>
<pre><code class="lang-auto">Moscow:
Beeline
«Get "https://185.220.102.4:443": context deadline exceeded»
PJSC MegaFon
«Get "https://185.220.102.4:443": context deadline exceeded»
Rostelecom
«Get "https://185.220.102.4:443": context deadline exceeded»
MTS PJSC
«Get "https://185.220.102.4:443": context deadline exceeded»
T2 Mobile
«Get "https://185.220.102.4:443": context deadline exceeded» 
</code></pre></td><td>2023-09-08T17:35:57.454Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>сейчас вообще дичь творится. я иногда вообще не понимаю на кого грешить<br>
вон было время что тупили и арти и тор.ехе и даже псифон. но только при тестах через рутрекер/клоудфларе. потом все более менее нормально заработало<br>
<a href="https://rutracker.org/forum/viewtopic.php?p=85153345#85153345" class="onebox" target="_blank" rel="noopener nofollow ugc">https://rutracker.org/forum/viewtopic.php?p=85153345#85153345</a><br>
сейчас вот первый раз на РТ/Калуга вижу блок псифона. при этом у других оно и раньше не работало<br>
всё слищком сильно зависит И от местечковых провайдеров И от магистрали по пути к нужным ресурсам. и даже от банальных CDN и load balance в виде ДНСа многое при “тестах” разнится</p>
<p><strong>2023-09-11</strong> поломали snowflake походу. и АРТИ и ТОР матерятся<br>
<div class="lightbox-wrapper"><a class="lightbox" href="обсуждение-tor-arti-rust-версия/75399f215559ce26a795224a047ea6ccfac187ff.png" data-download-href="https://ntc.party/uploads/default/75399f215559ce26a795224a047ea6ccfac187ff" title="image"><img src="обсуждение-tor-arti-rust-версия/75399f215559ce26a795224a047ea6ccfac187ff.png" alt="image" data-base62-sha1="gJ1jHsdpJ57BDWZPq6LLH9TBucT" width="494" height="500" data-dominant-color="0E193C"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">999×1010 96.6 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div></p></td><td>2023-09-08T17:49:03.789Z</td></tr><tr><td>welazsc</td><td><p>В правилах ничего не менялось. Это ваш ТСПУ починили. Поздравляю.</p>
<p><s>Подольше подождите, браузерные прокси работают.</s> Или нет</p></td><td>2023-09-11T14:30:59.393Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><pre><code class="lang-auto">C:\TOR\_arti\_target_release&gt;connection-checker.exe
Testing direct Tor connection...
Node: [[2a10: ]:9001 ed25519:ZUP6urBHEA0yguo29iLgihUidxRM5iuCOG+UsMJ04IY $e0534118f9be1de69179ee8bab748b8a0a428892]
Node: [ .158:443 ed25519:Q3SuqEHmbmxsWPCy8ra8Ad7ObOGoB+PYWyB3XYLMlAg $d11a3c113bbd6cc7a89cc6ab6fd7783f7749cb65]
Node: [ .216:666+ ed25519:VGNrgpBpzYRpfCWLBFn1brOpHaEKFJV7C/44pmGLD34 $64dcd892c3f4d6a434a8c3188931917db8218796]
direct Tor connection successful!
</code></pre>
<p>так что врядли. причём и psiphon не работает до сих пор с нормальным конфигом (настройки от Туркменистана помогают). хотя OONI пишет что псифон якобы уже не блочат</p></td><td>2023-09-11T14:55:33.705Z</td></tr><tr><td>anon94384997</td><td><p>psiphon тоже есть <a href="https://github.com/artenax/psiphon" rel="noopener nofollow ugc">консольный</a>. Может быть он заработает.<br>
snowflake возможно блочат по отпечатку. Убедитесь, что он самой последней версии. Разработчики это исправляли.<br>
Может быть поможет дописать опцию <code>utls-imitate=hellorandomizedalpn</code> после stun серверов.<br>
Но вообще похоже на ужесточение.</p></td><td>2023-09-11T15:09:52.979Z</td></tr><tr><td>welazsc</td><td><p>Пользуйтесь arti, пока он делает у вас работу. Осталось недолго.</p>
<p>Система должна быть достаточно простой, чтобы ее можно было починить. Мост это хорошо, раздавать OOB еще лучше. Начинают прикручивать удобства в виде moat и появляются точки сбоя и утечки. Snowflake это сложная конструкция у которой множество уязвимых мест, зато он надежно приколочен к разработчикам, можно ходить пылинки сдувать. Psiphon и прочие – сплошное удовольствие для цензора. И главное обе стороны при деле. Одни запускают, другие ловят. Ну а съезд КПК и выборы на пеньках можно же переждать, книжки почитать. В следующем году в интернете посидите, но это не точно.</p></td><td>2023-09-11T16:20:46.401Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>псифон консольный. до выборов работал с нормальным конфигом + родным списком серверов. теперь работает только вариант для Туркменистана с этого форума<br>
сноуфлейк в соседней теме похоже рубанули у всех. причём один вариант иногда пробивается (не тот что указан в pluggable_transports конфиге</p><aside class="onebox allowlistedgeneric" data-onebox-src="https://explorer.ooni.org/chart/mat?probe_cc=RU&amp;probe_asn=AS12389&amp;since=2023-08-12&amp;until=2023-09-12&amp;time_grain=day&amp;axis_x=measurement_start_day&amp;test_name=torsf">
  <header class="source">
      <img src="обсуждение-tor-arti-rust-версия/b96a190fe58f890a537122f3b0cb9671ece93cb0.png" class="site-icon" data-dominant-color="000000" width="192" height="192">

      <a href="https://explorer.ooni.org/chart/mat?probe_cc=RU&amp;probe_asn=AS12389&amp;since=2023-08-12&amp;until=2023-09-12&amp;time_grain=day&amp;axis_x=measurement_start_day&amp;test_name=torsf" target="_blank" rel="noopener nofollow ugc">explorer.ooni.org</a>
  </header>

  <article class="onebox-body">
    

<h3><a href="https://explorer.ooni.org/chart/mat?probe_cc=RU&amp;probe_asn=AS12389&amp;since=2023-08-12&amp;until=2023-09-12&amp;time_grain=day&amp;axis_x=measurement_start_day&amp;test_name=torsf" target="_blank" rel="noopener nofollow ugc">OONI Explorer - Open Data on Internet Censorship Worldwide</a></h3>

  <p>OONI Explorer is an open data resource on Internet censorship around the world consisting of more than a billion measurements on network interference.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
<p>
пока еще работает webtunnel но несколько серверов что нашел… 1) только IPv6 вижу 2) в одной сети и забанить раз плюнуть</p>
<p>АРТИ пока слишком корявый ;<br>
часто ошибки соединения даже при curl+IPv4<br>
тест сайты IPv6 вообще полные логи “крашей/бэктрейсов”<br>
нет нормальной настройки выходных нод (или я не нашел.) хотя GeoIP в клиенте зачем то есть<br>
понятно что если других вариантов не будет… но пока работают например opera-proxy (сторонний клиент.) совсем без интернета надеюсь не останемся</p>
<p><strong>2023-09-12</strong> 2.6.1 snowflake+ARTI ok.ob. как и раньше</p>
<pre><code class="lang-auto">2023-09-12T17:58:16Z  INFO tor_guardmgr::guard: We have found that guard [192.0.2.4:443 via snowflake ed25519:tO9nYvNCAdAh9lPoEEv2pZ9BJq+YzmPAMY6pxoFrLuk $8838024498816a039fcbbab14e6f40a0843051fa] is usable.
2023-09-12T17:58:17Z  INFO tor_ptmgr::ipc::sealed: [pt snowflake-client-2.6.1] offer created
2023-09-12T17:58:18Z  INFO tor_ptmgr::ipc::sealed: [pt snowflake-client-2.6.1] trying a new proxy: timeout waiting for DataChannel.OnOpen
2023-09-12T17:58:18Z  INFO tor_ptmgr::ipc::sealed: [pt snowflake-client-2.6.1] broker rendezvous peer received
 2023-09-12T17:58:19Z  INFO tor_ptmgr::ipc::sealed: [pt snowflake-client-2.6.1] connected
2023-09-12T17:58:22Z  INFO tor_dirmgr: Marked consensus usable.
2023-09-12T17:58:22Z  INFO tor_dirmgr::bootstrap: 1: Downloading microdescriptors (we are missing 67). attempt=2
2023-09-12T17:58:24Z  INFO tor_dirmgr: Directory is complete. attempt=2
2023-09-12T17:58:54Z  INFO tor_guardmgr::guard: We have found that guard [192.0.2.3:443 via snowflake ed25519:1zOHpg+FxqQfi/6jDLtCpHHqBTH8gjYmCKXkus1D5Ko $2b280b23e1107bb62abfc40ddcc8824814f80a72] is usable.
</code></pre>
<p><span class="bbcode-b">2023-09-13</span><br>
<a href="https://github.com/laileb76/le0n/raw/main/_arti_1-1-8_windows_2-6-1-snowflake_20230913_1550.rar" class="onebox" target="_blank" rel="noopener nofollow ugc">https://github.com/laileb76/le0n/raw/main/_arti_1-1-8_windows_2-6-1-snowflake_20230913_1550.rar</a></p><aside class="onebox allowlistedgeneric" data-onebox-src="https://gitlab.torproject.org/tpo/anti-censorship/pluggable-transports/snowflake/-/blob/main/ChangeLog">
  <header class="source">
      <img src="обсуждение-tor-arti-rust-версия/6adfd5ac7045fbd4365abe17d811e712f2e49f93.png" class="site-icon" data-dominant-color="787472" width="32" height="32">

      <a href="https://gitlab.torproject.org/tpo/anti-censorship/pluggable-transports/snowflake/-/blob/main/ChangeLog" target="_blank" rel="noopener nofollow ugc">GitLab</a>
  </header>

  <article class="onebox-body">
    <img width="64" height="64" src="обсуждение-tor-arti-rust-версия/3197daf5565c6657f1af4758d2a9b3178181cfa5_2_64x64.jpeg" class="thumbnail onebox-avatar" data-dominant-color="F4C4BB">

<h3><a href="https://gitlab.torproject.org/tpo/anti-censorship/pluggable-transports/snowflake/-/blob/main/ChangeLog" target="_blank" rel="noopener nofollow ugc">ChangeLog · main · The Tor Project / Anti-censorship / Pluggable Transports /...</a></h3>

  <p>Pluggable Transport using WebRTC, inspired by Flashproxy.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p><strong>2023-09-14</strong></p>
<pre><code class="lang-auto"># arti-1.1.8-x86_64-msvc.exe --version                       
using runtime: Tokio[b]NativeTls[/b]Runtime { .. }        
# arti-1.1.8-i686-msvc.exe --version                                            
using runtime: Tokio[b]NativeTls[/b]Runtime { .. }        
# arti-1.1.8-x86_64-gnu.exe --version                                                       
using runtime: Tokio[b]Rustls[/b]Runtime { .. }                          
# arti-1.1.8-i686-gnu.exe --version                                                       
using runtime: Tokio[b]Rustls[/b]Runtime { .. }                             
# arti-1.1.8-release.exe --version                                                         
using runtime: Tokio[b]Rustls[/b]Runtime { .. }
</code></pre>
<p><a href="https://github.com/laileb76/le0n/raw/main/_arti_1-1-8_windows_2-6-1-snowflake_20230914_1725.rar" class="onebox" target="_blank" rel="noopener nofollow ugc">https://github.com/laileb76/le0n/raw/main/_arti_1-1-8_windows_2-6-1-snowflake_20230914_1725.rar</a></p></td><td>2023-09-11T16:56:41.971Z</td></tr><tr><td>welazsc</td><td><p>Извините, надоело</p></td><td>2023-09-18T18:55:17.645Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>ну сейчас АРТИ+rustls лучше чем native-tls (windows10) так что дело не только в ИП. видимо и сигнатуры проверяют<br>
причем уже писал после очистки кэша АРТИ работают даже релеи как мосты (torrelayscaner и сайт)<br>
к сожалению нашел багофичу АРТИ коннект-чекер использует кэш. так что его надо каждый раз удалять нафик перед КАЖДЫМ тестом</p>
<p>в последнем билде вроде включили GeoIP но я не понял как оно работает и работает ли вообще</p><aside class="onebox allowlistedgeneric" data-onebox-src="https://gitlab.torproject.org/tpo/core/arti/-/commit/cc7221df5a63ee46f69d21c7593465ab4252dc03">
  <header class="source">
      <img src="обсуждение-tor-arti-rust-версия/09da104deb110271dea0700c197a5f2f90e846c7.png" class="site-icon" data-dominant-color="787472" width="32" height="32">

      <a href="https://gitlab.torproject.org/tpo/core/arti/-/commit/cc7221df5a63ee46f69d21c7593465ab4252dc03" target="_blank" rel="noopener nofollow ugc">GitLab</a>
  </header>

  <article class="onebox-body">
    <img width="64" height="64" src="обсуждение-tor-arti-rust-версия/f037cc2d40857d9065458c0a9f6b0ae7bc208d48.png" class="thumbnail onebox-avatar" data-dominant-color="9C7C78">

<h3><a href="https://gitlab.torproject.org/tpo/core/arti/-/commit/cc7221df5a63ee46f69d21c7593465ab4252dc03" target="_blank" rel="noopener nofollow ugc">Merge branch 'exit-selection-mainlineable' into 'main' (cc7221df) · Commits ·...</a></h3>

  <p>arti-client: add exit selection with GeoIP country codes See merge request tpo/core/arti!1537</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://gitlab.torproject.org/tpo/core/arti/-/commit/a6fe895eb5c605e9c8de7ba871fc2114d65e098c">
  <header class="source">
      <img src="обсуждение-tor-arti-rust-версия/09da104deb110271dea0700c197a5f2f90e846c7.png" class="site-icon" data-dominant-color="787472" width="32" height="32">

      <a href="https://gitlab.torproject.org/tpo/core/arti/-/commit/a6fe895eb5c605e9c8de7ba871fc2114d65e098c" target="_blank" rel="noopener nofollow ugc">GitLab</a>
  </header>

  <article class="onebox-body">
    <img width="64" height="64" src="обсуждение-tor-arti-rust-версия/f037cc2d40857d9065458c0a9f6b0ae7bc208d48.png" class="thumbnail onebox-avatar" data-dominant-color="9C7C78">

<h3><a href="https://gitlab.torproject.org/tpo/core/arti/-/commit/a6fe895eb5c605e9c8de7ba871fc2114d65e098c" target="_blank" rel="noopener nofollow ugc">arti-client: add exit selection with GeoIP country codes (a6fe895e) · Commits...</a></h3>

  <p>This threads the country codes work through the rest of the codebase: - `tor-dirmgr` will now enable GeoIP with the embedded database when the `geoip` future is enabled - This...</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p><strong>2023-09-22</strong> ничего не понимаю</p>
<pre><code class="lang-auto">cargo build --release --jobs 1 --no-default-features^
 --features static-sqlite,tokio,rustls,dns-proxy,harden,compression,bridge-client,pt-client,onion-service-client
cargo build --jobs 1  --no-default-features^
 --features static-sqlite,tokio,rustls,dns-proxy,harden,compression,bridge-client,pt-client,onion-service-client
</code></pre>
<p>получаю оба arti.exe<br>
using runtime: Tokio <strong>NativeTls</strong> Runtime { … }<br>
optional features: static-sqlite</p>
<p>при этом<br>
cargo build -p arti --release --jobs 1  --no-default-features^<br>
–features static-sqlite,tokio,rustls,dns-proxy,harden,compression,bridge-client,pt-client,onion-service-client</p>
<p>using runtime: Tokio <strong>Rustls</strong> Runtime { … }<br>
optional features: static-sqlite</p></td><td>2023-09-19T09:13:03.286Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p><a href="https://github.com/laileb76/le0n/raw/main/_arti_1-1-11_windows_20231221_0912.rar" class="onebox" target="_blank" rel="noopener nofollow ugc">https://github.com/laileb76/le0n/raw/main/_arti_1-1-11_windows_20231221_0912.rar</a></p><aside class="onebox allowlistedgeneric" data-onebox-src="https://gitlab.torproject.org/tpo/core/arti/-/blob/main/CHANGELOG.md">
  <header class="source">
      <img src="обсуждение-tor-arti-rust-версия/d884eb79f8828b84b3ee4a6e655396a625164c0c.png" class="site-icon" data-dominant-color="787472" width="32" height="32">

      <a href="https://gitlab.torproject.org/tpo/core/arti/-/blob/main/CHANGELOG.md" target="_blank" rel="noopener nofollow ugc">GitLab</a>
  </header>

  <article class="onebox-body">
    <img width="64" height="64" src="обсуждение-tor-arti-rust-версия/f037cc2d40857d9065458c0a9f6b0ae7bc208d48.png" class="thumbnail onebox-avatar" data-dominant-color="9C7C78">

<h3><a href="https://gitlab.torproject.org/tpo/core/arti/-/blob/main/CHANGELOG.md" target="_blank" rel="noopener nofollow ugc">CHANGELOG.md · main · The Tor Project / Core / Arti · GitLab</a></h3>

  <p>An implementation of Tor, in Rust. (So far, it's a not-very-complete client. But watch this space!)</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
<p>
Arti 1.1.11</p></td><td>2023-10-03T08:24:53.438Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p><a href="https://github.com/laileb76/le0n/raw/main/_arti_1-2-1_windows_20240427_1804.rar" class="onebox" target="_blank" rel="noopener">https://github.com/laileb76/le0n/raw/main/_arti_1-2-1_windows_20240427_1804.rar</a></p></td><td>2024-04-27T15:09:08.913Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>для рабочих мостов есть <a href="https://github.com/ValdikSS/tor-relay-scanner" class="inline-onebox">GitHub - ValdikSS/tor-relay-scanner: Tor Relay availability checker, for using it as a bridge in countries with censorship</a><br>
если есть IPv6 имейте ввиду <a href="https://github.com/ValdikSS/tor-relay-scanner/issues/13" class="inline-onebox">IPv6 vs IPv4 · Issue #13 · ValdikSS/tor-relay-scanner · GitHub</a><br>
хотя АРТИ вообще странно с мостами работает.<br>
лучше экспортировать из Tor Control Panel “relays - guard” <a href="https://i.imgur.com/M7sNVjB.gif" class="inline-onebox">Imgur: The magic of the Internet</a></p>
<p>snowflake конфиг править под себя<br>
это разные “сервера”. могут и все 4е не работать на части провайдеров.<br>
Azure, CDN77, AMP cache, fastly sstatic</p>
<p>!!! ОБЯЗАТЕЛЬНО УДАЛЯТЬ %USERPROFILE%\AppData\Local\torproject\Arti\data\state*.json !!!</p>
<p>arti-1.2.3-x86_64-gnu.exe using runtime: Rustls<br>
arti-1.2.3-i686-gnu.exe using runtime: Rustls<br>
arti-1.2.3-release.exe using runtime: Rustls<br>
arti-1.2.3-x86_64-msvc.exe using runtime: NativeTls<br>
arti-1.2.3-i686-msvc.exe using runtime: NativeTls</p>
<p><a href="https://github.com/laileb76/le0n/raw/main/_arti_1-2-3_windows_20240517_1050.rar" class="onebox" target="_blank" rel="noopener">https://github.com/laileb76/le0n/raw/main/_arti_1-2-3_windows_20240517_1050.rar</a></p>
<p>собрано на windows10 64bit<br>
работа на 32 и win7 не проверялась<br>
<a href="https://github.com/laileb76/le0n/raw/main/arti_1-2-3_windows_ALL/i686-gnu_20240523_1930.rar" class="onebox" target="_blank" rel="noopener">https://github.com/laileb76/le0n/raw/main/arti_1-2-3_windows_ALL/i686-gnu_20240523_1930.rar</a><br>
<a href="https://github.com/laileb76/le0n/raw/main/arti_1-2-3_windows_ALL/i686-msvc_20240523_1930.rar" target="_blank" rel="noopener">https://github.com/laileb76/le0n/raw/main/arti_1-2-3_windows_ALL/i686-msvc_20240523_1930.rar</a><br>
<a href="https://github.com/laileb76/le0n/raw/main/arti_1-2-3_windows_ALL/x86_64-gnu_20240523_1930.rar" target="_blank" rel="noopener">https://github.com/laileb76/le0n/raw/main/arti_1-2-3_windows_ALL/x86_64-gnu_20240523_1930.rar</a><br>
<a href="https://github.com/laileb76/le0n/raw/main/arti_1-2-3_windows_ALL/x86_64-msvc_20240523_1931.rar" target="_blank" rel="noopener">https://github.com/laileb76/le0n/raw/main/arti_1-2-3_windows_ALL/x86_64-msvc_20240523_1931.rar</a><br>
arti-bench.exe<br>
arti-testing.exe<br>
arti.exe<br>
connection-checker.exe<br>
dns-resolver.exe<br>
download-manager.exe<br>
fixup-features.exe<br>
hyper-http-client-example.exe<br>
hyper-http-hs-example.exe<br>
obfs4-checker.exe<br>
pt-proxy.exe</p></td><td>2024-05-17T07:56:10.420Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p><a href="https://github.com/LeonMskRu/arti_windows/releases/tag/1.2.4" class="onebox" target="_blank" rel="noopener nofollow ugc">https://github.com/LeonMskRu/arti_windows/releases/tag/1.2.4</a><br>
в основном фиксят .onion и прочее с ними связаное</p></td><td>2024-06-05T04:27:23.098Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>мде. до рабочего GeoIP как говорится использовать на свой страх.</p>
<p>curl.exe -x socks5://127.0.0.1:9150 --connect-timeout 15 <a href="https://rutracker.org/myip">https://rutracker.org/myip</a><br>
ip: 2001:67c:289c:2::234  UA</p>
<p>причем оно еще и умудряется соединится с нодами в UA при том что якобы все в РФ забанено по IPv4</p>
<p>Node: [91.203.144.194:443 ed25519:ZUHh5/qgAjTVCmJne1dncf9lC9XKxEyaF5gYOx8DMe8 $b1b687c3c4ef46249d638dce77ddc7aaa39f2996]<br>
<a href="https://metrics.torproject.org/rs.html#details/B1B687C3C4EF46249D638DCE77DDC7AAA39F2996" class="onebox" target="_blank" rel="noopener">https://metrics.torproject.org/rs.html#details/B1B687C3C4EF46249D638DCE77DDC7AAA39F2996</a></p></td><td>2024-06-16T08:00:05.944Z</td></tr><tr><td>0ka(0ka)</td><td><aside class="quote no-group" data-username="LeonMskRu" data-post="67" data-topic="4912">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/leonmskru/48/2810_2.png" class="avatar"> LeonMskRu:</div>
<blockquote>
<p><a href="https://rutracker.org/myip">https://rutracker.org/myip</a></p>
</blockquote>
</aside>
<p>неверно определяет мой vps, смотри лучше тут <a href="https://1.1.1.2/cdn-cgi/trace">https://1.1.1.2/cdn-cgi/trace</a> LOC=xxx</p>
<aside class="quote no-group" data-username="LeonMskRu" data-post="67" data-topic="4912">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/leonmskru/48/2810_2.png" class="avatar"> LeonMskRu:</div>
<blockquote>
<p>умудряется соединится с нодами в UA при том что якобы все в РФ забанено по IPv4</p>
</blockquote>
</aside>
<p>не всё забанено с обеих сторон, иногда бывает трафик проходит</p>
<aside class="quote no-group" data-username="LeonMskRu" data-post="67" data-topic="4912">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/leonmskru/48/2810_2.png" class="avatar"> LeonMskRu:</div>
<blockquote>
<p>91.203.144.194</p>
</blockquote>
</aside>
<p>в рф забанен</p></td><td>2024-06-17T11:21:46.831Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>ну IPv6 под вопросом часто<br>
там с теми же нодами. IPv4 пишет в одной стране. IPv6 в другой</p>
<p>сейчас этот ИП и у меня недостуно. лог АРТИ уже потер за тот день</p>
<p>чтото проверялка совсем мух не ловит ;(</p>
<p>C:\ProgramData\chocolatey\bin\curl.exe -4 -x socks5://127.0.0.1:9150 --connect-timeout 15 <a href="https://rutracker.org/myip">https://rutracker.org/myip</a><br>
ip: <big><b>194.26.196.71</b> CZ</big><br><br>
ssl: TLSv1.2 ECDHE-RSA-AES128-GCM-SHA256<br><br></p>
<p>C:\ProgramData\chocolatey\bin\curl.exe -4 -x socks5://127.0.0.1:9150 --connect-timeout 15 <a href="https://1.1.1.2/cdn-cgi/trace">https://1.1.1.2/cdn-cgi/trace</a><br>
ip=194.26.196.71<br>
loc=T1<br>
tls=TLSv1.3<br>
sni=off<br>
warp=off<br>
gateway=off                                                                                                                              15:37rbi=off<br>
kex=X25519</p>
<p>C:\ProgramData\chocolatey\bin\curl.exe -x socks5://127.0.0.1:9150 --connect-timeout 15 <a href="https://rutracker.org/myip">https://rutracker.org/myip</a><br>
ip: <big><b>2a0b:f4c0:16c:10::1</b> DE</big><br><br>
ssl: TLSv1.2 ECDHE-RSA-AES128-GCM-SHA256<br><br></p>
<p>C:\ProgramData\chocolatey\bin\curl.exe -x socks5://127.0.0.1:9150 --connect-timeout 15 <a href="https://1.1.1.2/cdn-cgi/trace">https://1.1.1.2/cdn-cgi/trace</a><br>
ip=194.26.196.71<br>
loc=T1<br>
tls=TLSv1.3<br>
sni=off<br>
warp=off<br>
gateway=off<br>
rbi=off<br>
kex=X25519</p>
<hr>
<p>C:\ProgramData\chocolatey\bin\curl.exe -x socks5://127.0.0.1:9595 --connect-timeout 15 <a href="https://1.1.1.2/cdn-cgi/trace">https://1.1.1.2/cdn-cgi/trace</a><br>
ip=185.243.218.204<br>
colo=OSL<br>
loc=T1</p>
<p>C:\ProgramData\chocolatey\bin\curl.exe -x socks5://127.0.0.1:9050 --connect-timeout 15 <a href="https://1.1.1.2/cdn-cgi/trace">https://1.1.1.2/cdn-cgi/trace</a><br>
ip=104.244.79.50<br>
colo=FRA<br>
loc=T1</p></td><td>2024-06-17T12:39:58.426Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p><a href="https://github.com/LeonMskRu/arti_windows/releases/tag/1.2.4" class="onebox" target="_blank" rel="noopener nofollow ugc">https://github.com/LeonMskRu/arti_windows/releases/tag/1.2.4</a></p>
<p>есть кто то хорошо разбирающийся в Rust ?!</p>
<ol>
<li>какого фига оно каждый раз даже с установленным sccache перекомпилирует ВЕСЬ проект ?<br>
у меня /target ± 1ГБ для каждого варианта сборки (это помимо общего)</li>
</ol>
<p>огромный список просто нижние строчки<br>
61M ./i686-pc-windows-gnu/release/incremental/arti-3gpeybwopn9nb/s-gxbdd927dc-j0fwys-7g4e9zavzcynktoc6ryshntmr<br>
61M ./i686-pc-windows-msvc/release/incremental/arti-x8uzb37lgp4w/s-gxbdxslke7-1x086o9-47gvw8p4p8c91d04ww8ox5zb5<br>
61M ./x86_64-pc-windows-gnu/release/incremental/arti-1vxotnlhm46c8/s-gxbdnge1en-z2xa0g-8i51p1jim6g3oxpjxtbkw3q1d<br>
63M ./x86_64-pc-windows-msvc/release/incremental/arti-6gzu4j0zca7m/s-gxbe601lpl-1jldemh-i9rvfne83p3u24rsdtiomy8p</p>
<p>401M ./i686-pc-windows-msvc/release/deps<br>
413M ./x86_64-pc-windows-msvc/release/deps<br>
414M ./i686-pc-windows-gnu/release/deps<br>
419M ./x86_64-pc-windows-gnu/release/deps<br>
467M ./release/deps</p>
<p>C:\GitHub\arti\target&gt;du -sh<br>
3.9G .</p>
<p>env RUSTFLAGS=-Awarnings C:\Users\le0n.cargo\bin\cargo.exe build^<br>
–target i686-pc-windows-gnu^<br>
–release^ -p arti^ --no-default-features^ --features static-sqlite,rustls,bridge-client,compression,dns-proxy,harden,onion-service-client,pt-client,tokio,vanguards</p>
<p>env RUSTFLAGS=-Awarnings C:\Users\le0n.cargo\bin\cargo.exe build^<br>
–target x86_64-pc-windows-gnu^<br>
–release^ -p arti^ --no-default-features^ --features static-sqlite,rustls,bridge-client,compression,dns-proxy,harden,onion-service-client,pt-client,tokio,vanguards</p>
<p>env RUSTFLAGS=-Awarnings C:\Users\le0n.cargo\bin\cargo.exe build^<br>
–target i686-pc-windows-msvc^<br>
–release^ -p arti^ --features static</p>
<p>env RUSTFLAGS=-Awarnings C:\Users\le0n.cargo\bin\cargo.exe build^<br>
–target x86_64-pc-windows-msvc^<br>
–release^ -p arti^ --features static</p>
<ol start="2">
<li>у меня древние ПК и нотебук<br>
Intel Core i5 3550 @ 3.30GHz + MSI Z77MA-G45 (MS-7759)<br>
Intel® Core™ i7-2630QM (6M Cache, 2.00 GHz) + Intel HM67<br>
будет ли толк (нашел на разных сайтах) чтобы cargo build не ждать по 20+ минут при сборке всех .exe (examples) ?</li>
</ol>
<p>[profile.release]<br>
codegen-units = 1<br>
lto = false<br>
opt-level = “z”<br>
panic = “abort”<br>
strip = “debuginfo”<br>
debug = 0<br>
incremental = true</p>
<ol start="3">
<li>с какого то момента стало требовать liblzma-5.dll для части таргетов<br>
причем там ДВА варианта “клиентов” (только арти для 4х таргетов. и 4е таргета с “примерами”)</li>
</ol>
<p>–no-default-features^ --features static-sqlite,rustls,bridge-client,compression,dns-proxy,harden,onion-service-client,pt-client,tokio,vanguards</p>
<p>-p arti -p connection-checker -p obfs4-checker -p arti-testing^<br>
–features static</p>
<p>пытался добавить в общий cargo/config.toml<br>
не помогло</p>
<p>[dependencies]<br>
liblzma-sys = “0.3.4”</p>
<p>c:\cygwin\bin\ldd.exe x86_64-gnu\arti.exe | grep lzma<br>
liblzma-5.dll =&gt; /cygdrive/c/TOR/_arti/x86_64-gnu/liblzma-5.dll (0x7ff8dfa60000</p>
<p>c:\cygwin\bin\ldd.exe arti-1.2.4-x86_64-gnu.exe | grep lzma<br>
liblzma-5.dll =&gt; /cygdrive/c/TOR/_arti/liblzma-5.dll (0x7ff8dfa60000)</p>
<p>и если уж не убрать зависимость какую DLL брать для большей совместимости для чужих windows ?</p>
<p>M:_Microsoft_MSYS2\mingw64\bin\liblzma-5.dll<br>
M:_Microsoft_MSYS2\ucrt64\bin\liblzma-5.dll</p></td><td>2024-06-19T07:44:38.332Z</td></tr><tr><td>Xunlei</td><td><ol>
<li>Возможно по причине обновления зависимостей или крейтов? Второй запуск билда у меня сразу завершается. Минимальное перестроение с LTO превосходно работает в MSVC, в остальных компиляторах приходится перестраивать.</li>
<li>Пробуйте. У меня в релизе с чистым target 2 мин 30 сек собирается проект (1.65 ГиБ выхода), в дебаге 2 мин 43 сек (12 ГиБ выхода). Но бинарники для публикации разумеется лучше оптимизировать.</li>
<li>У меня только от sqlite3.dll зависит, но собираю msvc toolchain. Universal CRT работает с Windows 10, можете сравнить зависимости этих библиотек.</li>
</ol></td><td>2024-06-21T13:25:50.040Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><ol>
<li>ну там коряво может по мнению “программистов”<br>
у меня<br>
arti1 (cargo update -p arti) собирается только -p arti<br>
arti2 (cargo update) собираются arti-testing / connection-checker / obfs4-checker / arti<br>
и по очереди собирают и там и там 4е таргета<br>
(ибо пока никто не делится windows сборками АРТИ регулярно даже через -gnu/mingw (хотя бы через cross/etc) и тем более мало кто будет заморачиваться с MSVC)<br>
и не знаю почему даже если не делать cargo clean повторные cargo build засирают еще больше и заново вижу делается Compiling почти всего ДЛЯ КАЖДОГО таргета</li>
</ol>
<p>Removing C:\GitHub\arti-onion\target<br>
Removed 14117 files, 6.0GiB total<br>
Removing C:\GitHub\arti\target<br>
Removed 12201 files, 4.1GiB total</p>
<pre><code class="lang-auto">sccache --show-adv-stats
Cache hits (c [gcc]) 123
Cache hits (rust) 559
Cache misses (c [gcc]) 183
Cache misses (rust) 1873
Non-cacheable reasons:
crate-type 328
incremental 304
- 88
missing input 18
Cache size 1002 MiB
</code></pre>
<ol start="2">
<li>
<p>ПК старый. да и стоят --jobs 1/2 чтобы совсем система не тормозила ибо рабочий комп<br>
это одновременно собиралось<br>
только арти Finished <code>release</code> profile [optimized] target(s) in 8m 06s<br>
арти+етк Finished <code>release</code> profile [optimized] target(s) in 14m 30s</p>
</li>
<li>
<p>у меня собираются x86_64-gnu / x86_64-msvc / i686-gnu / i686-msvc<br>
причем как писал часть с --features static<br>
а часть с --no-default-features^ --features static-sqlite,rustls,</p>
</li>
</ol></td><td>2024-06-21T15:36:56.344Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>все еще пытаюсь найти компромис размер-vs-времясборки</p>
<p>только arti.exe Finished profile [optimized] target(s) in 9m 11s<br>
Building [==&gt; ] 90/448</p>
<p>несколько (4е) .exe Finished profile [optimized] target(s) in 20m 37s<br>
Building [==&gt; ] 455/531</p>
<p>[profile.release]<br>
strip = true<br>
codegen-units = 1<br>
lto = true<br>
opt-level = “z”<br>
panic = “abort”<br>
debug = false<br>
incremental = true</p>
<p>2024-06-24 кто пользуется snowflake 4e набора “серверов” (реально работают вроде только 3и. fastfly у меня ругается на SSL/https сертификат.)</p>
<aside class="onebox discoursetopic" data-onebox-src="https://forum.torproject.org/t/fix-problems-with-snowflake-since-2024-03-01-broker-failure-unexpected-error-no-answer/11755">
  <header class="source">
      <img src="обсуждение-tor-arti-rust-версия/b4f90b2fbd45f2f2916d4962cb2edc51074e0b35.png" class="site-icon" data-dominant-color="948D8F" width="32" height="32">

      <a href="https://forum.torproject.org/t/fix-problems-with-snowflake-since-2024-03-01-broker-failure-unexpected-error-no-answer/11755" target="_blank" rel="noopener nofollow ugc" title="08:19PM - 01 March 2024">Tor Project Forum – 1 Mar 24</a>
  </header>

  <article class="onebox-body">
    <img src="обсуждение-tor-arti-rust-версия/ba042da6abfd2e188336ccce88244624d850757a.png" class="thumbnail onebox-avatar" data-dominant-color="97908F" width="120" height="120">

<div class="title-wrapper">
  <h3><a href="https://forum.torproject.org/t/fix-problems-with-snowflake-since-2024-03-01-broker-failure-unexpected-error-no-answer/11755" target="_blank" rel="noopener nofollow ugc">(Fix) Problems with Snowflake since 2024-03-01:"broker failure Unexpected...</a></h3>
  <div class="topic-category">
      <span class="badge-wrapper bullet">
        <span class="badge-category-bg" style="background-color: #9EB83B;"></span>
        <span class="badge-category clear-badge">
          <span class="category-name">Support</span>
        </span>
      </span>
      <span class="badge-wrapper bullet">
        <span class="badge-category-bg" style="background-color: #ED207B;"></span>
        <span class="badge-category clear-badge">
          <span class="category-name">Censorship Circumvention</span>
        </span>
      </span>
    <div class="topic-header-extra">
      <div class="list-tags">
        <div class="discourse-tags">
          <svg class="fa d-icon d-icon-tag svg-icon svg-string"><use href="#tag"></use></svg>
            <span class="discourse-tag simple">tor-browser</span>
            <span class="discourse-tag simple">snowflake</span>
        </div>
      </div>
    </div>
  </div>
</div>

  <p>Some users reported having issues with Snowflake since today, 2024-03-01. This seems to be a similar issue to the one that happened last year.  The symptom of the problem is that Tor doesn’t make progress in bootstrapping. If you look at the Tor...</p>

  <p>
    <span class="label1">Reading time: 3 mins 🕑</span>
      <span class="label2">Likes: 15 ❤</span>
  </p>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
</td><td>2024-06-23T13:40:15.536Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p><a href="https://github.com/LeonMskRu/arti_windows/releases/tag/1.2.5" class="onebox" target="_blank" rel="noopener nofollow ugc">https://github.com/LeonMskRu/arti_windows/releases/tag/1.2.5</a></p></td><td>2024-06-28T16:44:58.736Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>попытался собрать 1.2.6<br>
независимо от конфига (без мостов, мосты, мосты+транспорты)<br>
как и от флагов при сборке<br>
крашится как arti.exe так и connection-checker/arti-testing</p>
<p>thread ‘tokio-runtime-worker’ panicked at C:\GitHub\arti\crates\tor-proto\src\circuit\streammap.rs:379:17: Missing open stream<br>
2024-08-02T20:24:11Z ERROR arti::logging: Panic at C:\GitHub\arti\crates\tor-proto\src\circuit\streammap.rs:379:17: Missing open stream</p>
<p>даже просто<br>
env RUSTFLAGS=-Awarnings cargo build --jobs 1 --features full,static --release<br>
не компилится</p>
<p>error[E0433]: failed to resolve: could not find <code>iterator</code> in <code>signal_hook</code><br>
 → C:\Users\le0n.cargo\registry\src\index.crates.io-6f17d22bba15001f\signal-hook-async-std-0.2.2\src\lib.rs:62:18<br>
error: could not compile <code>signal-hook-async-std</code> (lib) due to 4 previous errors</p>
<p><a href="https://rutracker.org/forum/viewtopic.php?p=86545994#86545994" class="onebox" target="_blank" rel="noopener">https://rutracker.org/forum/viewtopic.php?p=86545994#86545994</a></p></td><td>2024-08-04T11:33:19.549Z</td></tr><tr><td>Xunlei</td><td><p>У меня тоже паника.</p></td><td>2024-08-04T12:02:04.386Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>будем надеятся что всё пофиксили.</p><aside class="onebox allowlistedgeneric" data-onebox-src="https://github.com/LeonMskRu/arti_windows/releases/tag/1.2.6">
  <header class="source">
      <img src="https://ntc.party/uploads/default/original/2X/b/bad3e5f9ad67c1ddf145107ce7032ac1d7b22563.svg" class="site-icon" data-dominant-color="" width="32" height="32">

      <a href="https://github.com/LeonMskRu/arti_windows/releases/tag/1.2.6" target="_blank" rel="noopener nofollow ugc">GitHub</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/344;"><img src="обсуждение-tor-arti-rust-версия/888c9a0bdf73c7d7584400ca012c4ebffe4bc23d_2_690x345.png" class="thumbnail" data-dominant-color="F3F2E9" width="690" height="345"></div>

<h3><a href="https://github.com/LeonMskRu/arti_windows/releases/tag/1.2.6" target="_blank" rel="noopener nofollow ugc">Release 1.2.6 2024-08-07 · LeonMskRu/arti_windows</a></h3>

  <p>ARTI ChangeLog commits
SnowFlake ChangeLog commits
LyreBird obfs4+webtunnel ChangeLog commits
obfs4proxy ChangeLog commits
WebTunnel commits

последние версии сборок также можно найти в Bitbucket a...</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
</td><td>2024-08-05T12:52:13.672Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>Сообщение не может быть пустым</p></td><td>2024-08-14T19:51:08.057Z</td></tr><tr><td>Xunlei</td><td><p>Это не проблема Go 1.23, это проблема рассинхрона dependency hell. Себе snowflake пофиксил (тор через него работает), осталось клиент conjure, потом выложу workspace, если доделаю (надо ещё с Go 1.22.6 обновиться и подружить с псифоном и другими утилитками).</p></td><td>2024-08-15T00:22:14.287Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>Сообщение не может быть пустым</p></td><td>2024-08-15T00:25:49.656Z</td></tr><tr><td>Xunlei</td><td><p><a class="mention" href="/u/leonmskru">@LeonMskRu</a><br>
Кусок воркспейса для сборки транспортов <a class="attachment" href="обсуждение-tor-arti-rust-версия/rSV0IHuStOCAaIjseR2XpKHyEQF.7z">go-workspace.7z</a> (793.8 KB)</p></td><td>2024-08-15T17:56:33.484Z</td></tr>
    </table>
      </body>
    </html>