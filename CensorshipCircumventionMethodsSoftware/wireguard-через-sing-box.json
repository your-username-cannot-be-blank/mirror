[
    {
        "id": 36684,
        "name": "",
        "username": "boris1",
        "avatar_template": "/letter_avatar_proxy/v4/letter/b/e9a140/{size}.png",
        "created_at": "2024-09-08T10:48:57.839Z",
        "cooked": "<p>Привет. Уже несколько недель пытаюсь настроить wireguard для роутера, чтобы он шел через trojan или что-то подобное.<br>\nДано, есть два роутера, один из которых имеет интернет, другой берет интернет от первого и используется как роутер с впн. Раньше он подключался по wireguard напрямую к удаленному серверу, сейчас протокол неработает.</p>\n<p>Поэтому идея была подключать raspberrypi4, чтобы она раздавала wireguard( для второго роутера) и проксировала трафик наружу каким-то незаблокированным протоколом. Для этих целей купил trojan/vless проксю и пытаюсь ее настроить таким образом.</p>\n<p>Сразу оговорюсь, что я хоть и из айти, но никогда не работал с iptables, роутингами и прочим, поэтому все делается без понимания, но очень хотелось бы понять, как это должно работать.</p>\n<p>Идея была такая, чтобы поднять в sing-box интерфейс и заставить через него работать wg, но ничего не получилось.<br>\nУдалось подключиться с помощью sing-box и настроить интерфейс:</p>\n<pre data-code-wrap=\"json\"><code class=\"lang-json\">{\n  \"inbounds\": [\n    {\n      \"type\": \"tun\",\n      \"tag\": \"tun-inbound\",\n      \"interface_name\": \"tun0\",\n      \"inet4_address\": [\n        \"10.0.0.2/24\"\n      ],\n      \"mtu\": 1500\n    },\n    {\n      \"type\": \"socks\",\n      \"tag\": \"socks-inbound\",\n      \"listen\": \"127.0.0.1\",\n      \"listen_port\": 1080\n    }\n  ],\n  \"outbounds\": [\n    {\n      \"type\": \"trojan\",\n      \"tag\": \"trojan-outbound\",\n      \"server\": \"domain\",\n      \"server_port\": 443,\n      \"password\": \"password\",\n      \"tls\": {\n        \"enabled\": true,\n        \"server_name\": \"domain\",\n        \"insecure\": false\n      },\n      \"transport\": {\n        \"type\": \"ws\",\n        \"path\": \"/tw\",\n        \"headers\": {\n          \"Host\": \"host\"\n        }\n      }\n    }\n  ],\n  \"route\": {\n    \"rules\": [\n      {\n        \"inbound\": [\n          \"tun-inbound\",\n          \"socks-inbound\"\n        ],\n        \"outbound\": \"trojan-outbound\"\n      }\n    ]\n  }\n}\n</code></pre>\n<p>Через него даже заработал курл:<br>\ncurl --interface tun0 <a href=\"http://ipinfo.io/ip\" rel=\"noopener nofollow ugc\">ipinfo.io/ip</a><br>\nДалее установил wg через скрипт быстрой установки <a href=\"https://github.com/angristan/wireguard-install\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">GitHub - angristan/wireguard-install: WireGuard VPN installer for Linux servers</a><br>\nВо время установки он спросил про интерфейс, я там напечатал tun0 и он настроил такой конфиг:</p>\n<pre><code class=\"lang-auto\">[Interface]\nAddress = 10.66.66.1/24,fd42:42:42::1/64\nListenPort = 52590\nPrivateKey = private_key\nPostUp = iptables -I INPUT -p udp --dport 52590 -j ACCEPT\nPostUp = iptables -I FORWARD -i tun0 -o wg0 -j ACCEPT\nPostUp = iptables -I FORWARD -i wg0 -o tun0 -j ACCEPT\nPostUp = iptables -t nat -A POSTROUTING -o tun0 -j MASQUERADE\nPostUp = ip6tables -I FORWARD -i wg0 -j ACCEPT\nPostUp = ip6tables -t nat -A POSTROUTING -o tun0 -j MASQUERADE\nPostDown = iptables -D INPUT -p udp --dport 52590 -j ACCEPT\nPostDown = iptables -D FORWARD -i tun0 -o wg0 -j ACCEPT\nPostDown = iptables -D FORWARD -i wg0 -j ACCEPT\nPostDown = iptables -t nat -D POSTROUTING -o tun0 -j MASQUERADE\nPostDown = ip6tables -D FORWARD -i wg0 -o tun0 -j ACCEPT\nPostDown = ip6tables -t nat -D POSTROUTING -o tun0 -j MASQUERADE\n\n### Client router\n[Peer]\nPublicKey = public_key\nPresharedKey = p9zs0WAMxRLPwhOUAAVv9mn2vJGKVexw7VI7dfi+nfU=\nAllowedIPs = 10.66.66.2/32,fd42:42:42::2/128\n</code></pre>\n<p>Но с таким конфигом трафик на клиенте не работает. Если поменять tun0 везде на eth0 в этом конфиге, то интернет появляется.</p>\n<p>Возможна ли вообще такая схема и если да, то что надо сделать чтобы заработало?</p>\n<p>На самом деле даже не понимаю зачем wireguard свой интерфейс и как правильно должен идти трафик.</p>\n<p>ВПН на роутере нужен для работы, так как на работе используется проприетарный palo alto, который нужно запускать поверх зарубежного. Возможно тут еще какие-то ограничения всплывут.</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-09-17T11:58:29.994Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1438,
        "reads": 117,
        "readers_count": 116,
        "score": 7208.4,
        "yours": false,
        "topic_id": 9882,
        "topic_slug": "wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 3,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
            {
                "url": "https://github.com/angristan/wireguard-install",
                "internal": false,
                "reflection": false,
                "title": "GitHub - angristan/wireguard-install: WireGuard VPN installer for Linux servers",
                "clicks": 2
            },
            {
                "url": "http://ipinfo.io/ip",
                "internal": false,
                "reflection": false,
                "clicks": 0
            },
            {
                "url": "https://ntc.party/t/%D0%BE%D0%B1%D1%81%D1%83%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B1%D0%BB%D0%BE%D0%BA%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B0-vpn-%D0%BF%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D0%BE%D0%B2-%D0%BD%D0%B0-%D1%82%D1%81%D0%BF%D1%83-05082023-xxxx2024/5239/293",
                "internal": true,
                "reflection": true,
                "title": "Обсуждение: Блокировка VPN-протоколов на ТСПУ (05.08.2023 - xx.xx.2024)",
                "clicks": 2
            }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 5155,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box/9882/1",
        "can_translate": false
    },
    {
        "id": 36708,
        "name": "",
        "username": "sakontwist",
        "avatar_template": "/letter_avatar_proxy/v4/letter/s/c77e96/{size}.png",
        "created_at": "2024-09-08T13:05:24.628Z",
        "cooked": "<p>Я успешно подключал WG поверх vless, для этого делал на своей стороне порт dokodemo, который прокидывается поверх vless на удаленный сервер, где для приема на lo добавлен vip-адрес. На этом випе слушает WG. Только надо учитывать, что в такой схеме трафик на вип при выходе из vless приходит с этого же випа. Это надо учитывать в allowed. И нужно включить в WG на своей стороне keepalive, чтобы туннель не отключался.</p>\n<p>Свой интерфейс нужен WG во-первых для route-based инкапсуляции, во-вторых - как защита от утечки трафика мимо (если правильно настроить)</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-09-08T13:07:40.601Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 5,
        "reads": 85,
        "readers_count": 84,
        "score": 47.0,
        "yours": false,
        "topic_id": 9882,
        "topic_slug": "wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 863,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box/9882/2",
        "can_translate": false
    },
    {
        "id": 36710,
        "name": "",
        "username": "boris1",
        "avatar_template": "/letter_avatar_proxy/v4/letter/b/e9a140/{size}.png",
        "created_at": "2024-09-08T13:14:49.931Z",
        "cooked": "<p>докодемо это значит v2ray? А можете показать настройки wg? И докудемо настройки если они какие-то особенные. К сожалению по словам ничего настроить не могу.</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-09-08T13:14:49.931Z",
        "reply_count": 1,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 7,
        "reads": 87,
        "readers_count": 86,
        "score": 57.4,
        "yours": false,
        "topic_id": 9882,
        "topic_slug": "wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
            "username": "sakontwist",
            "name": "",
            "avatar_template": "/letter_avatar_proxy/v4/letter/s/c77e96/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 5155,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box/9882/3",
        "can_translate": false
    },
    {
        "id": 36721,
        "name": "",
        "username": "sakontwist",
        "avatar_template": "/letter_avatar_proxy/v4/letter/s/c77e96/{size}.png",
        "created_at": "2024-09-08T14:06:00.952Z",
        "cooked": "<p>dokodemo это проброс порта в Xray Core. Почему все предпочитают sing-box, не знаю…</p>\n<p>Попробую набросать схему.<br>\nУзел-клиент - назначаем vip на интерйфейс LO, например 10.8.88.254, поднимаем порт-слушатель для wireguard и отправляем все с него в VLESS-outbound на vps на адрес vip (10.8.11.254):</p>\n<pre><code class=\"lang-auto\">  \"inbounds\": [\n    {\n      \"tag\": \"in-wg1\",\n      \"listen\": \"10.8.88.254\",\"port\": 1090,\n      \"protocol\": \"dokodemo-door\",\n      \"settings\": {\n        \t\"address\": \"10.8.11.254\",\n\t    \t\"port\": 1092,\n\t    \t\"network\": \"tcp,udp\"\n      }\n    },\n\"routing\": {\n\t\t{\n\t\t\t\"inboundTag\": [\"in-wg1\"],\n\t\t\t\"outboundTag\": \"vless-vps1\",\n\t\t},\n}\noutbounds.....\n</code></pre>\n<p>То есть на клиенте цепляемся на локальный порт, который пробрасывается на vps:</p>\n<pre><code class=\"lang-auto\">[Interface]\nAddress = 10.8.88.253/32\nPrivateKey = xxxx\n\n[Peer]\nPublicKey = xxx\nAllowedIPs = 10.8.11.0/24\nEndpoint = 10.8.88.254:1090\nPersistentKeepalive = 15\n</code></pre>\n<p>На vps нужно просто настроить приемник wireguard также на локальном адресе:</p>\n<pre><code class=\"lang-auto\">[Interface]\nAddress = 10.8.11.253/32\nListenPort = 1092\nPrivateKey = xxxx\n\n[Peer]\nPublicKey = xxxx\nAllowedIPs = 10.8.88.0/24\n</code></pre>\n<p>Переложить на sing-box не могу, не уверен что там вообще есть dokodemo-in</p>\n<p>И еще - такая схема в целом не очень удачная, потому что обнуляет все плюсы wireguard. WG изначально UDP, то есть тут будет переклад в UoT. Теоретически такое лучше пускать по shadowsocks, но shadowsocks UDP уже палится и легко режется…</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-09-08T14:11:52.996Z",
        "reply_count": 1,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 34,
        "reads": 90,
        "readers_count": 89,
        "score": 193.0,
        "yours": false,
        "topic_id": 9882,
        "topic_slug": "wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
            "username": "boris1",
            "name": "",
            "avatar_template": "/letter_avatar_proxy/v4/letter/b/e9a140/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 863,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box/9882/4",
        "can_translate": false
    },
    {
        "id": 36730,
        "name": "00svd00",
        "username": "s.v.d",
        "avatar_template": "/user_avatar/ntc.party/s.v.d/{size}/6091_2.png",
        "created_at": "2024-09-08T14:21:21.176Z",
        "cooked": "<p>А зачем в этой схеме dokodemo? Вполне достаточно обявить wireguard интерфейс на том ip, которым малинка смотрит в локалку. Типа</p>\n<pre><code class=\"lang-auto\">   {\n      \"listen\": \"192.168.0.xx\",\n      \"port\": 3125,\n      \"protocol\": \"wireguard\",\n      \"settings\": {\n        \"mtu\": 1420,\n        \"secretKey\": \"PrivkeyB\",\n        \"peers\": [\n          {\n            \"privateKey\": \"PrivkeyA\",\n            \"publicKey\": \"PubkeyA\",\n            \"allowedIPs\": [\n              \"0.0.0.0/0\",\n              \"::/0\"\n            ],\n            \"keepAlive\": 0\n          }\n        ],\n        \"kernelMode\": false\n      },\n      \"streamSettings\": null,\n      \"tag\": \"WG_in\",\n      \"sniffing\": {\n        \"enabled\": false,\n        \"destOverride\": [\n          \"http\",\n          \"tls\",\n          \"quic\",\n          \"fakedns\"\n        ],\n        \"metadataOnly\": false,\n        \"routeOnly\": false\n      }\n    }\n</code></pre>\n<p>Всё, после этого на роутере можно настраивать WG подключение на 192.168.0.xx:3125, а в xray соотв. прописать маршрут</p>\n<pre><code class=\"lang-auto\">  \"routing\": {\n    \"domainStrategy\": \"AsIs\",\n    \"rules\": [\n      {\n        \"type\": \"field\",\n        \"inboundTag\": [\n          \"WG_in\"\n        ],\n        \"outboundTag\": \"Trojan_out\"\n      },\n</code></pre>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-09-08T14:21:21.176Z",
        "reply_count": 2,
        "reply_to_post_number": 4,
        "quote_count": 0,
        "incoming_link_count": 18,
        "reads": 85,
        "readers_count": 84,
        "score": 117.0,
        "yours": false,
        "topic_id": 9882,
        "topic_slug": "wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box",
        "display_username": "00svd00",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
            "username": "sakontwist",
            "name": "",
            "avatar_template": "/letter_avatar_proxy/v4/letter/s/c77e96/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 4291,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box/9882/5",
        "can_translate": false
    },
    {
        "id": 36733,
        "name": "",
        "username": "boris1",
        "avatar_template": "/letter_avatar_proxy/v4/letter/b/e9a140/{size}.png",
        "created_at": "2024-09-08T14:30:25.885Z",
        "cooked": "<p>а у кого wireguard есть на inbound протоколе? Видел только на outbound</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-09-08T14:30:25.885Z",
        "reply_count": 1,
        "reply_to_post_number": 5,
        "quote_count": 0,
        "incoming_link_count": 10,
        "reads": 83,
        "readers_count": 82,
        "score": 71.6,
        "yours": false,
        "topic_id": 9882,
        "topic_slug": "wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
            "username": "s.v.d",
            "name": "00svd00",
            "avatar_template": "/user_avatar/ntc.party/s.v.d/{size}/6091_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 5155,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box/9882/6",
        "can_translate": false
    },
    {
        "id": 36737,
        "name": "00svd00",
        "username": "s.v.d",
        "avatar_template": "/user_avatar/ntc.party/s.v.d/{size}/6091_2.png",
        "created_at": "2024-09-08T14:39:50.691Z",
        "cooked": "<p>xray-core умеет ещё с зимы по-моему(и как следствие 3x-ui). У меня вышеописанная схема(только с VLESS) живёт с февраля этого года. Вот недавно заехала в контейнер прямо на роутере.<br>\nВот тут буквально недавно восстановил мануал по настройке</p><aside class=\"quote quote-modified\" data-post=\"21\" data-topic=\"8708\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://ntc.party/user_avatar/ntc.party/s.v.d/48/6091_2.png\" class=\"avatar\">\n    <a href=\"https://ntc.party/t/mkirotik-vless-reality/8708/21\">Mkirotik + VLESS + REALITY</a> <a class=\"badge-category__wrapper \" href=\"/c/censorship-circumvention-software/tunneling-software/24\"><span data-category-id=\"24\" style=\"--category-badge-color: #652D90; --category-badge-text-color: #FFFFFF; --parent-category-badge-color: #92278F;\" data-parent-category-id=\"11\" data-drop-close=\"true\" class=\"badge-category --has-parent\" title=\"Everything that encapsulates data and transmits it to middlebox server: VPN, proxy, cloaking software\"><span class=\"badge-category__name\">Tunneling software</span></span></a>\n  </div>\n  <blockquote>\n    В связи с тем, что форум воспрял из пепла - восстаналиваю мануал (Копия есть в комментах на хабре <a href=\"https://habr.com/ru/articles/838452/#comment_27231344\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Решаем проблему блокировок (и YouTube) за 5 минут на роутере Mikrotik через контейнеры и без VPN / Хабр</a>) \nНа микроте ставим пакет с контейнерами, ребутаемся, включаем контейнеры \n/system/device-mode/update container=yes \nНа железке после этого нужно будет нажать кнопку mode за ограниченное время, удалённо включить контейнеры не выйдет, т.к. потанцевальная дыра в безопасности. Дальше создаём VETH для…\n  </blockquote>\n</aside>\n",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-09-08T14:41:08.518Z",
        "reply_count": 0,
        "reply_to_post_number": 6,
        "quote_count": 0,
        "incoming_link_count": 93,
        "reads": 86,
        "readers_count": 85,
        "score": 482.2,
        "yours": false,
        "topic_id": 9882,
        "topic_slug": "wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box",
        "display_username": "00svd00",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
            {
                "url": "https://ntc.party/t/mkirotik-vless-reality/8708/21",
                "internal": true,
                "reflection": false,
                "title": "Mikrotik + VLESS + REALITY",
                "clicks": 0
            }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
            "username": "boris1",
            "name": "",
            "avatar_template": "/letter_avatar_proxy/v4/letter/b/e9a140/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 4291,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box/9882/7",
        "can_translate": false
    },
    {
        "id": 36748,
        "name": "",
        "username": "sakontwist",
        "avatar_template": "/letter_avatar_proxy/v4/letter/s/c77e96/{size}.png",
        "created_at": "2024-09-08T14:47:26.803Z",
        "cooked": "<p>Здесь вы не пробрасываете WG поверх другого протокола, а терминируете его на узле… Задача была поставлена несколько иначе</p>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-09-08T14:47:26.803Z",
        "reply_count": 2,
        "reply_to_post_number": 5,
        "quote_count": 0,
        "incoming_link_count": 4,
        "reads": 78,
        "readers_count": 77,
        "score": 45.6,
        "yours": false,
        "topic_id": 9882,
        "topic_slug": "wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
            "username": "s.v.d",
            "name": "00svd00",
            "avatar_template": "/user_avatar/ntc.party/s.v.d/{size}/6091_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 863,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box/9882/8",
        "can_translate": false
    },
    {
        "id": 36749,
        "name": "00svd00",
        "username": "s.v.d",
        "avatar_template": "/user_avatar/ntc.party/s.v.d/{size}/6091_2.png",
        "created_at": "2024-09-08T14:50:53.548Z",
        "cooked": "<p>Я прочитал задачу как “подключаться по WG к малинке, которая будет проксировать траффик наружу по незаблокированному протоколу”. Но даже если стоит задача протянуть WG до улалённой тачки - то ИМХО лучше его всё же терминировать а на выходном узле развернуть такой же xray-core, но с wg-outbound. Туннель внутри туннеля - такое себе.</p>",
        "post_number": 9,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-09-08T14:50:53.548Z",
        "reply_count": 0,
        "reply_to_post_number": 8,
        "quote_count": 0,
        "incoming_link_count": 4,
        "reads": 80,
        "readers_count": 79,
        "score": 36.0,
        "yours": false,
        "topic_id": 9882,
        "topic_slug": "wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box",
        "display_username": "00svd00",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
            "username": "sakontwist",
            "name": "",
            "avatar_template": "/letter_avatar_proxy/v4/letter/s/c77e96/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 4291,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box/9882/9",
        "can_translate": false
    },
    {
        "id": 36750,
        "name": "",
        "username": "boris1",
        "avatar_template": "/letter_avatar_proxy/v4/letter/b/e9a140/{size}.png",
        "created_at": "2024-09-08T14:52:40.673Z",
        "cooked": "<p>на самом деле мне подойдет любой вариант, который бы мне сделал на роутере впн. Сейчас роутер поддерживает только wg и openvpn. Желательно чтобы это было энкапсулировано в каком-то устройстве.</p>",
        "post_number": 10,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-09-08T14:52:40.673Z",
        "reply_count": 0,
        "reply_to_post_number": 8,
        "quote_count": 0,
        "incoming_link_count": 4,
        "reads": 81,
        "readers_count": 80,
        "score": 36.2,
        "yours": false,
        "topic_id": 9882,
        "topic_slug": "wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
            "username": "sakontwist",
            "name": "",
            "avatar_template": "/letter_avatar_proxy/v4/letter/s/c77e96/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 5155,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box/9882/10",
        "can_translate": false
    },
    {
        "id": 36973,
        "name": "",
        "username": "boris1",
        "avatar_template": "/letter_avatar_proxy/v4/letter/b/e9a140/{size}.png",
        "created_at": "2024-09-09T12:39:25.027Z",
        "cooked": "<p>настроил через x-ui, фантастикак как просто все оказалось со встроенным wireguard)<br>\nстабильность правда сомнительная, видимо издержки протоколов, но это лучше чем ничего<br>\nспасибо за помощь<br>\nКак придет orangepi с двумя ланами, попробую на нем завести</p>",
        "post_number": 11,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-09-09T12:39:25.027Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 77,
        "readers_count": 76,
        "score": 35.4,
        "yours": false,
        "topic_id": 9882,
        "topic_slug": "wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 5155,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box/9882/11",
        "can_translate": false
    },
    {
        "id": 36980,
        "name": "00svd00",
        "username": "s.v.d",
        "avatar_template": "/user_avatar/ntc.party/s.v.d/{size}/6091_2.png",
        "created_at": "2024-09-09T13:45:53.324Z",
        "cooked": "<p>На работу с <a href=\"http://registry-1.docker.io\" rel=\"noopener nofollow ugc\">registry-1.docker.io</a> хватает. И на репку графаны тоже. На самом деле работает весь этот велосипед достаточно стабильно и ресурсов особо не жрёт. Единственная задержка в работе бывает при хендшейке, т.к. в этот момент на стороне сервера стягивается сертификат с подменного хоста. А в остальное время всё достаточно резво(в рамках интернет канала на стороне VPS разумеется)</p>",
        "post_number": 12,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-09-09T13:45:53.324Z",
        "reply_count": 1,
        "reply_to_post_number": 11,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 75,
        "readers_count": 74,
        "score": 20.0,
        "yours": false,
        "topic_id": 9882,
        "topic_slug": "wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box",
        "display_username": "00svd00",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
            {
                "url": "http://registry-1.docker.io",
                "internal": false,
                "reflection": false,
                "clicks": 4
            }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
            "username": "boris1",
            "name": "",
            "avatar_template": "/letter_avatar_proxy/v4/letter/b/e9a140/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 4291,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box/9882/12",
        "can_translate": false
    },
    {
        "id": 37874,
        "name": "",
        "username": "boris1",
        "avatar_template": "/letter_avatar_proxy/v4/letter/b/e9a140/{size}.png",
        "created_at": "2024-09-12T10:15:53.472Z",
        "cooked": "<p>а когда после чего проихсодит? После того как соединение с прокси по таймауту рвется?<br>\nИ есть ли разница между vless или trojan в этой конфигурации? Вроде они оба по tcp работают и должны быть аналогичны по накладным расходам</p>",
        "post_number": 13,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-09-12T10:15:53.472Z",
        "reply_count": 0,
        "reply_to_post_number": 12,
        "quote_count": 0,
        "incoming_link_count": 15,
        "reads": 64,
        "readers_count": 63,
        "score": 87.8,
        "yours": false,
        "topic_id": 9882,
        "topic_slug": "wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
            "username": "s.v.d",
            "name": "00svd00",
            "avatar_template": "/user_avatar/ntc.party/s.v.d/{size}/6091_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 5155,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/wireguard-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-sing-box/9882/13",
        "can_translate": false
    }
]