
    <html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style>
    th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      word-wrap: break-word;
      padding: 5px;
    }
    table {
      width: 100%;
      max-width: 100%;
      border: 1px solid black;
      border-collapse: collapse;
      table-layout: fixed;
      word-wrap: break-word
    }
    code {
      word-wrap: break-word;
    }
    pre {
        white-space: pre-wrap;
    }
    </style>
        <title>нюансы-настройки-сетей-vpn-shadowsocksv2ray</title>
      </head>
      <body>
        <table border="1" width="100%" cellpadding="5">
          <tr>
            <th style="width: 10%;">Ник</th>
            <th>Пост</th>
            <th style="width: 10%;">Дата</th>
          </tr>
    <tr><td>Kisliy(Андрей)</td><td><p>Доброе утро! Остановился на трёх программах для создания сетей с протоколом Shadowsocks/V2Ray: Amnezia VPN, Outline VPN, SoftEther VPN, но остались вопросы:</p>
<ol>
<li>При использовании вышеперечисленных программ Skype, WhatsApp, TeamViewer, Torrent могут вообще не работать?</li>
<li>Amnezia VPN новый проект, можно ли ему доверять?</li>
<li>В случае шатдауна (если будут работать только госуслуги и т. п.), каким способом вероятнее всего можно будет соединиться с внешним миром (пусть и на маленькой скорости)?</li>
</ol>
<p>Ещё хотел бы уточнить нюансы настройки, чтобы потом не перенастраивать ничего (беру с небольшим запасом «прочности»):<br>
4. Достаточно установить нокер Labean или необходимо приобретение домена с выпуском SSL сертификата?<br>
5. При выполнении п. 4. следующие действия надо будет выполнять?:<br>
— Установить на VPN-сервере какое-нибудь стандартное значение MTU, например 1400;<br>
— Назначьте вашему VPN-серверу 2 IP-адреса. На один он будет принимать подключения к VPN/прокси, а с другого будет уходить исходящий трафик;<br>
— Для «выходного» IP-адреса закройте все порты, отключите ответ на ICMP ping;<br>
— Пропишите для вашего сервера какое-нибудь безобидное reverse DNS имя, похожее на пул доступа интернет-провайдера, например, <a href="http://gateway-001.somehomeisp.net" rel="noopener nofollow ugc">gateway-001.somehomeisp.net</a>;</p>
<p>В общем-то такие скромные запросы у меня <img src="https://ntc.party/images/emoji/twitter/blush.png?v=12" title=":blush:" class="emoji" alt=":blush:" loading="lazy" width="20" height="20"></p></td><td>2022-07-04T05:17:22.791Z</td></tr><tr><td>ValdikSS</td><td><aside class="quote no-group" data-username="Kisliy" data-post="1" data-topic="2776">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/kisliy/48/1574_2.png" class="avatar"> Kisliy:</div>
<blockquote>
<p>При использовании вышеперечисленных программ Skype, WhatsApp, TeamViewer, Torrent могут вообще не работать?</p>
</blockquote>
</aside>
<p>Эти программы должны работать.<br>
При определённых конфигурациях shadowsocks/v2ray могут быть проблемы с UDP, но со стандартными настройками указанных вами проектов проблем быть не должно.</p>
<aside class="quote no-group" data-username="Kisliy" data-post="1" data-topic="2776">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/kisliy/48/1574_2.png" class="avatar"> Kisliy:</div>
<blockquote>
<p>Amnezia VPN новый проект, можно ли ему доверять?</p>
</blockquote>
</aside>
<p>Amnezia VPN делает с OpenVPN примерно то же, что Outline делает с shadowsocks — удобная настройка с дополнительными функциями. Проект открыт, но не проходил аудит безопасности.</p>
<aside class="quote no-group" data-username="Kisliy" data-post="1" data-topic="2776">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/kisliy/48/1574_2.png" class="avatar"> Kisliy:</div>
<blockquote>
<p>В случае шатдауна (если будут работать только госуслуги и т. п.), каким способом вероятнее всего можно будет соединиться с внешним миром (пусть и на маленькой скорости)?</p>
</blockquote>
</aside>
<p>Из перечисленных вами проектов больше всего шансов подключиться при таких условиях у SoftEther: его собственный протокол может работать как на любом TCP-порту, так и через <a href="https://www.softether.org/1-features/1._Ultimate_Powerful_VPN_Connectivity#:~:text=office's%20firewall.-,1.6.%20vpn%20over%20icmp%2C%20and%20vpn%20over%20dns%20(awesome!),-A%20few%20very">ICMP и эмуляцию DNS-запросов</a>.<br>
Обращаю ваше внимание, что SoftEther не использует ни shadowsocks, ни v2ray.</p>
<aside class="quote no-group" data-username="Kisliy" data-post="1" data-topic="2776">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/kisliy/48/1574_2.png" class="avatar"> Kisliy:</div>
<blockquote>
<ol start="4">
<li>Достаточно установить нокер Labean или необходимо приобретение домена с выпуском SSL сертификата?</li>
</ol>
</blockquote>
</aside>
<p>Вопрос непонятен. Достаточно для чего?<br>
SSL-сертификат можно выпустить и на IP-адрес, домен для этого не обязателен. Такие сертификаты бесплатно выпускает, например, ZeroSSL. Также можно воспользоваться доменами-прослойками, перенаправляющими трафик на определённый IP-адрес: <a href="http://nip.io">nip.io</a>, <a href="http://sslip.io">sslip.io</a>. С ними работает и Let’s Encrypt.</p>
<aside class="quote no-group" data-username="Kisliy" data-post="1" data-topic="2776">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/kisliy/48/1574_2.png" class="avatar"> Kisliy:</div>
<blockquote>
<ol start="5">
<li>При выполнении п. 4. следующие действия надо будет выполнять?:</li>
</ol>
</blockquote>
</aside>
<p>Это всё дополнительные действия, без которых можно обойтись.</p></td><td>2022-07-09T03:42:49.931Z</td></tr><tr><td>Kisliy(Андрей)</td><td><p>Я уж думал забыли про меня, спасибо за детальное разъяснение <img src="https://ntc.party/images/emoji/twitter/slightly_smiling_face.png?v=12" title=":slightly_smiling_face:" class="emoji" alt=":slightly_smiling_face:" loading="lazy" width="20" height="20"></p></td><td>2022-07-09T19:43:55.374Z</td></tr><tr><td>name3333</td><td><p>Можете посоветовать альтернативу SoftEther на MacOS? Под ту же задачу, на случай шатдауна</p>
<p>Просто для установки SoftEther нужно скачивать инструменты разрабочика которые весят крайне много, а чистить ноутбук немного неудобно и самой памяти мало</p></td><td>2023-01-17T14:18:06.644Z</td></tr><tr><td>anon94384997</td><td><p>Да, вроде есть <a href="https://github.com/SoftEtherVPN/SoftEtherVPN_Stable/releases" rel="noopener nofollow ugc">сборка SoftEther</a> для MacOS.<br>
Но, наверное, не под новый процессор, придется использовать эмулятор. Без vpngate плагина, только command line, маршрутизацию надо настраивать вручную (по примеру линукса), плохая документация.</p>
<p>Смотря, какие функции SoftEther вам нужны.</p>
<ol>
<li>По умолчанию там маскировка под HTTPS, значит аналогом будет Trojan, V2Ray.</li>
<li>Если нужны VPN over DNS/ICMP (который можно поднять только на своем сервере), то аналог dnstt.</li>
</ol>
<p>Шатдаун обычно длится недолго. Писали, что при отключениях в Казахстане работал RetroShare, правда это это не VPN, а внутренние блоги/форумы, файлохранилище. Там тоже может быть обсуждение ситуации. Но добавлять друзей (из своей страны, без Tor) хлопотно.<br>
Еще можно попробовать I2P Outproxy, Yggdrasil Outproxy. Какую-нибудь другую экзотику, типа Tox, Briar.</p></td><td>2023-01-17T20:35:23.212Z</td></tr><tr><td>Kisliy(Андрей)</td><td><p>Что ж, только сейчас начал разбираться с виртуальным сервером <img src="https://ntc.party/images/emoji/twitter/hear_no_evil.png?v=12" title=":hear_no_evil:" class="emoji" alt=":hear_no_evil:" loading="lazy" width="20" height="20"><br>
Пока настраивал SoftEther, наткнулся на статью о том что он легко палится:<br>
<em>SoftetherVPN в ответ на GET-запрос с путем /vpnsvc/connect.cgi, типом application/octet-stream и пэйлоадом ‘VPNCONNECT’ выдаст в ответ 200 код и предсказуемый бинарный блоб с рассказом о том, кто он такой.</em><br>
Странно, что никто не знал об этом раньше <img src="https://ntc.party/images/emoji/twitter/face_with_symbols_over_mouth.png?v=12" title=":face_with_symbols_over_mouth:" class="emoji" alt=":face_with_symbols_over_mouth:" loading="lazy" width="20" height="20"> Тем не менее, эту уязвимость можно как-нибудь прикрыть? И все ли это уязвимости?</p>
<p>И ещё, о каких протоколах идёт речь в статье КоАП РФ 13.6. Использование средств связи или несертифицированных средств кодирования (шифрования), не прошедших процедуру подтверждения их соответствия установленным требованиям?<br>
Вот, например, SSH подключение к серверу или https соединение с сайтом это всё не подтверждённый протокол?</p></td><td>2024-03-10T20:20:06.730Z</td></tr><tr><td>irt</td><td><aside class="quote no-group" data-username="Kisliy" data-post="8" data-topic="2776">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/kisliy/48/1574_2.png" class="avatar"> Kisliy:</div>
<blockquote>
<p>И ещё, о каких протоколах идёт речь в статье КоАП РФ 13.6.</p>
</blockquote>
</aside>
<p>Речь о таких системах, которые подлежат обязательной сертификации, перечень есть в Постановлении правительства от 4 февраля 2022 г. № 113. Там есть разные маршрутизаторы и АТС.<br>
О протоколах отдельно в КОАПе речи не идет. Речь именно о железках, коробках и том, что внутри них, которые, причем о тех, которые функционируют на узлах связи. Ваш домашний комп не относится к сетям связи.</p></td><td>2024-03-12T11:29:59.992Z</td></tr><tr><td>Kisliy(Андрей)</td><td><p>Поизучал, действительно только оборудование. Проблемой меньше <img src="https://ntc.party/images/emoji/twitter/melting_face.png?v=12" title=":melting_face:" class="emoji" alt=":melting_face:" loading="lazy" width="20" height="20"> спасибо вам!</p></td><td>2024-03-20T14:50:12.916Z</td></tr><tr><td>Kisliy(Андрей)</td><td><p>Вопросик, правильно ли я понимаю, что даже без доступа к моему VPS серверу (drop пакетов с любых ip адресов кроме моего) у ТСПУ есть возможно получить TLS fingerprint клиента из-за уязвимости в TLS 1.2? TLS 1.3 (⊙_⊙)？</p></td><td>2024-04-22T20:02:24.181Z</td></tr><tr><td>bolvan</td><td><p>ТСПУ может получить доступ к фингерпринту, потому что трафик проходит через него, а не из-за каких-то уязвимостей. Это не уязвимость, это протокол, а фингерпринт - допустимая в рамках протокола вариация  запроса клиента.<br>
Да, еcть протоколы, скрывающие любые сигнатуры. Телеграм mtproto, например. Но TLS не создавался с целью сокрыть, что он TLS. Можно ли назвать это уязвимостью ? Вряд ли, скорее это особенность. Большинство протоколов себя не скрывают</p></td><td>2024-04-23T06:43:21.440Z</td></tr><tr><td>Kisliy(Андрей)</td><td><aside class="quote no-group" data-username="bolvan" data-post="12" data-topic="2776">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/letter_avatar_proxy/v4/letter/b/8e8cbc/48.png" class="avatar"> bolvan:</div>
<blockquote>
<p>трафик проходит через него, а не из-за каких-то уязвимостей. Это не уязвимость, это протокол, а фингерпринт - допустимая в рамках протокола вариация запроса клиента.</p>
</blockquote>
</aside>
<p>Спасибо, теперь я разобрался с этим <img src="https://ntc.party/images/emoji/twitter/+1.png?v=12" title=":+1:" class="emoji" alt=":+1:" loading="lazy" width="20" height="20"></p></td><td>2024-04-23T14:14:26.668Z</td></tr>
    </table>
      </body>
    </html>