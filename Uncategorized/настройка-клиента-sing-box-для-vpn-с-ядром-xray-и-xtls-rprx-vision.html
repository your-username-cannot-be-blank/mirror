
    <html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style>
    th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      word-wrap: break-word;
      padding: 5px;
    }
    table {
      width: 100%;
      max-width: 100%;
      border: 1px solid black;
      border-collapse: collapse;
      table-layout: fixed;
      word-wrap: break-word
    }
    code {
      word-wrap: break-word;
    }
    pre {
        white-space: pre-wrap;
    }
    </style>
        <title>настройка-клиента-sing-box-для-vpn-с-ядром-xray-и-xtls-rprx-vision</title>
      </head>
      <body>
        <table border="1" width="100%" cellpadding="5">
          <tr>
            <th style="width: 10%;">Ник</th>
            <th>Пост</th>
            <th style="width: 10%;">Дата</th>
          </tr>
    <tr><td>mirai(mirai)</td><td><p>Всем привет, прошу помощи, я совсем новичок, не так давно впервые поднял свой VPN на ядре XRay с VLESS + Reality, зоны .ru .su пускаю через WARP, работает стабильно. Задался задачей настроить его для семьи и появилось опасение что, несмотря на настройку WARP на гео, этого будет недостаточно. Узнал что у клиента sing-box есть возможность настроить конфиг проксирования подключения <strong>только</strong> к определенному списку ресурсов, а через клиентские настройки и к списку приложений, что мне показалось отличным решением.</p>
<p>Нашел шаблон конфигурации sing-box для <a href="https://github.com/chika0801/sing-box-examples/blob/main/VLESS-Vision-REALITY/config_client.json" rel="noopener nofollow ugc">vision-reality</a>, шаблон без списков антизапрета или рефильтра, просто на подключение. Заполнил его, попытался подключиться, но ничего не произошло. На сервере sudo <code>journalctl -u xray</code> подключений не показал, логи в sing-box содержали только 4 строки:<br>
(packet-tunnel): Here i stand<br>
INFO[0000] router: update default interface en0, index 15<br>
INFO[0000] inbound/mixed[0] tcp server started at IP:PORT<br>
INFO[0000] sing-box started (0.44s)</p>
<p>Буду очень благодарен если кто-то сможет подсказать что я делаю не так, прикрепил шаблон заполнения подключения в 3x-UI (скриншот 1), пример данных которые я вносил в конфиг для клиента sing-box (скриншот 2), как подключал конфиг на клиенте (локально прописал путь, скриншот 3).</p>
<p>Сам использую Streisand в качестве клиента, сверял в том числе данные вносимые в config.json для sing-box с данными которые заполнились через ключ в Streisand (и конфигом XRay на сервере), все корректно.</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="настройка-клиента-sing-box-для-vpn-с-ядром-xray-и-xtls-rprx-vision/f3b00e85fd687e1d516878da8dead36aa4b2a34b.png" data-download-href="https://ntc.party/uploads/default/f3b00e85fd687e1d516878da8dead36aa4b2a34b" title="Снимок экрана 2024-11-23 в 20.19.15"><img src="настройка-клиента-sing-box-для-vpn-с-ядром-xray-и-xtls-rprx-vision/f3b00e85fd687e1d516878da8dead36aa4b2a34b_2_198x500.png" alt="Снимок экрана 2024-11-23 в 20.19.15" data-base62-sha1="yLLdXogNm2IPvv73itsn67sphkn" width="198" height="500" srcset="настройка-клиента-sing-box-для-vpn-с-ядром-xray-и-xtls-rprx-vision/f3b00e85fd687e1d516878da8dead36aa4b2a34b_2_198x500.png, настройка-клиента-sing-box-для-vpn-с-ядром-xray-и-xtls-rprx-vision/f3b00e85fd687e1d516878da8dead36aa4b2a34b_2_297x750.png 1.5x, настройка-клиента-sing-box-для-vpn-с-ядром-xray-и-xtls-rprx-vision/f3b00e85fd687e1d516878da8dead36aa4b2a34b_2_396x1000.png 2x" data-dominant-color="F8F9F8"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">Снимок экрана 2024-11-23 в 20.19.15</span><span class="informations">532×1340 101 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div><br>
<div class="lightbox-wrapper"><a class="lightbox" href="настройка-клиента-sing-box-для-vpn-с-ядром-xray-и-xtls-rprx-vision/5f0d3a3e9c8af515e819ba7e6d2cd7a89fc0f658.png" data-download-href="https://ntc.party/uploads/default/5f0d3a3e9c8af515e819ba7e6d2cd7a89fc0f658" title="Снимок экрана 2024-11-23 в 20.17.51"><img src="настройка-клиента-sing-box-для-vpn-с-ядром-xray-и-xtls-rprx-vision/5f0d3a3e9c8af515e819ba7e6d2cd7a89fc0f658_2_443x500.png" alt="Снимок экрана 2024-11-23 в 20.17.51" data-base62-sha1="dyRHmWXSzoUWWWmvZn5ZEQrjeFq" width="443" height="500" srcset="настройка-клиента-sing-box-для-vpn-с-ядром-xray-и-xtls-rprx-vision/5f0d3a3e9c8af515e819ba7e6d2cd7a89fc0f658_2_443x500.png, настройка-клиента-sing-box-для-vpn-с-ядром-xray-и-xtls-rprx-vision/5f0d3a3e9c8af515e819ba7e6d2cd7a89fc0f658_2_664x750.png 1.5x, настройка-клиента-sing-box-для-vpn-с-ядром-xray-и-xtls-rprx-vision/5f0d3a3e9c8af515e819ba7e6d2cd7a89fc0f658_2_886x1000.png 2x" data-dominant-color="252324"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">Снимок экрана 2024-11-23 в 20.17.51</span><span class="informations">1232×1388 98.8 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div><br>
<div class="lightbox-wrapper"><a class="lightbox" href="настройка-клиента-sing-box-для-vpn-с-ядром-xray-и-xtls-rprx-vision/e6429f183a191acb00ecdab3ac237c2a8f85f020.png" data-download-href="https://ntc.party/uploads/default/e6429f183a191acb00ecdab3ac237c2a8f85f020" title="Снимок экрана 2024-11-23 в 20.19.47"><img src="настройка-клиента-sing-box-для-vpn-с-ядром-xray-и-xtls-rprx-vision/e6429f183a191acb00ecdab3ac237c2a8f85f020_2_690x234.png" alt="Снимок экрана 2024-11-23 в 20.19.47" data-base62-sha1="wQYylGX0t8fsrZeMiUSyS94GURq" width="690" height="234" srcset="настройка-клиента-sing-box-для-vpn-с-ядром-xray-и-xtls-rprx-vision/e6429f183a191acb00ecdab3ac237c2a8f85f020_2_690x234.png, настройка-клиента-sing-box-для-vpn-с-ядром-xray-и-xtls-rprx-vision/e6429f183a191acb00ecdab3ac237c2a8f85f020_2_1035x351.png 1.5x, настройка-клиента-sing-box-для-vpn-с-ядром-xray-и-xtls-rprx-vision/e6429f183a191acb00ecdab3ac237c2a8f85f020_2_1380x468.png 2x" data-dominant-color="E9E8E7"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">Снимок экрана 2024-11-23 в 20.19.47</span><span class="informations">1568×532 33.4 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div></p></td><td>2024-11-23T19:00:50.191Z</td></tr><tr><td>0ka(0ka)</td><td><p>на клиенте нужен tun inbound а не mixed. экспортируй json из некорея, там будет понятно как его сделать</p></td><td>2024-11-23T20:09:58.228Z</td></tr><tr><td>throwaway1</td><td><p>Если честно, тебе легче будет скачать nekoray какой-нибудь, а не париться с json конфигами, но если очень хочется голый синг бокс, будет быстрее просто приложить пример готового (моего) конфига, который вроде как работает (насколько он верно построен я не знаю, но на его примере можно построить свой):</p>
<p><a class="attachment" href="настройка-клиента-sing-box-для-vpn-с-ядром-xray-и-xtls-rprx-vision/pQrn2i6ZVc0bpjH2yrX5T1mxboB.json">config.json</a> (4.7 KB)</p>
<ul>
<li>Вот еще пример: <a href="https://github.com/yangchuansheng/sing-box/blob/main/config-example.json" rel="noopener nofollow ugc">https://github.com/yangchuansheng/sing-box/blob/main/config-example.json</a></li>
<li>А вот мануал по конфигу синг бокса: <a href="https://sing-box.sagernet.org/configuration/" class="inline-onebox" rel="noopener nofollow ugc">Introduction - sing-box</a></li>
</ul></td><td>2024-11-24T23:46:52.777Z</td></tr>
    </table>
      </body>
    </html>