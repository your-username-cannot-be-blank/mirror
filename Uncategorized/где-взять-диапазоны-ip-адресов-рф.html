
    <html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style>
    th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      word-wrap: break-word;
      padding: 5px;
    }
    table {
      width: 100%;
      max-width: 100%;
      border: 1px solid black;
      border-collapse: collapse;
      table-layout: fixed;
      word-wrap: break-word
    }
    code {
      word-wrap: break-word;
    }
    pre {
        white-space: pre-wrap;
    }
    </style>
        <title>где-взять-диапазоны-ip-адресов-рф</title>
      </head>
      <body>
        <table border="1" width="100%" cellpadding="5">
          <tr>
            <th style="width: 10%;">Ник</th>
            <th>Пост</th>
            <th style="width: 10%;">Дата</th>
          </tr>
    <tr><td>0ka(0ka)</td><td><p>в GeoLite2-Country<br>
<a class="attachment" href="где-взять-диапазоны-ip-адресов-рф/sHgPX13dhWsZlFb5gB5HxxrMPI0.zip">GeoLite2-Country-CSV_20240326.zip</a> (3,2 МБ)<br>
очень много ошибок: тайваньские, австрийские, китайские ip адреса вместе с русскими.</p>
<p>хотел сделать ipset с русскими айпи для завода их в туннель т.к. с украины к ним нет доступа</p></td><td>2024-03-27T03:11:19.331Z</td></tr><tr><td>0ka(0ka)</td><td><p>вот еще <a href="https://stat.ripe.net/data/country-resource-list/data.json?v4_format=prefix&amp;resource=RU">https://stat.ripe.net/data/country-resource-list/data.json?v4_format=prefix&amp;resource=RU</a><br>
не нашел один свой ru ip, не пойму почему, ведь на <a href="http://ripe.net">ripe.net</a> он относится к RU</p>
<p>и еще <a href="https://ipinfo.io/products/free-ip-database">ipipinfo.io</a> (<a href="https://ipinfo.io/developers/database-download">инструкция по использованию</a>)</p>
<p><a href="https://github.com/Ne00n/yammdb" class="inline-onebox">GitHub - Ne00n/yammdb: just another .mmdb</a> полный бред, почти на все мои ip выдаёт неверную страну</p></td><td>2024-03-27T04:41:43.901Z</td></tr><tr><td>bolvan</td><td><p>В линухах в репах есть разные варианты<br>
tor-geoipdb, geoip-database<br>
в iptables есть xt_geoip. можно оттуда дернуть. а можно и не дергать. есть же готовый модуль для iptables. для nftables есть nft_geoip<br>
обновляться должны регулярно. если во всех этих вариантах трэш, то я уже не знаю откуда еще брать. может составить список AS и через хуиз дернуть префиксы ?</p></td><td>2024-03-27T05:59:00.039Z</td></tr><tr><td>sakontwist</td><td><p>curl -s <a href="https://stat.ripe.net/data/country-resource-list/data.json?resource=ru" rel="noopener nofollow ugc">https://stat.ripe.net/data/country-resource-list/data.json?resource=ru</a><br>
Только надо учитывать, что “география адреса” - понятие относительное, он может физически находиться где угодно, но при этом быть RU</p></td><td>2024-03-27T09:08:20.897Z</td></tr><tr><td>borouhin(Alexander Borouhin)</td><td><aside class="quote no-group quote-modified" data-username="0ka" data-post="1" data-topic="7576">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/letter_avatar_proxy/v4/letter/0/d78d45/48.png" class="avatar"> 0ka:</div>
<blockquote>
<p>в GeoLite2-Country … очень много ошибок:</p>
</blockquote>
</aside>
<p>Вообще, Maxmind один из лучших источников по GeoIP, и если Вы видите у них ошибки, возможно, это не баг, а фича… как уже справедливо отметили, принадлежность IP к стране - штука условная.<br>
Если базы от IPInfo, ссылку на которые уже запостили выше, тоже Вас не устроят, - скорее всего, лучше ничего не найдёте нигде больше.<br>
Была ещё некоторое время назад инициатива официально “границы рунета” определить (см, например, <a href="https://www.interfax.ru/russia/940335" rel="noopener nofollow ugc">тут</a> новость), но там, вроде, пока никаких результатов.</p></td><td>2024-03-27T21:09:18.715Z</td></tr><tr><td>ValdikSS</td><td><aside class="quote no-group" data-username="borouhin" data-post="6" data-topic="7576">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/borouhin/48/3734_2.png" class="avatar"> borouhin:</div>
<blockquote>
<p>Вообще, Maxmind один из лучших источников по GeoIP, и если Вы видите у них ошибки, возможно, это не баг, а фича</p>
</blockquote>
</aside>
<p>Это фича lite-версий, да.<br>
Не могу найти данных по Country, но вот по City: <a href="https://www.maxmind.com/en/geoip2-city-accuracy-comparison?country=RU&amp;resolution=city&amp;cellular=exclusively" class="inline-onebox">GeoIP2 City Accuracy | MaxMind</a></p></td><td>2024-03-29T11:17:24.489Z</td></tr><tr><td>borouhin(Alexander Borouhin)</td><td><aside class="quote no-group" data-username="ValdikSS" data-post="7" data-topic="7576">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/user_avatar/ntc.party/valdikss/48/2_2.png" class="avatar"> ValdikSS:</div>
<blockquote>
<p>Это фича lite-версий, да.<br>
Не могу найти данных по Country, но вот по City: <a href="https://www.maxmind.com/en/geoip2-city-accuracy-comparison?country=RU&amp;resolution=city&amp;cellular=exclusively" rel="noopener nofollow ugc">GeoIP2 City Accuracy | MaxMind </a></p>
</blockquote>
</aside>
<p>Вообще с попаданиями в точный город там грустно и для платных баз, да, но для страны <a href="https://www.maxmind.com/en/geoip-databases" rel="noopener nofollow ugc">обещают</a> 99,8% точность. Как я понимаю, те пара процентов, на которые Lite-базы менее точны в определении города, вызваны их более редким обновлением, данные по страновой принадлежности уточняются, а тем более меняются, реже, так что в этой части Lite не должны как-то сильно отличаться от платных баз. Ну даже если и отличаютс на те самые пару процентов - 97% это тоже отлично <img src="https://ntc.party/images/emoji/twitter/slight_smile.png?v=12" title=":slight_smile:" class="emoji" alt=":slight_smile:" loading="lazy" width="20" height="20"><br>
Но если для адресов, выдаваемых конечным пользователям, принадлежность к стране обычно штука однозначная, то вот для адресов серверов тут есть большие нюансы. Если я свой блок IP куплю на российское лицо, а анонсирую его для серверов в зарубежном дата-центре - что должна геолокация выдать? Отсюда, думаю, и проблемы в основном, а не от Lite-баз.</p></td><td>2024-03-29T13:59:09.551Z</td></tr><tr><td>0ka(0ka)</td><td><p>придется видимо взять geolite2-country, но надо почистить список: есть несколько подсетей akamai (напр 2.16.20.0), cloudflare (напр 172.68.8.0)</p>
<p>upd: хотя в ripe и не хватает ip, но там сразу нету akamai и cloudflare</p></td><td>2024-03-30T02:34:38.225Z</td></tr><tr><td>borouhin(Alexander Borouhin)</td><td><aside class="quote no-group" data-username="0ka" data-post="9" data-topic="7576">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/letter_avatar_proxy/v4/letter/0/d78d45/48.png" class="avatar"> 0ka:</div>
<blockquote>
<p>подсетей akamai (напр 2.16.20.0</p>
</blockquote>
</aside>
<p>Вот по этому примеру прекрасно видно, в чём проблема. Хоть это и инфраструктура Akamai, но автономная система Ростелекома (AS12389). И считать это ошибкой в GeoIP не совсем правильно.</p></td><td>2024-03-31T15:54:57.500Z</td></tr><tr><td>0ka(0ka)</td><td><p>я и не считаю это ошибкой, как это может быть ошибкой вообще? для моей цели использования они просто лишние</p></td><td>2024-03-31T17:00:12.707Z</td></tr><tr><td>borouhin(Alexander Borouhin)</td><td><aside class="quote no-group" data-username="0ka" data-post="11" data-topic="7576">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://ntc.party/letter_avatar_proxy/v4/letter/0/d78d45/48.png" class="avatar"> 0ka:</div>
<blockquote>
<p>я и не считаю это ошибкой</p>
</blockquote>
</aside>
<p>Ну тема-то началась с утверждения, что в GeoIP-Lite “очень много ошибок”. Я думаю, что в подевляющем большинстве случаев это не ошибки, а подобные ситуации.</p></td><td>2024-03-31T17:08:10.160Z</td></tr><tr><td>ValdikSS</td><td><p>Наткнулся на проект <a href="https://www.ipfire.org/location/" class="inline-onebox">www.ipfire.org - Welcome to IPFire Location</a><br>
Предоставляют базу и ПО для работы с ней. Качество не проверял, не думаю, что оно высокое для России. База бесплатная.</p></td><td>2024-04-09T10:04:31.024Z</td></tr><tr><td>LeonMskRu(Leon MskRu)</td><td><p>вначале думал torrc сломался. ExcludeExitNodes {ru},{ua},{by},{cn},{pl},{de}<br>
я так понял что если c IPv4 еще хоть какая то “точность” есть то IPv6 на уровне рандома ?</p>
<pre><code class="lang-auto">curl.exe -x socks5://127.0.0.1:9050 https://rutracker.org/myip
ip: 2001:67c:6ec:203:192:42:116:198 PL

curl.exe -4 -x socks5://127.0.0.1:9050 https://rutracker.org/myip
ip: 192.42.116.198 NL
</code></pre>
<p>вообще какая то новая страна <a href="https://whoami.adguard-vpn.online/" rel="noopener nofollow ugc">https://whoami.adguard-vpn.online/</a></p>
<pre><code class="lang-auto">    "ip": "192.42.116.177",
    "country": "T1",

    "ip": "2001:67c:6ec:203:192:42:116:177",
    "country": "T1",
</code></pre></td><td>2024-04-15T18:57:47.553Z</td></tr>
    </table>
      </body>
    </html>