[
    {
        "id": 25765,
        "name": "0ka",
        "username": "0ka",
        "avatar_template": "/letter_avatar_proxy/v4/letter/0/d78d45/{size}.png",
        "created_at": "2024-05-18T16:33:10.669Z",
        "cooked": "<p>есть прокси сервер и нужно как-то применить к нему sqm-scripts (cake), не могу понять как сделать сетевой интерфейс, к которому прокси сервер будет биндить исходящие подключения. Гугл выдал macvlan, ipvlan, но я не смог разобраться как гонять через них интернет трафик: у macvlan bridge интерфейса в tcpdump вижу только arp пакеты с ip адресами ресурсов которые пытаюсь пинговать, у ipvlan не работает masquerade</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2024-05-18T16:33:10.669Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 12,
        "reads": 58,
        "readers_count": 57,
        "score": 71.6,
        "yours": false,
        "topic_id": 7869,
        "topic_slug": "linux-%D0%B2%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9-%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B9-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D0%B4%D0%BB%D1%8F-%D1%88%D0%B5%D0%B9%D0%BF%D0%B8%D0%BD%D0%B3%D0%B0-%D0%BF%D1%80%D0%BE%D0%BA%D1%81%D0%B8-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0",
        "display_username": "0ka",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 488,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/linux-%D0%B2%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9-%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B9-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D0%B4%D0%BB%D1%8F-%D1%88%D0%B5%D0%B9%D0%BF%D0%B8%D0%BD%D0%B3%D0%B0-%D0%BF%D1%80%D0%BE%D0%BA%D1%81%D0%B8-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0/7869/1",
        "can_translate": false
    },
    {
        "id": 25770,
        "name": null,
        "username": "Dhohbr",
        "avatar_template": "/letter_avatar_proxy/v4/letter/d/8797f3/{size}.png",
        "created_at": "2024-05-18T17:16:22.576Z",
        "cooked": "<p>Вы это пытаетесь настроить <a href=\"https://github.com/tohojo/sqm-scripts\" class=\"inline-onebox\">GitHub - tohojo/sqm-scripts: SQM scripts traffic shaper</a> ?<br>\nТам вроде по инструкции нужно просто интерфейс sqm@dev создать. Про vlan речи нет, и на сколько я понял биндить ничего не надо.<br>\nЕсли нужно шейпить прокси, я бы зашёл с другой стороны, с помощью tc шейпил бы входящий трафик на порт прокси.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2024-05-18T17:16:49.534Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 54,
        "readers_count": 53,
        "score": 15.8,
        "yours": false,
        "topic_id": 7869,
        "topic_slug": "linux-%D0%B2%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9-%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B9-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D0%B4%D0%BB%D1%8F-%D1%88%D0%B5%D0%B9%D0%BF%D0%B8%D0%BD%D0%B3%D0%B0-%D0%BF%D1%80%D0%BE%D0%BA%D1%81%D0%B8-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0",
        "display_username": null,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
            {
                "url": "https://github.com/tohojo/sqm-scripts",
                "internal": false,
                "reflection": false,
                "title": "GitHub - tohojo/sqm-scripts: SQM scripts traffic shaper",
                "clicks": 3
            }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 209,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/linux-%D0%B2%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9-%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B9-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D0%B4%D0%BB%D1%8F-%D1%88%D0%B5%D0%B9%D0%BF%D0%B8%D0%BD%D0%B3%D0%B0-%D0%BF%D1%80%D0%BE%D0%BA%D1%81%D0%B8-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0/7869/2",
        "can_translate": false
    },
    {
        "id": 25776,
        "name": "0ka",
        "username": "0ka",
        "avatar_template": "/letter_avatar_proxy/v4/letter/0/d78d45/{size}.png",
        "created_at": "2024-05-18T17:55:10.219Z",
        "cooked": "<p>sqm@dev это не интерфейс, а systemd сервис в котором dev - уже существующий интерфейс, обычно применяют на wan интерфейсе, но мне не нужно шейпить весь wan трафик, а только прокси сервер, в идеале только исходящие от него соединения, для которых можно указать “bind_interface” в конфиге прокси сервера, т.е. входящие соединения будут из eth0, а исходящие в тот который указать в “bind_interface”.<br>\nЕсли шейпить порт прокси, то тогда уже исходящий, а не входящий трафик, попробую если не получится с виртуальным интерфейсом для бинда</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2024-05-18T17:55:10.219Z",
        "reply_count": 0,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 50,
        "readers_count": 49,
        "score": 10.0,
        "yours": false,
        "topic_id": 7869,
        "topic_slug": "linux-%D0%B2%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9-%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B9-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D0%B4%D0%BB%D1%8F-%D1%88%D0%B5%D0%B9%D0%BF%D0%B8%D0%BD%D0%B3%D0%B0-%D0%BF%D1%80%D0%BE%D0%BA%D1%81%D0%B8-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0",
        "display_username": "0ka",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
            "username": "Dhohbr",
            "name": null,
            "avatar_template": "/letter_avatar_proxy/v4/letter/d/8797f3/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 488,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/linux-%D0%B2%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9-%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B9-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D0%B4%D0%BB%D1%8F-%D1%88%D0%B5%D0%B9%D0%BF%D0%B8%D0%BD%D0%B3%D0%B0-%D0%BF%D1%80%D0%BE%D0%BA%D1%81%D0%B8-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0/7869/3",
        "can_translate": false
    },
    {
        "id": 25778,
        "name": null,
        "username": "ValdikSS",
        "avatar_template": "/user_avatar/ntc.party/valdikss/{size}/2_2.png",
        "created_at": "2024-05-18T18:29:22.864Z",
        "cooked": "<p>Cake это queue discipline (qdisc), он не работает просто «на интерфейсе», а принимает пакеты в иерархии дисциплин, трафик в которые классифицируется фильтрами. Фильтр может быть по протоколу и порту.<br>\n<a href=\"https://tldp.org/HOWTO/Adv-Routing-HOWTO/lartc.qdisc.filters.html\" class=\"onebox\" target=\"_blank\" rel=\"noopener\">https://tldp.org/HOWTO/Adv-Routing-HOWTO/lartc.qdisc.filters.html</a></p>\n<p>У вас проблема XY, судя по вопросу.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2024-05-18T18:38:09.927Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 47,
        "readers_count": 46,
        "score": 14.4,
        "yours": false,
        "topic_id": 7869,
        "topic_slug": "linux-%D0%B2%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9-%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B9-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D0%B4%D0%BB%D1%8F-%D1%88%D0%B5%D0%B9%D0%BF%D0%B8%D0%BD%D0%B3%D0%B0-%D0%BF%D1%80%D0%BE%D0%BA%D1%81%D0%B8-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0",
        "display_username": null,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
            {
                "url": "https://tldp.org/HOWTO/Adv-Routing-HOWTO/lartc.qdisc.filters.html",
                "internal": false,
                "reflection": false,
                "title": "Classifying packets with filters",
                "clicks": 4
            }
        ],
        "read": true,
        "user_title": "AntiZapret staff",
        "title_is_group": false,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": true,
        "admin": true,
        "staff": true,
        "user_id": 1,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": false,
        "wiki": false,
        "post_url": "/t/linux-%D0%B2%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9-%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B9-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D0%B4%D0%BB%D1%8F-%D1%88%D0%B5%D0%B9%D0%BF%D0%B8%D0%BD%D0%B3%D0%B0-%D0%BF%D1%80%D0%BE%D0%BA%D1%81%D0%B8-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0/7869/4",
        "can_translate": false
    }
]