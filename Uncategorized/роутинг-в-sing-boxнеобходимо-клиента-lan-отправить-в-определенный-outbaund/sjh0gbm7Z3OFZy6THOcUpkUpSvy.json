{
   "log":{
      "level":"error"
   },
   "experimental":{
      "clash_api":{
         "external_ui":"ui",
         "external_controller":"0.0.0.0:9090",
         "external_ui_download_detour":"",
         "default_mode":"rule"
      }
   },
   "dns":{
      "servers":[
         {
            "tag":"adguard-dns",
            "address":"tls://dns.adguard-dns.com",
            "address_resolver":"local-dns",
            "detour":"vless-out"
         },
         {
            "tag":"local-dns",
            "address":"local",
            "detour":"direct-out"
         }
      ],
      "rules":[
         {
            "outbound":"any",
            "server":"local-dns"
         }
      ]
   },
   "inbounds":[
      {
         "type":"tun",
         "interface_name":"tun0",
         "domain_strategy":"ipv4_only",
         "inet4_address":"172.16.250.1/30",
         "auto_route":false,
         "strict_route":false,
         "sniff":true
      },
      {
         "tag":"socks-in",
         "type":"socks",
         "listen":"0.0.0.0",
         "listen_port":9999
      }
   ],
   "outbounds":[
      {
         "type":"direct",
         "tag":"direct-out"
      },
      {
         "type":"vless",
         "tag":"vless-out",
         "server":"*******************",
         "server_port":443,
         "uuid":"f24482ee-61a2-5331-a27d-37d0e7ac2606",
         "flow":"xtls-rprx-vision",
         "tls":{
            "enabled":true,
            "insecure":false,
            "server_name":"www.microsoft.com",
            "utls":{
               "enabled":true,
               "fingerprint":"chrome"
            },
            "reality":{
               "enabled":true,
               "public_key":"fW28ZFjyv**********************",
               "short_id":"ec5**************"
            }
         }
      },
      {
         "type":"socks",
         "tag":"socks-out",
         "server":"12.54.160.10",
         "server_port":443,
         "version":"5",
         "username":"god",
         "password":"fz0964321977",
         "udp_over_tcp":true
      },
      {
         "tag":"warp-amneziawg-out",
         "type":"direct",
         "bind_interface":"warp"
      },
      {
         "type":"dns",
         "tag":"dns-out"
      }
   ],
   "route":{
      "rules":[
         {
            "rule_set":"rkn",
            "outbound":"vless-out"
         },
         {
            "inbound":[
               "socks-in"
            ],
            "outbound":"vless-out"
         },
         {
            "source_ip_cidr":[
               "192.168.1.217"
            ],
            "outbound":"warp-amneziawg-out"
         },
         {
            "rule_set":"instagram",
            "outbound":"vless-out"
         },
         {
            "rule_set":"unavailable-in-russia",
            "outbound":"vless-out"
         },
         {
            "rule_set":"netflix",
            "outbound":"socks-out"
         },
         {
            "domain_suffix":[
               "amd.com",
               "apple.com",
               "ifconfig.me",
               "ipinfo.io",
               "google.com",
               "googleapis.com"
            ],
            "outbound":"warp-amneziawg-out"
         },
         {
            "ip_cidr":[
               "64.233.160.0/19",
               "74.125.0.0/16",
               "142.250.0.0/15",
               "172.217.0.0/16",
               "173.194.0.0/16",
               "209.85.128.0/17",
               "216.58.192.0/19"
            ],
            "outbound":"socks-out"
         },
         {
            "protocol":"dns",
            "outbound":"dns-out"
         }
      ],
      "rule_set":[
         {
            "tag":"netflix",
            "type":"remote",
            "format":"binary",
            "url":"https://github.com/vernette/rulesets/raw/refs/heads/master/srs/netflix.srs",
            "download_detour":"direct-out"
         },
         {
            "tag":"instagram",
            "type":"remote",
            "format":"binary",
            "url":"https://github.com/vernette/rulesets/raw/refs/heads/master/srs/instagram.srs",
            "download_detour":"direct-out"
         },
         {
            "tag":"unavailable-in-russia",
            "type":"remote",
            "format":"binary",
            "url":"https://github.com/vernette/rulesets/raw/refs/heads/master/srs/unavailable-in-russia.srs",
            "download_detour":"direct-out"
         },
         {
            "tag":"rkn",
            "type":"remote",
            "format":"binary",
            "url":"http://github.com/vernette/rulesets/raw/refs/heads/master/srs/rkn.srs",
            "download_detour":"direct-out"
         }
      ],
      "auto_detect_interface":true
   }
}